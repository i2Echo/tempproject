/*!
 * formeo - undefined
 * Version: 0.7.17
 * Author: undefined
 */
(function(t){function g(I){if(e[I])return e[I].exports;var l=e[I]={i:I,l:!1,exports:{}};return t[I].call(l.exports,l,l.exports,g),l.l=!0,l.exports}var e={};return g.m=t,g.c=e,g.i=function(I){return I},g.d=function(I,l,c){g.o(I,l)||Object.defineProperty(I,l,{configurable:!1,enumerable:!0,get:c})},g.n=function(I){var l=I&&I.__esModule?function(){return I['default']}:function(){return I};return g.d(l,'a',l),l},g.o=function(I,l){return Object.prototype.hasOwnProperty.call(I,l)},g.p='/assets/',g(g.s=24)})([function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _row = __webpack_require__(/*! ../components/row */ 15);\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _column = __webpack_require__(/*! ../components/column */ 12);\n\nvar _column2 = _interopRequireDefault(_column);\n\nvar _field = __webpack_require__(/*! ../components/field */ 14);\n\nvar _field2 = _interopRequireDefault(_field);\n\nvar _animation = __webpack_require__(/*! ./animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _data2 = __webpack_require__(/*! ./data */ 3);\n\nvar _utils = __webpack_require__(/*! ./utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar DOM = function () {\n  function DOM() {\n    _classCallCheck(this, DOM);\n\n    this.stages = new Map();\n    this.rows = new Map();\n    this.columns = new Map();\n    this.fields = new Map();\n    this.styleSheet = function () {\n      var style = document.createElement(\'style\');\n      style.setAttribute(\'media\', \'screen\');\n      style.setAttribute(\'type\', \'text/css\');\n      style.appendChild(document.createTextNode(\'\'));\n      document.head.appendChild(style);\n      return style.sheet;\n    }();\n  }\n\n  DOM.prototype.processTagName = function processTagName(elem) {\n    var tagName = void 0;\n    if (typeof elem === \'string\') {\n      tagName = elem;\n      elem = { tag: tagName };\n    }\n    if (elem.attrs) {\n      var tag = elem.attrs.tag;\n      if (tag) {\n        var selectedTag = tag.filter(function (t) {\n          return t.selected === true;\n        });\n        if (selectedTag.length) {\n          tagName = selectedTag[0].value;\n        }\n      }\n    }\n\n    elem.tag = tagName || elem.tag;\n\n    return elem;\n  };\n\n  DOM.prototype.create = function create(elem) {\n    var isPreview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    elem = this.processTagName(elem);\n    var _this = this;\n    var contentType = void 0;\n    var _elem = elem,\n        tag = _elem.tag;\n\n    var processed = [];\n    var i = void 0;\n    var wrap = {\n      tag: \'div\',\n      attrs: {},\n      className: [_helpers2.default.get(elem, \'config.inputWrap\') || \'f-field-group\'],\n      content: [],\n      config: {}\n    };\n    var requiredMark = {\n      tag: \'span\',\n      className: \'text-error\',\n      content: \'*\'\n    };\n    var element = document.createElement(tag);\n    var required = _helpers2.default.get(elem, \'attrs.required\');\n\n    var appendContent = {\n      string: function string(content) {\n        element.innerHTML += content;\n      },\n      object: function object(content) {\n        return element.appendChild(_this.create(content));\n      },\n      node: function node(content) {\n        return element.appendChild(content);\n      },\n      array: function array(content) {\n        for (var _i = 0; _i < content.length; _i++) {\n          contentType = _this.contentType(content[_i]);\n          appendContent[contentType](content[_i]);\n        }\n      },\n      function: function _function(content) {\n        content = content();\n        contentType = _this.contentType(content);\n        appendContent[contentType](content);\n      },\n      undefined: function undefined() {\n        return null;\n      }\n    };\n\n    processed.push(\'tag\');\n\n    if (elem.className) {\n      var _elem2 = elem,\n          className = _elem2.className;\n\n      elem.attrs = Object.assign({}, elem.attrs, { className: className });\n      delete elem.className;\n    }\n\n    if (elem.options) {\n      var _elem3 = elem,\n          options = _elem3.options;\n\n      options = this.processOptions(options, elem, isPreview);\n      if (this.holdsContent(element) && tag !== \'button\') {\n        appendContent.array.call(this, options);\n        delete elem.content;\n      } else {\n        _helpers2.default.forEach(options, function (option) {\n          wrap.content.push(_this.create(option, isPreview));\n        });\n\n        if (elem.attrs.className) {\n          wrap.className = elem.attrs.className;\n        }\n\n        wrap.config = Object.assign({}, elem.config);\n        wrap.className.push = _helpers2.default.get(elem, \'attrs.className\');\n\n        if (required) {\n          wrap.attrs.required = required;\n        }\n\n        return this.create(wrap, isPreview);\n      }\n\n      processed.push(\'options\');\n    }\n\n    if (elem.attrs) {\n      _this.processAttrs(elem, element, isPreview);\n      processed.push(\'attrs\');\n    }\n\n    if (elem.config) {\n      var editablePreview = elem.config.editable && isPreview;\n      if (elem.config.label && tag !== \'button\') {\n        var label = void 0;\n\n        if (isPreview) {\n          label = _this.label(elem, \'config.label\');\n        } else {\n          label = _this.label(elem);\n        }\n\n        if (!elem.config.hideLabel) {\n          if (_this.labelAfter(elem)) {\n            wrap.className = \'f-\' + elem.attrs.type;\n\n            label.insertBefore(element, label.firstChild);\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n          } else {\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n            wrap.content.push(element);\n          }\n        } else if (editablePreview) {\n          element.contentEditable = true;\n        }\n      } else if (editablePreview) {\n        element.contentEditable = true;\n      }\n\n      processed.push(\'config\');\n    }\n\n    if (elem.content) {\n      contentType = _this.contentType(elem.content);\n      appendContent[contentType].call(this, elem.content);\n      processed.push(\'content\');\n    }\n\n    if (elem.dataset) {\n      for (var _data in elem.dataset) {\n        if (elem.dataset.hasOwnProperty(_data)) {\n          element.dataset[_data] = elem.dataset[_data];\n        }\n      }\n      processed.push(\'dataset\');\n    }\n\n    if (elem.action) {\n      var actions = Object.keys(elem.action);\n\n      var _loop = function _loop() {\n        var event = actions[i];\n        var action = elem.action[event];\n        if (typeof action === \'string\') {\n          action = eval(\'(\' + elem.action[event] + \')\');\n        }\n        var useCaptureEvts = [\'focus\', \'blur\'];\n\n        if (event === \'onRender\') {\n          setTimeout(function () {\n            action(element);\n          }, 10);\n        } else {\n          var useCapture = _helpers2.default.inArray(event, useCaptureEvts);\n          element.addEventListener(event, action, useCapture);\n        }\n      };\n\n      for (i = actions.length - 1; i >= 0; i--) {\n        _loop();\n      }\n      processed.push(\'action\');\n    }\n\n    var fieldDataBindings = [\'stage\', \'row\', \'column\', \'field\'];\n\n    if (_helpers2.default.inArray(elem.fType, fieldDataBindings)) {\n      var dataType = elem.fType + \'Data\';\n      element[dataType] = elem;\n      if (dataType === \'fieldData\') {\n        element.panelNav = elem.panelNav;\n      }\n      processed.push(dataType);\n    }\n\n    var remaining = _helpers2.default.subtract(processed, Object.keys(elem));\n    for (i = remaining.length - 1; i >= 0; i--) {\n      element[remaining[i]] = elem[remaining[i]];\n    }\n\n    if (wrap.content.length) {\n      element = this.create(wrap);\n    }\n\n    return element;\n  };\n\n  DOM.prototype.icon = function icon(name) {\n    var iconLink = document.getElementById(\'icon-\' + name);\n    var icon = void 0;\n\n    if (iconLink) {\n      icon = \'<svg class="svg-icon icon-\' + name + \'"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-\' + name + \'"></use></svg>\';\n    } else {\n      icon = \'<span class="glyphicon glyphicon-\' + name + \'" aria-hidden="true"></span>\';\n    }\n    return icon;\n  };\n\n  DOM.prototype.processAttrs = function processAttrs(elem, element, isPreview) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    delete attrs.tag;\n\n    if (!isPreview) {\n      if (!attrs.name && this.isInput(elem.tag)) {\n        element.setAttribute(\'name\', (0, _utils.uuid)(elem));\n      }\n    }\n\n    Object.keys(attrs).forEach(function (attr) {\n      var name = _helpers2.default.safeAttrName(attr);\n      var value = attrs[attr] || \'\';\n\n      if (Array.isArray(value)) {\n        if (_typeof(value[0]) === \'object\') {\n          var selected = value.filter(function (t) {\n            return t.selected === true;\n          });\n          value = selected.length ? selected[0].value : value[0].value;\n        } else {\n          value = value.join(\' \');\n        }\n      }\n\n      if (value) {\n        element.setAttribute(name, value);\n      }\n    });\n  };\n\n  DOM.prototype.checkbox = function checkbox(elem, isPreview) {\n    var label = _helpers2.default.get(elem, \'elem.config.label\') || \'\';\n    var checkable = {\n      tag: \'span\',\n      className: \'checkable\',\n      content: label\n    };\n    var optionLabel = {\n      tag: \'label\',\n      attrs: {},\n      content: [elem, checkable]\n    };\n\n    return optionLabel;\n  };\n\n  DOM.prototype.processOptions = function processOptions(options, elem, isPreview) {\n    var action = elem.action,\n        attrs = elem.attrs;\n\n    var fieldType = attrs.type || elem.tag;\n    var id = attrs.id || elem.id;\n\n    var optionMap = function optionMap(option, i) {\n      var defaultInput = function defaultInput() {\n        var input = {\n          tag: \'input\',\n          attrs: {\n            id: id,\n            type: fieldType,\n            value: option.value || \'\'\n          },\n          action: action\n        };\n        var checkable = {\n          tag: \'span\',\n          className: \'checkable\',\n          content: option.label\n        };\n        var optionLabel = {\n          tag: \'label\',\n          attrs: {},\n          config: {\n            inputWrap: \'form-check\'\n          },\n          content: [option.label]\n        };\n        var inputWrap = {\n          tag: \'div\',\n          content: [optionLabel],\n          className: [\'f-\' + fieldType]\n        };\n\n        if (elem.attrs.className) {\n          elem.config.inputWrap = elem.attrs.className;\n        }\n\n        if (elem.config.inline) {\n          inputWrap.className.push(\'f-${fieldType}-inline\');\n        }\n\n        if (option.selected) {\n          input.attrs.checked = true;\n        }\n\n        if (isPreview) {\n          input.fMap = \'options[\' + i + \'].selected\';\n          optionLabel.attrs.contenteditable = true;\n          optionLabel.fMap = \'options[\' + i + \'].label\';\n          checkable.content = undefined;\n          var checkableLabel = {\n            tag: \'label\',\n            content: [input, checkable]\n          };\n          inputWrap.content.unshift(checkableLabel);\n        } else {\n          input.attrs.name = id;\n          optionLabel.content = checkable;\n          optionLabel = dom.create(optionLabel);\n          input = dom.create(input);\n          optionLabel.insertBefore(input, optionLabel.firstChild);\n          inputWrap.content = optionLabel;\n        }\n\n        return inputWrap;\n      };\n\n      var optionMarkup = {\n        select: function select() {\n          return {\n            tag: \'option\',\n            attrs: option,\n            content: option.label\n          };\n        },\n        button: function button(option) {\n          var type = option.type,\n              label = option.label,\n              className = option.className,\n              id = option.id;\n\n          return Object.assign({}, elem, {\n            attrs: {\n              type: type\n            },\n            className: className,\n            id: id || (0, _utils.uuid)(),\n            options: undefined,\n            content: label,\n            action: elem.action\n          });\n        },\n        checkbox: defaultInput,\n        radio: defaultInput\n      };\n\n      return optionMarkup[fieldType](option);\n    };\n\n    var mappedOptions = options.map(optionMap);\n\n    return mappedOptions;\n  };\n\n  DOM.prototype.holdsContent = function holdsContent(element) {\n    return element.outerHTML.indexOf(\'/\') !== -1;\n  };\n\n  DOM.prototype.isBlockInput = function isBlockInput(element) {\n    return !this.isInput(element) && this.holdsContent(element);\n  };\n\n  DOM.prototype.isInput = function isInput(tag) {\n    if (typeof tag !== \'string\') {\n      tag = tag.tagName;\n    }\n    return [\'input\', \'textarea\', \'select\'].indexOf(tag) !== -1;\n  };\n\n  DOM.prototype.parsedHtml = function parsedHtml(html) {\n    var escapeElement = document.createElement(\'textarea\');\n    escapeElement.innerHTML = html;\n    return escapeElement.textContent;\n  };\n\n  DOM.prototype.labelAfter = function labelAfter(elem) {\n    var type = _helpers2.default.get(elem, \'attrs.type\');\n    var isCB = type === \'checkbox\' || type === \'radio\';\n    return isCB || _helpers2.default.get(elem, \'config.labelAfter\');\n  };\n\n  DOM.prototype.label = function label(elem, fMap) {\n    var fieldLabel = void 0;\n\n    if (typeof elem.config.label === \'string\') {\n      fieldLabel = {\n        tag: \'label\',\n        attrs: {},\n        className: [],\n        action: {},\n        config: {},\n        content: elem.config.label\n      };\n    } else {\n      fieldLabel = elem.config.label;\n    }\n\n    if (this.labelAfter(elem)) {\n      var checkable = {\n        tag: \'span\',\n        className: \'checkable\',\n        content: elem.config.label\n      };\n      fieldLabel.content = checkable;\n    }\n\n    if (elem.id) {\n      fieldLabel.attrs.for = elem.id;\n    }\n\n    if (typeof fieldLabel.config.editable !== \'undefined\') {\n      fieldLabel.attrs.contenteditable = fieldLabel.config.editable;\n    } else if (fMap) {\n      delete fieldLabel.attrs.for;\n      fieldLabel.attrs.contenteditable = true;\n      fieldLabel.fMap = fMap;\n    }\n\n    return dom.create(fieldLabel);\n  };\n\n  DOM.prototype.contentType = function contentType(content) {\n    var type = typeof content === \'undefined\' ? \'undefined\' : _typeof(content);\n    if (content instanceof Node || content instanceof HTMLElement) {\n      type = \'node\';\n    } else if (Array.isArray(content)) {\n      type = \'array\';\n    }\n\n    return type;\n  };\n\n  DOM.prototype.getStyle = function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  };\n\n  DOM.prototype.getElement = function getElement(elem) {\n    var getElement = {\n      node: function node() {\n        return elem;\n      },\n      object: function object() {\n        return document.getElementById(elem.id);\n      },\n      string: function string() {\n        return document.getElementById(elem);\n      }\n    };\n    var type = this.contentType(elem);\n    var element = getElement[type]();\n\n    return element;\n  };\n\n  DOM.prototype.empty = function empty(elem) {\n    while (elem.firstChild) {\n      this.remove(elem.firstChild);\n    }\n    return elem;\n  };\n\n  DOM.prototype.actionButtons = function actionButtons(id) {\n    var item = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'column\';\n\n    var _this = this;\n    var tag = item === \'column\' ? \'li\' : \'div\';\n    var btnWrap = {\n      tag: \'div\',\n      className: \'action-btn-wrap\'\n    };\n    var actions = {\n      tag: tag,\n      className: item + \'-actions group-actions\',\n      action: {\n        mouseenter: function mouseenter(evt) {\n          var element = document.getElementById(id);\n          element.classList.add(\'hovering-\' + item);\n          evt.target.parentReference = element;\n        },\n        mouseleave: function mouseleave(evt) {\n          evt.target.parentReference.classList.remove(\'hovering-\' + item);\n        },\n        onRender: function onRender(elem) {\n          var buttons = elem.getElementsByTagName(\'button\');\n          var btnWidth = parseInt(_this.getStyle(buttons[0], \'width\')) + 1;\n          var expandedWidth = buttons.length * btnWidth + \'px\';\n          var woh = item === \'row\' ? \'height\' : \'width\';\n          var rules = [[\'.hovering-\' + item + \' .\' + item + \'-actions\', [woh, expandedWidth, true]]];\n\n          _this.insertRule(rules);\n        }\n      }\n    };\n\n    btnWrap.content = this.config[item + \'s\'].actionButtons.buttons;\n    actions.content = btnWrap;\n\n    return actions;\n  };\n\n  DOM.prototype.clone = function clone(elem, parent) {\n    var _this = this;\n    var id = elem.id,\n        fType = elem.fType;\n\n    var dataClone = (0, _utils.clone)(_data2.formData[fType].get(id));\n    var newIndex = _helpers2.default.indexOfNode(elem) + 1;\n    var noParent = false;\n    dataClone.id = (0, _utils.uuid)();\n    _data2.formData[fType].set(dataClone.id, dataClone);\n    if (!parent) {\n      parent = elem.parentElement;\n      noParent = true;\n    }\n    var cloneType = {\n      rows: function rows() {\n        dataClone.columns = [];\n        var stage = _this.activeStage;\n        var newRow = _this.addRow(null, dataClone.id);\n        var columns = elem.getElementsByClassName(\'stage-columns\');\n\n        stage.insertBefore(newRow, stage.childNodes[newIndex]);\n        _helpers2.default.forEach(columns, function (column) {\n          return _this.clone(column, newRow);\n        });\n        _data2.data.saveRowOrder();\n        return newRow;\n      },\n      columns: function columns() {\n        dataClone.fields = [];\n        var newColumn = _this.addColumn(parent.id, dataClone.id);\n        parent.insertBefore(newColumn, parent.childNodes[newIndex]);\n        var fields = elem.getElementsByClassName(\'stage-fields\');\n\n        if (noParent) {\n          dom.columnWidths(parent);\n        }\n        _helpers2.default.forEach(fields, function (field) {\n          return _this.clone(field, newColumn);\n        });\n        return newColumn;\n      },\n      fields: function fields() {\n        var newField = _this.addField(parent.id, dataClone.id);\n        parent.insertBefore(newField, parent.childNodes[newIndex]);\n        return newField;\n      }\n    };\n\n    return cloneType[fType]();\n  };\n\n  DOM.prototype.removeEmpty = function removeEmpty(element) {\n    var _this = this;\n    var parent = element.parentElement;\n    var type = element.fType;\n    var children = void 0;\n    _this.remove(element);\n    children = parent.getElementsByClassName(\'stage-\' + type);\n    if (!children.length) {\n      if (parent.fType !== \'stages\') {\n        return _this.removeEmpty(parent);\n      } else {\n        this.emptyClass(parent);\n      }\n    }\n    if (type === \'columns\') {\n      _this.columnWidths(parent);\n    }\n    return _data2.data.save();\n  };\n\n  DOM.prototype.remove = function remove(elem) {\n    var fType = elem.fType,\n        id = elem.id;\n\n    if (fType) {\n      var parent = elem.parentElement;\n      var pData = _data2.formData[parent.fType].get(parent.id);\n      _data2.data.empty(fType, id);\n      this[fType].delete(id);\n      _data2.formData[fType].delete(id);\n      (0, _utils.remove)(pData[fType], id);\n    }\n    return elem.parentElement.removeChild(elem);\n  };\n\n  DOM.prototype.removeClasses = function removeClasses(nodeList, className) {\n    var _this = this;\n    var removeClass = {\n      string: function string(elem) {\n        elem.className = elem.className.replace(className, \'\');\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.remove(className[i]);\n        }\n      }\n    };\n    removeClass.object = removeClass.string;\n    _helpers2.default.forEach(nodeList, removeClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.addClasses = function addClasses(nodeList, className) {\n    var _this = this;\n    var addClass = {\n      string: function string(elem) {\n        elem.classList.add(className);\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.add(className[i]);\n        }\n      }\n    };\n    _helpers2.default.forEach(nodeList, addClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.fieldOrderClass = function fieldOrderClass(column) {\n    var fields = column.querySelectorAll(\'.stage-fields\');\n\n    if (fields.length) {\n      this.removeClasses(fields, [\'first-field\', \'last-field\']);\n      fields[0].classList.add(\'first-field\');\n      fields[fields.length - 1].classList.add(\'last-field\');\n    }\n  };\n\n  DOM.prototype.columnWidths = function columnWidths(row) {\n    var _this = this;\n    var fields = [];\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    if (!columns.length) {\n      return;\n    }\n    var width = parseFloat((100 / columns.length).toFixed(1)) / 1;\n    var bsGridRegEx = /\\bcol-\\w+-\\d+/g;\n\n    _this.removeClasses(columns, bsGridRegEx);\n\n    _helpers2.default.forEach(columns, function (column) {\n      var columnData = _data2.formData.columns.get(column.id);\n      fields.push.apply(fields, columnData.fields);\n\n      var colWidth = (0, _utils.numToPercent)(width);\n\n      column.style.width = colWidth;\n      column.style.float = \'left\';\n      columnData.config.width = colWidth;\n      column.dataset.colWidth = colWidth;\n      document.dispatchEvent(_events2.default.columnResized);\n    });\n\n    setTimeout(function () {\n      fields.forEach(function (fieldID) {\n        var field = dom.fields.get(fieldID);\n        if (field.instance.panels) {\n          field.instance.panels.nav.refresh();\n        }\n      });\n    }, 250);\n\n    dom.updateColumnPreset(row);\n  };\n\n  DOM.prototype.formGroup = function formGroup(content) {\n    var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'\';\n\n    return {\n      tag: \'div\',\n      className: [\'f-field-group\', className],\n      content: content\n    };\n  };\n\n  DOM.prototype.columnPresetControl = function columnPresetControl(rowID) {\n    var _this2 = this;\n\n    var _this = this;\n    var rowData = _data2.formData.rows.get(rowID);\n    var layoutPreset = {\n      tag: \'select\',\n      attrs: {\n        ariaLabel: \'Define a column layout\',\n        className: \'column-preset\'\n      },\n      action: {\n        change: function change(e) {\n          var dRow = _this2.rows.get(rowID);\n          _this.setColumnWidths(dRow.row, e.target.value);\n          _data2.data.save();\n        }\n      }\n    };\n    var pMap = new Map();\n    var custom = { value: \'custom\', label: \'Custom\' };\n\n    pMap.set(1, [{ value: \'100.0\', label: \'100%\' }]);\n    pMap.set(2, [{ value: \'50.0,50.0\', label: \'50 | 50\' }, { value: \'33.3,66.6\', label: \'33 | 66\' }, { value: \'66.6,33.3\', label: \'66 | 33\' }, custom]);\n    pMap.set(3, [{ value: \'33.3,33.3,33.3\', label: \'33 | 33 | 33\' }, { value: \'25.0,25.0,50.0\', label: \'25 | 25 | 50\' }, { value: \'50.0,25.0,25.0\', label: \'50 | 25 | 25\' }, { value: \'25.0,50.0,25.0\', label: \'25 | 50 | 25\' }, custom]);\n    pMap.set(4, [{ value: \'25.0,25.0,25.0,25.0\', label: \'25 | 25 | 25 | 25\' }, custom]);\n    pMap.set(\'custom\', [custom]);\n\n    if (rowData && rowData.columns.length) {\n      var columns = rowData.columns;\n      var pMapVal = pMap.get(columns.length);\n      layoutPreset.options = pMapVal || pMap.get(\'custom\');\n      var curVal = columns.map(function (columnID, i) {\n        var colData = _data2.formData.columns.get(columnID);\n        return colData.config.width.replace(\'%\', \'\');\n      }).join(\',\');\n      if (pMapVal) {\n        pMapVal.forEach(function (val, i) {\n          var options = layoutPreset.options;\n          if (val.value === curVal) {\n            options[i].selected = true;\n          } else {\n            delete options[i].selected;\n            options[options.length - 1].selected = true;\n          }\n        });\n      }\n    } else {\n      layoutPreset.options = pMap.get(1);\n    }\n\n    return layoutPreset;\n  };\n\n  DOM.prototype.setColumnWidths = function setColumnWidths(row, widths) {\n    if (widths === \'custom\') {\n      return;\n    }\n    widths = widths.split(\',\');\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    _helpers2.default.forEach(columns, function (column, i) {\n      var percentWidth = widths[i] + \'%\';\n      column.dataset.colWidth = percentWidth;\n      column.style.width = percentWidth;\n      _data2.formData.columns.get(column.id).config.width = percentWidth;\n    });\n  };\n\n  DOM.prototype.updateColumnPreset = function updateColumnPreset(row) {\n    var _this = this;\n    var oldColumnPreset = row.querySelector(\'.column-preset\');\n    var rowEdit = oldColumnPreset.parentElement;\n    var columnPresetConfig = _this.columnPresetControl(row.id);\n    var newColumnPreset = _this.create(columnPresetConfig);\n\n    rowEdit.replaceChild(newColumnPreset, oldColumnPreset);\n    return columnPresetConfig;\n  };\n\n  DOM.prototype.coords = function coords(element) {\n    var elemPosition = element.getBoundingClientRect();\n    var bodyRect = document.body.getBoundingClientRect();\n\n    return {\n      pageX: elemPosition.left + elemPosition.width / 2,\n      pageY: elemPosition.top - bodyRect.top - elemPosition.height / 2\n    };\n  };\n\n  DOM.prototype.loadRows = function loadRows(stage) {\n    var _this3 = this;\n\n    if (!stage) {\n      stage = this.activeStage;\n    }\n\n    var rows = _data2.formData.stages.get(stage.id).rows;\n    return rows.forEach(function (rowID) {\n      var row = _this3.addRow(stage.id, rowID);\n      _this3.loadColumns(row);\n      dom.updateColumnPreset(row);\n      stage.appendChild(row);\n    });\n  };\n\n  DOM.prototype.loadColumns = function loadColumns(row) {\n    var _this4 = this;\n\n    var columns = _data2.formData.rows.get(row.id).columns;\n    columns.forEach(function (columnID) {\n      var column = _this4.addColumn(row.id, columnID);\n      _this4.loadFields(column);\n    });\n  };\n\n  DOM.prototype.loadFields = function loadFields(column) {\n    var _this5 = this;\n\n    var fields = _data2.formData.columns.get(column.id).fields;\n    fields.forEach(function (fieldID) {\n      return _this5.addField(column.id, fieldID);\n    });\n    this.fieldOrderClass(column);\n  };\n\n  DOM.prototype.createColumn = function createColumn(evt) {\n    var fType = evt.from.fType;\n    var field = fType === \'columns\' ? evt.item : new _field2.default(evt.item.id);\n    var column = new _column2.default();\n\n    field.classList.add(\'first-field\');\n    column.appendChild(field);\n    _data2.formData.columns.get(column.id).fields.push(field.id);\n    return column;\n  };\n\n  DOM.prototype.processColumnConfig = function processColumnConfig(columnData) {\n    if (columnData.className) {\n      columnData.className.push(\'f-render-column\');\n    }\n    var colWidth = columnData.config.width || \'100%\';\n    columnData.style = \'width: \' + colWidth;\n    return columnData;\n  };\n\n  DOM.prototype.renderForm = function renderForm(renderTarget) {\n    var _this6 = this;\n\n    this.empty(renderTarget);\n    var renderData = _data2.data.prepData;\n    var renderCount = document.getElementsByClassName(\'formeo-render\').length;\n    var content = Object.values(renderData.stages).map(function (stageData) {\n      var rows = stageData.rows,\n          stage = _objectWithoutProperties(stageData, [\'rows\']);\n\n      rows = rows.map(function (rowID) {\n        var _renderData$rows$rowI = renderData.rows[rowID],\n            columns = _renderData$rows$rowI.columns,\n            row = _objectWithoutProperties(_renderData$rows$rowI, [\'columns\']);\n\n        var cols = columns.map(function (columnID) {\n          var col = _this6.processColumnConfig(renderData.columns[columnID]);\n          var fields = col.fields.map(function (fieldID) {\n            return renderData.fields[fieldID];\n          });\n          col.tag = \'div\';\n          col.content = fields;\n          return col;\n        });\n        row.tag = \'div\';\n        row.content = [cols];\n        var rowData = (0, _utils.clone)(row);\n        if (row.config.inputGroup) {\n          var removeButton = {\n            tag: \'button\',\n            className: \'remove-input-group\',\n            content: dom.icon(\'remove\'),\n            action: {\n              mouseover: function mouseover(e) {\n                e.target.parentElement.classList.add(\'will-remove\');\n              },\n              mouseleave: function mouseleave(e) {\n                e.target.parentElement.classList.remove(\'will-remove\');\n              },\n              click: function click(e) {\n                var currentInputGroup = e.target.parentElement;\n                var iGWrap = currentInputGroup.parentElement;\n                var iG = iGWrap.getElementsByClassName(\'f-input-group\');\n                if (iG.length > 1) {\n                  dom.remove(currentInputGroup);\n                } else {\n                  console.log(\'Need at least 1 group\');\n                }\n              }\n            }\n          };\n          rowData.content.unshift(removeButton);\n          var inputGroupWrap = {\n            tag: \'div\',\n            id: (0, _utils.uuid)(),\n            className: \'f-input-group-wrap\'\n          };\n          if (rowData.attrs.className) {\n            if (typeof rowData.attrs.className === \'string\') {\n              rowData.attrs.className += \' f-input-group\';\n            } else {\n              rowData.attrs.className.push(\'f-input-group\');\n            }\n          }\n          var addButton = {\n            tag: \'button\',\n            attrs: {\n              className: \'add-input-group btn pull-right\',\n              type: \'button\'\n            },\n            content: \'Add +\',\n            action: {\n              click: function click(e) {\n                var fInputGroup = e.target.parentElement;\n                var newRow = dom.create(rowData);\n                fInputGroup.insertBefore(newRow, fInputGroup.lastChild);\n              }\n            }\n          };\n\n          row.content.unshift(removeButton);\n          inputGroupWrap.content = [rowData, addButton];\n          row = inputGroupWrap;\n        }\n        return row;\n      });\n      stage.tag = \'div\';\n      stage.content = rows;\n      stage.className = \'f-stage\';\n      return stage;\n    });\n\n    var config = {\n      tag: \'div\',\n      id: \'formeo-rendered-\' + renderCount,\n      className: \'formeo-render formeo\',\n      content: content\n    };\n\n    renderTarget.appendChild(this.create(config));\n  };\n\n  DOM.prototype.clearForm = function clearForm(evt) {\n    var _this7 = this;\n\n    this.stages.forEach(function (dStage) {\n      return _this7.clearStage(dStage.stage);\n    });\n  };\n\n  DOM.prototype.clearStage = function clearStage(stage) {\n    stage.classList.add(\'removing-all-fields\');\n\n    var resetStage = function resetStage() {\n      dom.empty(stage);\n      stage.classList.remove(\'removing-all-fields\');\n      _data2.data.save();\n      dom.emptyClass(stage);\n      _animation2.default.slideDown(stage, 300);\n    };\n\n    _animation2.default.slideUp(stage, 600, resetStage);\n  };\n\n  DOM.prototype.addRow = function addRow(stageID, rowID) {\n    var row = new _row2.default(rowID);\n    var stage = stageID ? this.stages.get(stageID).stage : this.activeStage;\n    stage.appendChild(row);\n    _data2.data.saveRowOrder(stage);\n    this.emptyClass(stage);\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'added\',\n        changed: \'row\',\n        oldValue: undefined,\n        newValue: _data2.formData.rows.get(row.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return row;\n  };\n\n  DOM.prototype.addColumn = function addColumn(rowID, columnID) {\n    var column = new _column2.default(columnID);\n    var row = this.rows.get(rowID).row;\n    row.appendChild(column);\n    _data2.data.saveColumnOrder(row);\n    this.emptyClass(row);\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'added\',\n        changed: \'column\',\n        oldValue: undefined,\n        newValue: _data2.formData.columns.get(column.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return column;\n  };\n\n  DOM.prototype.toggleSortable = function toggleSortable(elem, state) {\n    var fType = elem.fType;\n\n    if (!fType) {\n      return;\n    }\n    var pFtype = elem.parentElement.fType;\n    var sortable = dom[fType].get(elem.id).sortable;\n    if (state === undefined) {\n      state = !sortable.option(\'disabled\');\n    }\n    sortable.option(\'disabled\', state);\n    if (pFtype && _helpers2.default.inArray(pFtype, [\'rows\', \'columns\', \'stages\'])) {\n      this.toggleSortable(elem.parentElement, state);\n    }\n  };\n\n  DOM.prototype.addField = function addField(columnID, fieldID) {\n    var field = new _field2.default(fieldID);\n    if (columnID) {\n      var column = this.columns.get(columnID).column;\n      column.appendChild(field);\n      _data2.data.saveFieldOrder(column);\n      this.emptyClass(column);\n    }\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'add\',\n        changed: \'field\',\n        oldValue: undefined,\n        newValue: _data2.formData.fields.get(field.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return field;\n  };\n\n  DOM.prototype.emptyClass = function emptyClass(elem) {\n    var type = elem.fType;\n    if (type) {\n      var childMap = new Map();\n      childMap.set(\'rows\', \'columns\');\n      childMap.set(\'columns\', \'fields\');\n      childMap.set(\'stages\', \'rows\');\n      var children = elem.getElementsByClassName(\'stage-\' + childMap.get(type));\n      elem.classList.toggle(\'empty-\' + type, !children.length);\n    }\n  };\n\n  DOM.prototype.h = function h(tag, attrs, content) {\n    return this.create({ tag: tag, attrs: attrs, content: content });\n  };\n\n  DOM.prototype.insertRule = function insertRule(rules) {\n    var styleSheet = this.styleSheet;\n    var rulesLength = styleSheet.cssRules.length;\n    for (var i = 0, rl = rules.length; i < rl; i++) {\n      var j = 1;\n      var rule = rules[i];\n      var selector = rules[i][0];\n      var propStr = \'\';\n\n      if (Object.prototype.toString.call(rule[1][0]) === \'[object Array]\') {\n        rule = rule[1];\n        j = 0;\n      }\n\n      for (var pl = rule.length; j < pl; j++) {\n        var prop = rule[j];\n        var important = prop[2] ? \' !important\' : \'\';\n        propStr += prop[0] + \':\' + prop[1] + important + \';\';\n      }\n\n      return styleSheet.insertRule(selector + \' { \' + propStr + \' }\', rulesLength);\n    }\n  };\n\n  _createClass(DOM, [{\n    key: \'setConfig\',\n    set: function set(userConfig) {\n      var _this = this;\n      var icon = _this.icon;\n      var btnTemplate = {\n        tag: \'button\',\n        content: [],\n        attrs: {\n          className: [\'btn\'],\n          type: \'button\'\n        }\n      };\n\n      var handle = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: [icon(\'move\'), icon(\'handle\')],\n        attrs: {\n          className: [\'item-handle\']\n        },\n        meta: {\n          id: \'handle\'\n        }\n      });\n\n      var edit = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'edit\'),\n        attrs: {\n          className: [\'item-edit-toggle\']\n        },\n        meta: {\n          id: \'edit\'\n        },\n        action: {\n          click: function click(evt) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            var fType = element.fType;\n\n            fType = fType.replace(/s$/, \'\');\n            var editClass = \'editing-\' + fType;\n            var editWindow = element.querySelector(\'.\' + fType + \'-edit\');\n            _animation2.default.slideToggle(editWindow, 333);\n            if (fType === \'field\') {\n              _animation2.default.slideToggle(editWindow.nextSibling, 333);\n              element.parentElement.classList.toggle(\'column-\' + editClass);\n            }\n            element.classList.toggle(editClass);\n          }\n        }\n      });\n\n      var remove = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'remove\'),\n        attrs: {\n          className: [\'item-remove\']\n        },\n        meta: {\n          id: \'remove\'\n        },\n        action: {\n          click: function click(evt, id) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            _animation2.default.slideUp(element, 250, function (elem) {\n              _this.removeEmpty(elem);\n            });\n          }\n        }\n      });\n\n      var cloneItem = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'copy\'),\n        attrs: {\n          className: [\'item-clone\']\n        },\n        meta: {\n          id: \'clone\'\n        },\n        action: {\n          click: function click(evt) {\n            _this.clone((0, _utils.closestFtype)(evt.target));\n            _data2.data.save();\n          }\n        }\n      });\n\n      var defaultConfig = {\n        rows: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(handle), edit, cloneItem, remove],\n            order: [],\n            disabled: []\n          }\n        },\n        columns: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(cloneItem), (0, _utils.clone)(handle), remove],\n            order: [],\n            disabled: []\n          }\n        },\n        fields: {\n          actionButtons: {\n            buttons: [handle, edit, cloneItem, remove],\n            order: [],\n            disabled: []\n          }\n        }\n      };\n\n      defaultConfig.rows.actionButtons.buttons[0].content = [icon(\'move-vertical\'), icon(\'handle\')];\n      defaultConfig.columns.actionButtons.buttons[0].content = [icon(\'copy\'), icon(\'handle\')];\n\n      var mergedConfig = _helpers2.default.merge(defaultConfig, userConfig);\n\n      Object.keys(mergedConfig).forEach(function (key) {\n        if (mergedConfig[key].actionButtons) {\n          var aButtons = mergedConfig[key].actionButtons;\n          var disabled = aButtons.disabled;\n          var buttons = aButtons.buttons;\n\n          aButtons.buttons = _helpers2.default.orderObjectsBy(buttons, aButtons.order, \'meta.id\');\n\n          aButtons.buttons = aButtons.buttons.filter(function (button) {\n            var metaId = _helpers2.default.get(button, \'meta.id\');\n            return !_helpers2.default.inArray(metaId, disabled);\n          });\n        }\n      });\n\n      if (mergedConfig.dir) {\n        this.dir = mergedConfig.dir;\n      }\n\n      this.config = mergedConfig;\n\n      return this.config;\n    }\n  }]);\n\n  return DOM;\n}();\n\nvar dom = new DOM();\n\nexports.default = dom;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RvbS5qcz9hOTZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBSb3cgZnJvbSAnLi4vY29tcG9uZW50cy9yb3cnO1xuaW1wb3J0IENvbHVtbiBmcm9tICcuLi9jb21wb25lbnRzL2NvbHVtbic7XG5pbXBvcnQgRmllbGQgZnJvbSAnLi4vY29tcG9uZW50cy9maWVsZCc7XG5pbXBvcnQgYW5pbWF0ZSBmcm9tICcuL2FuaW1hdGlvbic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhfSBmcm9tICcuL2RhdGEnO1xuaW1wb3J0IHt1dWlkLCBjbG9uZSwgbnVtVG9QZXJjZW50LCByZW1vdmUsIGNsb3Nlc3RGdHlwZX0gZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogR2VuZXJhbCBwdXJwb3NlIG1hcmt1cCB1dGlsaXRpZXMgYW5kIGdlbmVyYXRvci5cbiAqL1xuY2xhc3MgRE9NIHtcbiAgLyoqXG4gICAqIFNldCBkZWZhdWx0cywgc3RvcmUgcmVmZXJlbmNlcyB0byBrZXkgZWxlbWVudHNcbiAgICogbGlrZSBzdGFnZXMsIHJvd3MsIGNvbHVtbnMgZXRjXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBNYWludGFpbiByZWZlcmVuY2VzIHRvIERPTSBub2Rlc1xuICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgdG8ga2VlcCBkb2luZyBnZXRFbGVtZW50QnlJZFxuICAgIHRoaXMuc3RhZ2VzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucm93cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmNvbHVtbnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5maWVsZHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zdHlsZVNoZWV0ID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCAnc2NyZWVuJyk7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIHJldHVybiBzdHlsZS5zaGVldDtcbiAgICB9KSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lcmdlcyBhIHVzZXIncyBjb25maWd1cmF0aW9uIHdpdGggZGVmYXVsdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHVzZXJDb25maWdcbiAgICogQHJldHVybiB7T2JqZWN0fSBjb25maWdcbiAgICovXG4gIHNldCBzZXRDb25maWcodXNlckNvbmZpZykge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBjb25zdCBpY29uID0gX3RoaXMuaWNvbjtcbiAgICBsZXQgYnRuVGVtcGxhdGUgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGNsYXNzTmFtZTogWydidG4nXSxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgbGV0IGhhbmRsZSA9IGgubWVyZ2UoT2JqZWN0LmFzc2lnbih7fSwgYnRuVGVtcGxhdGUpLCB7XG4gICAgICBjb250ZW50OiBbaWNvbignbW92ZScpLCBpY29uKCdoYW5kbGUnKV0sXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6IFsnaXRlbS1oYW5kbGUnXSxcbiAgICAgIH0sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGlkOiAnaGFuZGxlJ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGVkaXQgPSBoLm1lcmdlKE9iamVjdC5hc3NpZ24oe30sIGJ0blRlbXBsYXRlKSwge1xuICAgICAgY29udGVudDogaWNvbignZWRpdCcpLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2l0ZW0tZWRpdC10b2dnbGUnXSxcbiAgICAgIH0sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGlkOiAnZWRpdCdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNsb3Nlc3RGdHlwZShldnQudGFyZ2V0KTtcbiAgICAgICAgICBsZXQge2ZUeXBlfSA9IGVsZW1lbnQ7XG4gICAgICAgICAgZlR5cGUgPSBmVHlwZS5yZXBsYWNlKC9zJC8sICcnKTtcbiAgICAgICAgICBsZXQgZWRpdENsYXNzID0gJ2VkaXRpbmctJyArIGZUeXBlO1xuICAgICAgICAgIGxldCBlZGl0V2luZG93ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtmVHlwZX0tZWRpdGApO1xuICAgICAgICAgIGFuaW1hdGUuc2xpZGVUb2dnbGUoZWRpdFdpbmRvdywgMzMzKTtcbiAgICAgICAgICBpZiAoZlR5cGUgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICAgIGFuaW1hdGUuc2xpZGVUb2dnbGUoZWRpdFdpbmRvdy5uZXh0U2libGluZywgMzMzKTtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjb2x1bW4tJyArIGVkaXRDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShlZGl0Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVtb3ZlID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcbiAgICAgIGNvbnRlbnQ6IGljb24oJ3JlbW92ZScpLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2l0ZW0tcmVtb3ZlJ10sXG4gICAgICB9LFxuICAgICAgbWV0YToge1xuICAgICAgICBpZDogJ3JlbW92ZSdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IChldnQsIGlkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNsb3Nlc3RGdHlwZShldnQudGFyZ2V0KTtcbiAgICAgICAgICBhbmltYXRlLnNsaWRlVXAoZWxlbWVudCwgMjUwLCBlbGVtID0+IHtcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZUVtcHR5KGVsZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgY2xvbmVJdGVtID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcbiAgICAgIGNvbnRlbnQ6IGljb24oJ2NvcHknKSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGNsYXNzTmFtZTogWydpdGVtLWNsb25lJ10sXG4gICAgICB9LFxuICAgICAgbWV0YToge1xuICAgICAgICBpZDogJ2Nsb25lJ1xuICAgICAgfSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICBfdGhpcy5jbG9uZShjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCkpO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgICAgcm93czoge1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgY2xvbmUoaGFuZGxlKSxcbiAgICAgICAgICAgICAgZWRpdCxcbiAgICAgICAgICAgICAgY2xvbmVJdGVtLFxuICAgICAgICAgICAgICByZW1vdmVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvcmRlcjogW10sXG4gICAgICAgICAgICBkaXNhYmxlZDogW11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbHVtbnM6IHtcbiAgICAgICAgICBhY3Rpb25CdXR0b25zOiB7XG4gICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgIGNsb25lKGNsb25lSXRlbSksXG4gICAgICAgICAgICAgIGNsb25lKGhhbmRsZSksXG4gICAgICAgICAgICAgIHJlbW92ZVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG9yZGVyOiBbXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uczoge1xuICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICBoYW5kbGUsXG4gICAgICAgICAgICAgIGVkaXQsXG4gICAgICAgICAgICAgIGNsb25lSXRlbSxcbiAgICAgICAgICAgICAgcmVtb3ZlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgb3JkZXI6IFtdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgZGVmYXVsdENvbmZpZy5yb3dzLmFjdGlvbkJ1dHRvbnMuYnV0dG9uc1swXS5jb250ZW50ID0gW1xuICAgICAgaWNvbignbW92ZS12ZXJ0aWNhbCcpLFxuICAgICAgaWNvbignaGFuZGxlJylcbiAgICBdO1xuICAgIGRlZmF1bHRDb25maWcuY29sdW1ucy5hY3Rpb25CdXR0b25zLmJ1dHRvbnNbMF0uY29udGVudCA9IFtcbiAgICAgIGljb24oJ2NvcHknKSxcbiAgICAgIGljb24oJ2hhbmRsZScpLFxuICAgIF07XG5cbiAgICBsZXQgbWVyZ2VkQ29uZmlnID0gaC5tZXJnZShkZWZhdWx0Q29uZmlnLCB1c2VyQ29uZmlnKTtcblxuICAgIE9iamVjdC5rZXlzKG1lcmdlZENvbmZpZykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKG1lcmdlZENvbmZpZ1trZXldLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgY29uc3QgYUJ1dHRvbnMgPSBtZXJnZWRDb25maWdba2V5XS5hY3Rpb25CdXR0b25zO1xuICAgICAgICBjb25zdCBkaXNhYmxlZCA9IGFCdXR0b25zLmRpc2FibGVkO1xuICAgICAgICBsZXQgYnV0dG9ucyA9IGFCdXR0b25zLmJ1dHRvbnM7XG5cbiAgICAgICAgLy8gT3JkZXIgYnV0dG9uc1xuICAgICAgICBhQnV0dG9ucy5idXR0b25zID0gaC5vcmRlck9iamVjdHNCeShidXR0b25zLCBhQnV0dG9ucy5vcmRlciwgJ21ldGEuaWQnKTtcbiAgICAgICAgLy8gZmlsdGVyIGRpc2FibGVkIGJ1dHRvbnNcbiAgICAgICAgYUJ1dHRvbnMuYnV0dG9ucyA9IGFCdXR0b25zLmJ1dHRvbnMuZmlsdGVyKGJ1dHRvbiA9PiB7XG4gICAgICAgICAgbGV0IG1ldGFJZCA9IGguZ2V0KGJ1dHRvbiwgJ21ldGEuaWQnKTtcbiAgICAgICAgICByZXR1cm4gIWguaW5BcnJheShtZXRhSWQsIGRpc2FibGVkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBvdmVycmlkZXMgbGFuZ3VhZ2Ugc2V0IGRpclxuICAgIGlmIChtZXJnZWRDb25maWcuZGlyKSB7XG4gICAgICB0aGlzLmRpciA9IG1lcmdlZENvbmZpZy5kaXI7XG4gICAgfVxuXG4gICAgdGhpcy5jb25maWcgPSBtZXJnZWRDb25maWc7XG5cbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cblxuICAvKipcbiAgICogRW5zdXJlIGVsZW1lbnRzIGhhdmUgcHJvcGVyIHRhZ05hbWVcbiAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gZWxlbVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHZhbGlkIGVsZW1lbnQgb2JqZWN0XG4gICAqL1xuICBwcm9jZXNzVGFnTmFtZShlbGVtKSB7XG4gICAgbGV0IHRhZ05hbWU7XG4gICAgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgdGFnTmFtZSA9IGVsZW07XG4gICAgICBlbGVtID0ge3RhZzogdGFnTmFtZX07XG4gICAgfVxuICAgIGlmIChlbGVtLmF0dHJzKSB7XG4gICAgICBsZXQgdGFnID0gZWxlbS5hdHRycy50YWc7XG4gICAgICBpZiAodGFnKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFRhZyA9IHRhZy5maWx0ZXIodCA9PiAodC5zZWxlY3RlZCA9PT0gdHJ1ZSkpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRUYWcubGVuZ3RoKSB7XG4gICAgICAgICAgdGFnTmFtZSA9IHNlbGVjdGVkVGFnWzBdLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWxlbS50YWcgPSB0YWdOYW1lIHx8IGVsZW0udGFnO1xuXG4gICAgcmV0dXJuIGVsZW07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBET00gZWxlbWVudHNcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxlbSAgICAgIGVsZW1lbnQgY29uZmlnIG9iamVjdFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1ByZXZpZXcgZ2VuZXJhdGluZyBlbGVtZW50IGZvciBwcmV2aWV3IG9yIHJlbmRlcj9cbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgIERPTSBPYmplY3RcbiAgICovXG4gIGNyZWF0ZShlbGVtLCBpc1ByZXZpZXcgPSBmYWxzZSkge1xuICAgIGVsZW0gPSB0aGlzLnByb2Nlc3NUYWdOYW1lKGVsZW0pO1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNvbnRlbnRUeXBlO1xuICAgIGxldCB7dGFnfSA9IGVsZW07XG4gICAgbGV0IHByb2Nlc3NlZCA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCB3cmFwID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGF0dHJzOiB7fSxcbiAgICAgIGNsYXNzTmFtZTogW2guZ2V0KGVsZW0sICdjb25maWcuaW5wdXRXcmFwJykgfHwgJ2YtZmllbGQtZ3JvdXAnXSxcbiAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgY29uZmlnOiB7fVxuICAgIH07XG4gICAgbGV0IHJlcXVpcmVkTWFyayA9IHtcbiAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgY2xhc3NOYW1lOiAndGV4dC1lcnJvcicsXG4gICAgICBjb250ZW50OiAnKidcbiAgICB9O1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGxldCByZXF1aXJlZCA9IGguZ2V0KGVsZW0sICdhdHRycy5yZXF1aXJlZCcpO1xuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGZvciBtYXBwaW5nIGNvbnRlbnRUeXBlIHRvIGl0cyBmdW5jdGlvblxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbGV0IGFwcGVuZENvbnRlbnQgPSB7XG4gICAgICBzdHJpbmc6IGNvbnRlbnQgPT4ge1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCArPSBjb250ZW50O1xuICAgICAgfSxcbiAgICAgIG9iamVjdDogY29udGVudCA9PiB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLmNyZWF0ZShjb250ZW50KSk7XG4gICAgICB9LFxuICAgICAgbm9kZTogY29udGVudCA9PiB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgfSxcbiAgICAgIGFycmF5OiBjb250ZW50ID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29udGVudFR5cGUgPSBfdGhpcy5jb250ZW50VHlwZShjb250ZW50W2ldKTtcbiAgICAgICAgICBhcHBlbmRDb250ZW50W2NvbnRlbnRUeXBlXShjb250ZW50W2ldKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uOiBjb250ZW50ID0+IHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQoKTtcbiAgICAgICAgY29udGVudFR5cGUgPSBfdGhpcy5jb250ZW50VHlwZShjb250ZW50KTtcbiAgICAgICAgYXBwZW5kQ29udGVudFtjb250ZW50VHlwZV0oY29udGVudCk7XG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkOiAoKSA9PiBudWxsXG4gICAgfTtcblxuICAgIHByb2Nlc3NlZC5wdXNoKCd0YWcnKTtcblxuXG4gICAgLy8gY2hlY2sgZm9yIHJvb3QgY2xhc3NOYW1lIHByb3BlcnR5XG4gICAgaWYgKGVsZW0uY2xhc3NOYW1lKSB7XG4gICAgICBsZXQge2NsYXNzTmFtZX0gPSBlbGVtO1xuICAgICAgZWxlbS5hdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIGVsZW0uYXR0cnMsIHtjbGFzc05hbWV9KTtcbiAgICAgIGRlbGV0ZSBlbGVtLmNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICAvLyBBcHBlbmQgRWxlbWVudCBDb250ZW50XG4gICAgaWYgKGVsZW0ub3B0aW9ucykge1xuICAgICAgbGV0IHtvcHRpb25zfSA9IGVsZW07XG4gICAgICBvcHRpb25zID0gdGhpcy5wcm9jZXNzT3B0aW9ucyhvcHRpb25zLCBlbGVtLCBpc1ByZXZpZXcpO1xuICAgICAgaWYgKHRoaXMuaG9sZHNDb250ZW50KGVsZW1lbnQpICYmIHRhZyAhPT0gJ2J1dHRvbicpIHtcbiAgICAgICAgLy8gbWFpbmx5IHVzZWQgZm9yIDxzZWxlY3Q+IHRhZ1xuICAgICAgICBhcHBlbmRDb250ZW50LmFycmF5LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGRlbGV0ZSBlbGVtLmNvbnRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoLmZvckVhY2gob3B0aW9ucywgb3B0aW9uID0+IHtcbiAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChfdGhpcy5jcmVhdGUob3B0aW9uLCBpc1ByZXZpZXcpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGVsZW0uYXR0cnMuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgd3JhcC5jbGFzc05hbWUgPSBlbGVtLmF0dHJzLmNsYXNzTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdyYXAuY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgZWxlbS5jb25maWcpO1xuICAgICAgICB3cmFwLmNsYXNzTmFtZS5wdXNoID0gaC5nZXQoZWxlbSwgJ2F0dHJzLmNsYXNzTmFtZScpO1xuXG5cbiAgICAgICAgaWYgKHJlcXVpcmVkKSB7XG4gICAgICAgICAgd3JhcC5hdHRycy5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHdyYXAsIGlzUHJldmlldyk7XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdvcHRpb25zJyk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGVsZW1lbnQgYXR0cmlidXRlc1xuICAgIGlmIChlbGVtLmF0dHJzKSB7XG4gICAgICBfdGhpcy5wcm9jZXNzQXR0cnMoZWxlbSwgZWxlbWVudCwgaXNQcmV2aWV3KTtcbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdhdHRycycpO1xuICAgIH1cblxuICAgIGlmIChlbGVtLmNvbmZpZykge1xuICAgICAgbGV0IGVkaXRhYmxlUHJldmlldyA9IChlbGVtLmNvbmZpZy5lZGl0YWJsZSAmJiBpc1ByZXZpZXcpO1xuICAgICAgaWYgKGVsZW0uY29uZmlnLmxhYmVsICYmIHRhZyAhPT0gJ2J1dHRvbicpIHtcbiAgICAgICAgbGV0IGxhYmVsO1xuXG4gICAgICAgIGlmIChpc1ByZXZpZXcpIHtcbiAgICAgICAgICBsYWJlbCA9IF90aGlzLmxhYmVsKGVsZW0sICdjb25maWcubGFiZWwnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYWJlbCA9IF90aGlzLmxhYmVsKGVsZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbGVtLmNvbmZpZy5oaWRlTGFiZWwpIHtcbiAgICAgICAgICBpZiAoX3RoaXMubGFiZWxBZnRlcihlbGVtKSkge1xuICAgICAgICAgICAgLy8gYWRkIGNoZWNrIGZvciBpbmxpbmUgY2hlY2tib3hcbiAgICAgICAgICAgIHdyYXAuY2xhc3NOYW1lID0gYGYtJHtlbGVtLmF0dHJzLnR5cGV9YDtcblxuICAgICAgICAgICAgbGFiZWwuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGxhYmVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgaWYgKHJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKHJlcXVpcmVkTWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgIGlmIChyZXF1aXJlZCkge1xuICAgICAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChyZXF1aXJlZE1hcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlUHJldmlldykge1xuICAgICAgICAgIGVsZW1lbnQuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZVByZXZpZXcpIHtcbiAgICAgICAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBwcm9jZXNzZWQucHVzaCgnY29uZmlnJyk7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIEVsZW1lbnQgQ29udGVudFxuICAgIGlmIChlbGVtLmNvbnRlbnQpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gX3RoaXMuY29udGVudFR5cGUoZWxlbS5jb250ZW50KTtcbiAgICAgIGFwcGVuZENvbnRlbnRbY29udGVudFR5cGVdLmNhbGwodGhpcywgZWxlbS5jb250ZW50KTtcbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdjb250ZW50Jyk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBuZXcgZWxlbWVudCdzIGRhdGFzZXRcbiAgICBpZiAoZWxlbS5kYXRhc2V0KSB7XG4gICAgICBmb3IgKGNvbnN0IGRhdGEgaW4gZWxlbS5kYXRhc2V0KSB7XG4gICAgICAgIGlmIChlbGVtLmRhdGFzZXQuaGFzT3duUHJvcGVydHkoZGF0YSkpIHtcbiAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbZGF0YV0gPSBlbGVtLmRhdGFzZXRbZGF0YV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdkYXRhc2V0Jyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBmb3IgZGVmaW5lZCBhY3Rpb25zXG4gICAgaWYgKGVsZW0uYWN0aW9uKSB7XG4gICAgICBsZXQgYWN0aW9ucyA9IE9iamVjdC5rZXlzKGVsZW0uYWN0aW9uKTtcbiAgICAgIGZvciAoaSA9IGFjdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gYWN0aW9uc1tpXTtcbiAgICAgICAgbGV0IGFjdGlvbiA9IGVsZW0uYWN0aW9uW2V2ZW50XTtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYWN0aW9uID0gZXZhbChgKCR7ZWxlbS5hY3Rpb25bZXZlbnRdfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlQ2FwdHVyZUV2dHMgPSBbXG4gICAgICAgICAgJ2ZvY3VzJyxcbiAgICAgICAgICAnYmx1cidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBkaXJ0eSBoYWNrIHRvIGhhbmRsZSBvblJlbmRlciBjYWxsYmFja1xuICAgICAgICBpZiAoZXZlbnQgPT09ICdvblJlbmRlcicpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGFjdGlvbihlbGVtZW50KTtcbiAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHVzZUNhcHR1cmUgPSBoLmluQXJyYXkoZXZlbnQsIHVzZUNhcHR1cmVFdnRzKTtcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGFjdGlvbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdhY3Rpb24nKTtcbiAgICB9XG5cbiAgICBsZXQgZmllbGREYXRhQmluZGluZ3MgPSBbXG4gICAgICAnc3RhZ2UnLFxuICAgICAgJ3JvdycsXG4gICAgICAnY29sdW1uJyxcbiAgICAgICdmaWVsZCdcbiAgICBdO1xuXG4gICAgaWYgKGguaW5BcnJheShlbGVtLmZUeXBlLCBmaWVsZERhdGFCaW5kaW5ncykpIHtcbiAgICAgIGxldCBkYXRhVHlwZSA9IGVsZW0uZlR5cGUgKyAnRGF0YSc7XG4gICAgICBlbGVtZW50W2RhdGFUeXBlXSA9IGVsZW07XG4gICAgICBpZiAoZGF0YVR5cGUgPT09ICdmaWVsZERhdGEnKSB7XG4gICAgICAgIGVsZW1lbnQucGFuZWxOYXYgPSBlbGVtLnBhbmVsTmF2O1xuICAgICAgfVxuICAgICAgcHJvY2Vzc2VkLnB1c2goZGF0YVR5cGUpO1xuICAgIH1cblxuICAgIC8vIFN1YnRyYWN0IHByb2Nlc3NlZCBhbmQgaWdub3JlZCBhbmQgYXR0YWNoIHRoZSByZXN0XG4gICAgbGV0IHJlbWFpbmluZyA9IGguc3VidHJhY3QocHJvY2Vzc2VkLCBPYmplY3Qua2V5cyhlbGVtKSk7XG4gICAgZm9yIChpID0gcmVtYWluaW5nLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBlbGVtZW50W3JlbWFpbmluZ1tpXV0gPSBlbGVtW3JlbWFpbmluZ1tpXV07XG4gICAgfVxuXG4gICAgaWYgKHdyYXAuY29udGVudC5sZW5ndGgpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZSh3cmFwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIFNWRyBvciBmb250IGljb24uXG4gICAqIFNpbXBsZSBzdHJpbmcgY29uY2F0ZW5hdGlvbiBpbnN0ZWFkIG9mIERPTS5jcmVhdGUgYmVjYXVzZTpcbiAgICogIC0gd2UgZG9uJ3QgbmVlZCB0aGUgcGVya3Mgb2YgaGF2aW5nIGljb25zIGJlIERPTSBvYmplY3RzIGF0IHRoaXMgc3RhZ2VcbiAgICogIC0gaXQgZm9yY2VzIHRoZSBpY29uIHRvIGJlIGFwcGVuZGVkIHVzaW5nIGlubmVySFRNTCB3aGljaCBoZWxwcyBzdmcgcmVuZGVyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAtIGljb24gbmFtZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGljb24gbWFya3VwXG4gICAqL1xuICBpY29uKG5hbWUpIHtcbiAgICBsZXQgaWNvbkxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWNvbi0nICsgbmFtZSk7XG4gICAgbGV0IGljb247XG5cbiAgICBpZiAoaWNvbkxpbmspIHtcbiAgICAgIGljb24gPSBgPHN2ZyBjbGFzcz1cInN2Zy1pY29uIGljb24tJHtuYW1lfVwiPjx1c2UgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeGxpbms6aHJlZj1cIiNpY29uLSR7bmFtZX1cIj48L3VzZT48L3N2Zz5gO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWNvbiA9IGA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tJHtuYW1lfVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5gO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBKUyBPYmplY3QgdG8gRE9NIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtICAgIGVsZW1lbnQgY29uZmlnIG9iamVjdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2UgYXJlIGJ1aWxkaW5nXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUHJldmlld1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcHJvY2Vzc0F0dHJzKGVsZW0sIGVsZW1lbnQsIGlzUHJldmlldykge1xuICAgIGxldCB7YXR0cnMgPSB7fX0gPSBlbGVtO1xuICAgIGRlbGV0ZSBhdHRycy50YWc7XG5cbiAgICBpZiAoIWlzUHJldmlldykge1xuICAgICAgaWYgKCFhdHRycy5uYW1lICYmIHRoaXMuaXNJbnB1dChlbGVtLnRhZykpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB1dWlkKGVsZW0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgZWxlbWVudCBhdHRyaWJ1dGVzXG4gICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICBsZXQgbmFtZSA9IGguc2FmZUF0dHJOYW1lKGF0dHIpO1xuICAgICAgbGV0IHZhbHVlID0gYXR0cnNbYXR0cl0gfHwgJyc7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGxldCBzZWxlY3RlZCA9IHZhbHVlLmZpbHRlcih0ID0+ICh0LnNlbGVjdGVkID09PSB0cnVlKSk7XG4gICAgICAgICAgdmFsdWUgPSBzZWxlY3RlZC5sZW5ndGggPyBzZWxlY3RlZFswXS52YWx1ZSA6IHZhbHVlWzBdLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuam9pbignICcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBmYW5jeSBjaGVja2JveCBvciByYWRpb1xuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBlbGVtXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUHJldmlld1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGNoZWNrYWJsZVxuICAgKi9cbiAgY2hlY2tib3goZWxlbSwgaXNQcmV2aWV3KSB7XG4gICAgbGV0IGxhYmVsID0gaC5nZXQoZWxlbSwgJ2VsZW0uY29uZmlnLmxhYmVsJykgfHwgJyc7XG4gICAgbGV0IGNoZWNrYWJsZSA9IHtcbiAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgY2xhc3NOYW1lOiAnY2hlY2thYmxlJyxcbiAgICAgIGNvbnRlbnQ6IGxhYmVsXG4gICAgfTtcbiAgICBsZXQgb3B0aW9uTGFiZWwgPSB7XG4gICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICBhdHRyczoge30sXG4gICAgICBjb250ZW50OiBbZWxlbSwgY2hlY2thYmxlXVxuICAgIH07XG5cbiAgICAvLyBpZiAoaXNQcmV2aWV3KSB7XG4gICAgLy8gICBpbnB1dC5mTWFwID0gYG9wdGlvbnNbJHtpfV0uc2VsZWN0ZWRgO1xuICAgIC8vICAgb3B0aW9uTGFiZWwuYXR0cnMuY29udGVudGVkaXRhYmxlID0gdHJ1ZTtcbiAgICAvLyAgIG9wdGlvbkxhYmVsLmZNYXAgPSBgb3B0aW9uc1ske2l9XS5sYWJlbGA7XG4gICAgLy8gICBjaGVja2FibGUuY29udGVudCA9IHVuZGVmaW5lZDtcbiAgICAvLyAgIGxldCBjaGVja2FibGVMYWJlbCA9IHtcbiAgICAvLyAgICAgdGFnOiAnbGFiZWwnLFxuICAgIC8vICAgICBjb250ZW50OiBbaW5wdXQsIGNoZWNrYWJsZV1cbiAgICAvLyAgIH07XG4gICAgLy8gICBpbnB1dFdyYXAuY29udGVudC51bnNoaWZ0KGNoZWNrYWJsZUxhYmVsKTtcbiAgICAvLyAgIC8vIGlucHV0V3JhcC5jb250ZW50LnVuc2hpZnQoaW5wdXQpO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICBpbnB1dC5hdHRycy5uYW1lID0gZWxlbS5pZDtcbiAgICAvLyAgIG9wdGlvbkxhYmVsLmNvbnRlbnQgPSBjaGVja2FibGU7XG4gICAgLy8gICBvcHRpb25MYWJlbCA9IGRvbS5jcmVhdGUob3B0aW9uTGFiZWwpO1xuICAgIC8vICAgaW5wdXQgPSBkb20uY3JlYXRlKGlucHV0KTtcbiAgICAvLyAgIG9wdGlvbkxhYmVsLmluc2VydEJlZm9yZShpbnB1dCwgb3B0aW9uTGFiZWwuZmlyc3RDaGlsZCk7XG4gICAgLy8gICBpbnB1dFdyYXAuY29udGVudCA9IG9wdGlvbkxhYmVsO1xuICAgIC8vIH1cblxuICAgIHJldHVybiBvcHRpb25MYWJlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbmQgQXJyYXkgb2Ygb3B0aW9uIGNvbmZpZyBvYmplY3RzXG4gICAqIEBwYXJhbSAge0FycmF5fSBvcHRpb25zXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbSBlbGVtZW50IGNvbmZpZyBvYmplY3RcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3XG4gICAqIEByZXR1cm4ge0FycmF5fSBvcHRpb24gY29uZmlnIG9iamVjdHNcbiAgICovXG4gIHByb2Nlc3NPcHRpb25zKG9wdGlvbnMsIGVsZW0sIGlzUHJldmlldykge1xuICAgIGxldCB7YWN0aW9uLCBhdHRyc30gPSBlbGVtO1xuICAgIGxldCBmaWVsZFR5cGUgPSBhdHRycy50eXBlIHx8IGVsZW0udGFnO1xuICAgIGxldCBpZCA9IGF0dHJzLmlkIHx8IGVsZW0uaWQ7XG5cbiAgICBsZXQgb3B0aW9uTWFwID0gKG9wdGlvbiwgaSkgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdElucHV0ID0gKCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXQgPSB7XG4gICAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICB0eXBlOiBmaWVsZFR5cGUsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlIHx8ICcnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpb25cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNoZWNrYWJsZSA9IHtcbiAgICAgICAgICB0YWc6ICdzcGFuJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdjaGVja2FibGUnLFxuICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvbi5sYWJlbFxuICAgICAgICB9O1xuICAgICAgICBsZXQgb3B0aW9uTGFiZWwgPSB7XG4gICAgICAgICAgdGFnOiAnbGFiZWwnLFxuICAgICAgICAgIGF0dHJzOiB7fSxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGlucHV0V3JhcDogJ2Zvcm0tY2hlY2snXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50OiBbb3B0aW9uLmxhYmVsXVxuICAgICAgICB9O1xuICAgICAgICBsZXQgaW5wdXRXcmFwID0ge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgY29udGVudDogW29wdGlvbkxhYmVsXSxcbiAgICAgICAgICBjbGFzc05hbWU6IFtgZi0ke2ZpZWxkVHlwZX1gXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChlbGVtLmF0dHJzLmNsYXNzTmFtZSkge1xuICAgICAgICAgIGVsZW0uY29uZmlnLmlucHV0V3JhcCA9IGVsZW0uYXR0cnMuY2xhc3NOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW0uY29uZmlnLmlubGluZSkge1xuICAgICAgICAgIGlucHV0V3JhcC5jbGFzc05hbWUucHVzaCgnZi0ke2ZpZWxkVHlwZX0taW5saW5lJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgaW5wdXQuYXR0cnMuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmV2aWV3KSB7XG4gICAgICAgICAgaW5wdXQuZk1hcCA9IGBvcHRpb25zWyR7aX1dLnNlbGVjdGVkYDtcbiAgICAgICAgICBvcHRpb25MYWJlbC5hdHRycy5jb250ZW50ZWRpdGFibGUgPSB0cnVlO1xuICAgICAgICAgIG9wdGlvbkxhYmVsLmZNYXAgPSBgb3B0aW9uc1ske2l9XS5sYWJlbGA7XG4gICAgICAgICAgY2hlY2thYmxlLmNvbnRlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbGV0IGNoZWNrYWJsZUxhYmVsID0ge1xuICAgICAgICAgICAgdGFnOiAnbGFiZWwnLFxuICAgICAgICAgICAgY29udGVudDogW2lucHV0LCBjaGVja2FibGVdXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnB1dFdyYXAuY29udGVudC51bnNoaWZ0KGNoZWNrYWJsZUxhYmVsKTtcbiAgICAgICAgICAvLyBpbnB1dFdyYXAuY29udGVudC51bnNoaWZ0KGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC5hdHRycy5uYW1lID0gaWQ7XG4gICAgICAgICAgb3B0aW9uTGFiZWwuY29udGVudCA9IGNoZWNrYWJsZTtcbiAgICAgICAgICBvcHRpb25MYWJlbCA9IGRvbS5jcmVhdGUob3B0aW9uTGFiZWwpO1xuICAgICAgICAgIGlucHV0ID0gZG9tLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgICAgb3B0aW9uTGFiZWwuaW5zZXJ0QmVmb3JlKGlucHV0LCBvcHRpb25MYWJlbC5maXJzdENoaWxkKTtcbiAgICAgICAgICBpbnB1dFdyYXAuY29udGVudCA9IG9wdGlvbkxhYmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlucHV0V3JhcDtcbiAgICAgIH07XG5cbiAgICAgIGxldCBvcHRpb25NYXJrdXAgPSB7XG4gICAgICAgIHNlbGVjdDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YWc6ICdvcHRpb24nLFxuICAgICAgICAgICAgYXR0cnM6IG9wdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvbi5sYWJlbFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGJ1dHRvbjogb3B0aW9uID0+IHtcbiAgICAgICAgICBsZXQge3R5cGUsIGxhYmVsLCBjbGFzc05hbWUsIGlkfSA9IG9wdGlvbjtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbSwge1xuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgIGlkOiBpZCB8fCB1dWlkKCksXG4gICAgICAgICAgICBvcHRpb25zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb250ZW50OiBsYWJlbCxcbiAgICAgICAgICAgIGFjdGlvbjogZWxlbS5hY3Rpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tib3g6IGRlZmF1bHRJbnB1dCxcbiAgICAgICAgcmFkaW86IGRlZmF1bHRJbnB1dFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIG9wdGlvbk1hcmt1cFtmaWVsZFR5cGVdKG9wdGlvbik7XG4gICAgfTtcblxuICAgIGNvbnN0IG1hcHBlZE9wdGlvbnMgPSBvcHRpb25zLm1hcChvcHRpb25NYXApO1xuXG4gICAgcmV0dXJuIG1hcHBlZE9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZXJlIGlzIGEgY2xvc2luZyB0YWcsIGlmIHNvIGl0IGNhbiBob2xkIGNvbnRlbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50IERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGhvbGRzQ29udGVudFxuICAgKi9cbiAgaG9sZHNDb250ZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGVsZW1lbnQub3V0ZXJIVE1MLmluZGV4T2YoJy8nKSAhPT0gLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIElzIHRoaXMgYSB0ZXh0YXJlYSwgc2VsZWN0IG9yIG90aGVyIGJsb2NrIGlucHV0XG4gICAqIGFsc28gaXNDb250ZW50RWRpdGFibGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxlbWVudFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgaXNCbG9ja0lucHV0KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKCF0aGlzLmlzSW5wdXQoZWxlbWVudCkgJiYgdGhpcy5ob2xkc0NvbnRlbnQoZWxlbWVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiBhbiBlbGVtZW50IGlzIGFuIGlucHV0IGZpZWxkXG4gICAqIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9IHRhZyB0YWdOYW1lIG9yIERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzSW5wdXRcbiAgICovXG4gIGlzSW5wdXQodGFnKSB7XG4gICAgaWYgKHR5cGVvZiB0YWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0YWcgPSB0YWcudGFnTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIChbJ2lucHV0JywgJ3RleHRhcmVhJywgJ3NlbGVjdCddLmluZGV4T2YodGFnKSAhPT0gLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGVzY2FwZWQgSFRNTCBpbnRvIHVzYWJsZSBIVE1MXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaHRtbCBlc2NhcGVkIEhUTUxcbiAgICogQHJldHVybiB7U3RyaW5nfSAgICAgIHBhcnNlZCBIVE1MXG4gICAqL1xuICBwYXJzZWRIdG1sKGh0bWwpIHtcbiAgICBsZXQgZXNjYXBlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgZXNjYXBlRWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlc2NhcGVFbGVtZW50LnRleHRDb250ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgbGFiZWwgc2hvdWxkIGJlIGRpc3BsYXkgYmVmb3JlIG9yIGFmdGVyIGFuIGVsZW1lbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtIGNvbmZpZ1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBsYWJlbEFmdGVyXG4gICAqL1xuICBsYWJlbEFmdGVyKGVsZW0pIHtcbiAgICBsZXQgdHlwZSA9IGguZ2V0KGVsZW0sICdhdHRycy50eXBlJyk7XG4gICAgbGV0IGlzQ0IgPSAodHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nKTtcbiAgICByZXR1cm4gaXNDQiB8fCBoLmdldChlbGVtLCAnY29uZmlnLmxhYmVsQWZ0ZXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIGxhYmVsXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbSBjb25maWcgb2JqZWN0XG4gICAqIEBwYXJhbSAge1N0cmluZ30gZk1hcCBtYXAgdG8gbGFiZWwncyB2YWx1ZSBpbiBmb3JtRGF0YVxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgY29uZmlnIG9iamVjdFxuICAgKi9cbiAgbGFiZWwoZWxlbSwgZk1hcCkge1xuICAgIGxldCBmaWVsZExhYmVsO1xuXG4gICAgaWYgKHR5cGVvZiBlbGVtLmNvbmZpZy5sYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZpZWxkTGFiZWwgPSB7XG4gICAgICAgIHRhZzogJ2xhYmVsJyxcbiAgICAgICAgYXR0cnM6IHt9LFxuICAgICAgICBjbGFzc05hbWU6IFtdLFxuICAgICAgICBhY3Rpb246IHt9LFxuICAgICAgICBjb25maWc6IHt9LFxuICAgICAgICBjb250ZW50OiBlbGVtLmNvbmZpZy5sYWJlbFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmllbGRMYWJlbCA9IGVsZW0uY29uZmlnLmxhYmVsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxhYmVsQWZ0ZXIoZWxlbSkpIHtcbiAgICAgIGxldCBjaGVja2FibGUgPSB7XG4gICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICBjbGFzc05hbWU6ICdjaGVja2FibGUnLFxuICAgICAgICBjb250ZW50OiBlbGVtLmNvbmZpZy5sYWJlbFxuICAgICAgfTtcbiAgICAgIGZpZWxkTGFiZWwuY29udGVudCA9IGNoZWNrYWJsZTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbS5pZCkge1xuICAgICAgZmllbGRMYWJlbC5hdHRycy5mb3IgPSBlbGVtLmlkO1xuICAgIH1cblxuICAgIGlmKHR5cGVvZiBmaWVsZExhYmVsLmNvbmZpZy5lZGl0YWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZpZWxkTGFiZWwuYXR0cnMuY29udGVudGVkaXRhYmxlID0gZmllbGRMYWJlbC5jb25maWcuZWRpdGFibGU7XG4gICAgfWVsc2UgaWYgKGZNYXApIHtcbiAgICAgIC8vIGZvciBhdHRyaWJ1dGUgd2lsbCBwcmV2ZW50IGxhYmVsIGZvY3VzXG4gICAgICBkZWxldGUgZmllbGRMYWJlbC5hdHRycy5mb3I7XG4gICAgICBmaWVsZExhYmVsLmF0dHJzLmNvbnRlbnRlZGl0YWJsZSA9IHRydWU7XG4gICAgICBmaWVsZExhYmVsLmZNYXAgPSBmTWFwO1xuICAgIH1cblxuICAgIHJldHVybiBkb20uY3JlYXRlKGZpZWxkTGFiZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBjb250ZW50IHR5cGVcbiAgICogQHBhcmFtICB7Tm9kZSB8IFN0cmluZyB8IEFycmF5IHwgT2JqZWN0fSBjb250ZW50XG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGNvbnRlbnRUeXBlKGNvbnRlbnQpIHtcbiAgICBsZXQgdHlwZSA9IHR5cGVvZiBjb250ZW50O1xuICAgIGlmIChjb250ZW50IGluc3RhbmNlb2YgTm9kZSB8fCBjb250ZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHR5cGUgPSAnbm9kZSc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICB0eXBlID0gJ2FycmF5JztcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBET00gZWxlbWVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBlbGVtICAgICBkb20gZWxlbWVudFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBwcm9wZXJ0eSBzdHlsZSBlZy4gd2lkdGgsIGhlaWdodCwgb3BhY2l0eVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgICBjb21wdXRlZCBzdHlsZVxuICAgKi9cbiAgZ2V0U3R5bGUoZWxlbSwgcHJvcGVydHkgPSBmYWxzZSkge1xuICAgIGxldCBzdHlsZTtcbiAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkge1xuICAgICAgc3R5bGUgPSBlbGVtLmN1cnJlbnRTdHlsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcGVydHkgPyBzdHlsZVtwcm9wZXJ0eV0gOiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYW4gZWxlbWVudCBieSBjb25maWcgb2JqZWN0LCBzdHJpbmcgaWQsXG4gICAqIG9yIGV4aXN0aW5nIHJlZmVyZW5jZVxuICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfE5vZGV9IGVsZW1cbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgICBET00gZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudChlbGVtKSB7XG4gICAgbGV0IGdldEVsZW1lbnQgPSB7XG4gICAgICAgIG5vZGU6ICgpID0+IGVsZW0sXG4gICAgICAgIG9iamVjdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbS5pZCksXG4gICAgICAgIHN0cmluZzogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbSlcbiAgICAgIH07XG4gICAgbGV0IHR5cGUgPSB0aGlzLmNvbnRlbnRUeXBlKGVsZW0pO1xuICAgIGxldCBlbGVtZW50ID0gZ2V0RWxlbWVudFt0eXBlXSgpO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogVXRpbCB0byByZW1vdmUgY29udGVudHMgb2YgRE9NIE9iamVjdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cbiAgICogQHJldHVybiB7T2JqZWN0fSBlbGVtZW50IHdpdGggaXRzIGNoaWxkcmVuIHJlbW92ZWRcbiAgICovXG4gIGVtcHR5KGVsZW0pIHtcbiAgICB3aGlsZSAoZWxlbS5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLnJlbW92ZShlbGVtLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlLCBjbG9zZSwgYW5kIGVkaXQgYnV0dG9ucyBmb3Igcm93LCBjb2x1bW4gYW5kIGZpZWxkXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICBlbGVtZW50IGlkXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaXRlbSB0eXBlIG9mIGVsZW1lbnQgZWcuIHJvdywgY29sdW1uLCBmaWVsZFxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgZWxlbWVudCBjb25maWcgb2JqZWN0XG4gICAqL1xuICBhY3Rpb25CdXR0b25zKGlkLCBpdGVtID0gJ2NvbHVtbicpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCB0YWcgPSAoaXRlbSA9PT0gJ2NvbHVtbicgPyAnbGknIDogJ2RpdicpO1xuICAgIGxldCBidG5XcmFwID0ge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBjbGFzc05hbWU6ICdhY3Rpb24tYnRuLXdyYXAnXG4gICAgICB9O1xuICAgIGxldCBhY3Rpb25zID0ge1xuICAgICAgdGFnLFxuICAgICAgY2xhc3NOYW1lOiBpdGVtICsgJy1hY3Rpb25zIGdyb3VwLWFjdGlvbnMnLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIG1vdXNlZW50ZXI6IGV2dCA9PiB7XG4gICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdob3ZlcmluZy0nICsgaXRlbSk7XG4gICAgICAgICAgZXZ0LnRhcmdldC5wYXJlbnRSZWZlcmVuY2UgPSBlbGVtZW50O1xuICAgICAgICB9LFxuICAgICAgICBtb3VzZWxlYXZlOiBldnQgPT4ge1xuICAgICAgICAgIGV2dC50YXJnZXQucGFyZW50UmVmZXJlbmNlLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLScgKyBpdGVtKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZW5kZXI6IGVsZW0gPT4ge1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKTtcbiAgICAgICAgICBsZXQgYnRuV2lkdGggPSBwYXJzZUludChfdGhpcy5nZXRTdHlsZShidXR0b25zWzBdLCAnd2lkdGgnKSkgKyAxO1xuICAgICAgICAgIGNvbnN0IGV4cGFuZGVkV2lkdGggPSAoYnV0dG9ucy5sZW5ndGggKiBidG5XaWR0aCkgKyAncHgnO1xuICAgICAgICAgIGNvbnN0IHdvaCA9IGl0ZW0gPT09ICdyb3cnID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgICAgIGxldCBydWxlcyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgYC5ob3ZlcmluZy0ke2l0ZW19IC4ke2l0ZW19LWFjdGlvbnNgLFxuICAgICAgICAgICAgICBbd29oLCBleHBhbmRlZFdpZHRoLCB0cnVlXVxuICAgICAgICAgICAgXVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBfdGhpcy5pbnNlcnRSdWxlKHJ1bGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBidG5XcmFwLmNvbnRlbnQgPSB0aGlzLmNvbmZpZ1tgJHtpdGVtfXNgXS5hY3Rpb25CdXR0b25zLmJ1dHRvbnM7XG4gICAgYWN0aW9ucy5jb250ZW50ID0gYnRuV3JhcDtcblxuICAgIHJldHVybiBhY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyBhbiBlbGVtZW50LCBpdCdzIGRhdGEgYW5kXG4gICAqIGl0J3MgbmVzdGVkIGVsZW1lbnRzIGFuZCBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtIGVsZW1lbnQgd2UgYXJlIGNsb25pbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGNsb25lZCBlbGVtZW50XG4gICAqL1xuICBjbG9uZShlbGVtLCBwYXJlbnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCB7aWQsIGZUeXBlfSA9IGVsZW07XG4gICAgbGV0IGRhdGFDbG9uZSA9IGNsb25lKGZvcm1EYXRhW2ZUeXBlXS5nZXQoaWQpKTtcbiAgICBjb25zdCBuZXdJbmRleCA9IGguaW5kZXhPZk5vZGUoZWxlbSkgKyAxO1xuICAgIGxldCBub1BhcmVudCA9IGZhbHNlO1xuICAgIGRhdGFDbG9uZS5pZCA9IHV1aWQoKTtcbiAgICBmb3JtRGF0YVtmVHlwZV0uc2V0KGRhdGFDbG9uZS5pZCwgZGF0YUNsb25lKTtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgcGFyZW50ID0gZWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgbm9QYXJlbnQgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBjbG9uZVR5cGUgPSB7XG4gICAgICByb3dzOiAoKSA9PiB7XG4gICAgICAgIGRhdGFDbG9uZS5jb2x1bW5zID0gW107XG4gICAgICAgIGNvbnN0IHN0YWdlID0gX3RoaXMuYWN0aXZlU3RhZ2U7XG4gICAgICAgIGNvbnN0IG5ld1JvdyA9IF90aGlzLmFkZFJvdyhudWxsLCBkYXRhQ2xvbmUuaWQpO1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gZWxlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1jb2x1bW5zJyk7XG5cbiAgICAgICAgc3RhZ2UuaW5zZXJ0QmVmb3JlKG5ld1Jvdywgc3RhZ2UuY2hpbGROb2Rlc1tuZXdJbmRleF0pO1xuICAgICAgICBoLmZvckVhY2goY29sdW1ucywgY29sdW1uID0+IF90aGlzLmNsb25lKGNvbHVtbiwgbmV3Um93KSk7XG4gICAgICAgIGRhdGEuc2F2ZVJvd09yZGVyKCk7XG4gICAgICAgIHJldHVybiBuZXdSb3c7XG4gICAgICB9LFxuICAgICAgY29sdW1uczogKCkgPT4ge1xuICAgICAgICBkYXRhQ2xvbmUuZmllbGRzID0gW107XG4gICAgICAgIGNvbnN0IG5ld0NvbHVtbiA9IF90aGlzLmFkZENvbHVtbihwYXJlbnQuaWQsIGRhdGFDbG9uZS5pZCk7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q29sdW1uLCBwYXJlbnQuY2hpbGROb2Rlc1tuZXdJbmRleF0pO1xuICAgICAgICBsZXQgZmllbGRzID0gZWxlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1maWVsZHMnKTtcblxuICAgICAgICBpZiAobm9QYXJlbnQpIHtcbiAgICAgICAgICBkb20uY29sdW1uV2lkdGhzKHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaC5mb3JFYWNoKGZpZWxkcywgZmllbGQgPT4gX3RoaXMuY2xvbmUoZmllbGQsIG5ld0NvbHVtbikpO1xuICAgICAgICByZXR1cm4gbmV3Q29sdW1uO1xuICAgICAgfSxcbiAgICAgIGZpZWxkczogKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdGaWVsZCA9IF90aGlzLmFkZEZpZWxkKHBhcmVudC5pZCwgZGF0YUNsb25lLmlkKTtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdGaWVsZCwgcGFyZW50LmNoaWxkTm9kZXNbbmV3SW5kZXhdKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpZWxkO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNsb25lVHlwZVtmVHlwZV0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZWxlbWVudHMgd2l0aG91dCBmIGNoaWxkcmVuXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCBET00gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXG4gICAqL1xuICByZW1vdmVFbXB0eShlbGVtZW50KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCB0eXBlID0gZWxlbWVudC5mVHlwZTtcbiAgICBsZXQgY2hpbGRyZW47XG4gICAgX3RoaXMucmVtb3ZlKGVsZW1lbnQpO1xuICAgIGNoaWxkcmVuID0gcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLScgKyB0eXBlKTtcbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgaWYgKHBhcmVudC5mVHlwZSAhPT0gJ3N0YWdlcycpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUVtcHR5KHBhcmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtcHR5Q2xhc3MocGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdjb2x1bW5zJykge1xuICAgICAgX3RoaXMuY29sdW1uV2lkdGhzKHBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLnNhdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGVsZW1lbnQgZnJvbSBET00gYW5kIGRhdGFcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtXG4gICAqIEByZXR1cm4gIHtPYmplY3R9IHBhcmVudCBlbGVtZW50XG4gICAqL1xuICByZW1vdmUoZWxlbSkge1xuICAgIGxldCB7ZlR5cGUsIGlkfSA9IGVsZW07XG4gICAgaWYgKGZUeXBlKSB7XG4gICAgICBsZXQgcGFyZW50ID0gZWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgbGV0IHBEYXRhID0gZm9ybURhdGFbcGFyZW50LmZUeXBlXS5nZXQocGFyZW50LmlkKTtcbiAgICAgIGRhdGEuZW1wdHkoZlR5cGUsIGlkKTtcbiAgICAgIHRoaXNbZlR5cGVdLmRlbGV0ZShpZCk7XG4gICAgICBmb3JtRGF0YVtmVHlwZV0uZGVsZXRlKGlkKTtcbiAgICAgIHJlbW92ZShwRGF0YVtmVHlwZV0sIGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW0ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY2xhc3Mgb3IgY2xhc3NlcyBmcm9tIG5vZGVMaXN0XG4gICAqXG4gICAqIEBwYXJhbSAge05vZGVMaXN0fSBub2RlTGlzdFxuICAgKiBAcGFyYW0gIHtTdHJpbmcgfCBBcnJheX0gY2xhc3NOYW1lXG4gICAqL1xuICByZW1vdmVDbGFzc2VzKG5vZGVMaXN0LCBjbGFzc05hbWUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCByZW1vdmVDbGFzcyA9IHtcbiAgICAgIHN0cmluZzogZWxlbSA9PiB7XG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWUucmVwbGFjZShjbGFzc05hbWUsICcnKTtcbiAgICAgIH0sXG4gICAgICBhcnJheTogZWxlbSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBjbGFzc05hbWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmVtb3ZlQ2xhc3Mub2JqZWN0ID0gcmVtb3ZlQ2xhc3Muc3RyaW5nOyAvLyBoYW5kbGVzIHJlZ2V4IG1hcFxuICAgIGguZm9yRWFjaChub2RlTGlzdCwgcmVtb3ZlQ2xhc3NbX3RoaXMuY29udGVudFR5cGUoY2xhc3NOYW1lKV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjbGFzcyBvciBjbGFzc2VzIGZyb20gbm9kZUxpc3RcbiAgICpcbiAgICogQHBhcmFtICB7Tm9kZUxpc3R9IG5vZGVMaXN0XG4gICAqIEBwYXJhbSAge1N0cmluZyB8IEFycmF5fSBjbGFzc05hbWVcbiAgICovXG4gIGFkZENsYXNzZXMobm9kZUxpc3QsIGNsYXNzTmFtZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFkZENsYXNzID0ge1xuICAgICAgc3RyaW5nOiBlbGVtID0+IHtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGVsZW0gPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gY2xhc3NOYW1lLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZVtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGguZm9yRWFjaChub2RlTGlzdCwgYWRkQ2xhc3NbX3RoaXMuY29udGVudFR5cGUoY2xhc3NOYW1lKV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFtmaWVsZE9yZGVyQ2xhc3MgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gY29sdW1uIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGZpZWxkT3JkZXJDbGFzcyhjb2x1bW4pIHtcbiAgICBsZXQgZmllbGRzID0gY29sdW1uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFnZS1maWVsZHMnKTtcblxuICAgIGlmIChmaWVsZHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzZXMoZmllbGRzLCBbJ2ZpcnN0LWZpZWxkJywgJ2xhc3QtZmllbGQnXSk7XG4gICAgICBmaWVsZHNbMF0uY2xhc3NMaXN0LmFkZCgnZmlyc3QtZmllbGQnKTtcbiAgICAgIGZpZWxkc1tmaWVsZHMubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZCgnbGFzdC1maWVsZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIGNvbHVtbnMgYW5kIGdlbmVyYXRlIGJvb3RzdHJhcCBjb2xzXG4gICAqIEBwYXJhbSAge09iamVjdH0gIHJvdyAgICBET00gZWxlbWVudFxuICAgKi9cbiAgY29sdW1uV2lkdGhzKHJvdykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkcyA9IFtdO1xuICAgIGxldCBjb2x1bW5zID0gcm93LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLWNvbHVtbnMnKTtcbiAgICBpZiAoIWNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgbGV0IHdpZHRoID0gcGFyc2VGbG9hdCgoMTAwIC8gY29sdW1ucy5sZW5ndGgpLnRvRml4ZWQoMSkpLzE7XG4gICAgbGV0IGJzR3JpZFJlZ0V4ID0gL1xcYmNvbC1cXHcrLVxcZCsvZztcblxuICAgIF90aGlzLnJlbW92ZUNsYXNzZXMoY29sdW1ucywgYnNHcmlkUmVnRXgpO1xuXG4gICAgaC5mb3JFYWNoKGNvbHVtbnMsIGNvbHVtbiA9PiB7XG4gICAgICBsZXQgY29sdW1uRGF0YSA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbi5pZCk7XG4gICAgICBmaWVsZHMucHVzaCguLi5jb2x1bW5EYXRhLmZpZWxkcyk7XG5cbiAgICAgIGxldCBjb2xXaWR0aCA9IG51bVRvUGVyY2VudCh3aWR0aCk7XG5cbiAgICAgIGNvbHVtbi5zdHlsZS53aWR0aCA9IGNvbFdpZHRoO1xuICAgICAgY29sdW1uLnN0eWxlLmZsb2F0ID0gJ2xlZnQnO1xuICAgICAgY29sdW1uRGF0YS5jb25maWcud2lkdGggPSBjb2xXaWR0aDtcbiAgICAgIGNvbHVtbi5kYXRhc2V0LmNvbFdpZHRoID0gY29sV2lkdGg7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5jb2x1bW5SZXNpemVkKTtcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZmllbGRzLmZvckVhY2goZmllbGRJRCA9PiB7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvbS5maWVsZHMuZ2V0KGZpZWxkSUQpO1xuICAgICAgICBpZiAoZmllbGQuaW5zdGFuY2UucGFuZWxzKSB7XG4gICAgICAgICAgZmllbGQuaW5zdGFuY2UucGFuZWxzLm5hdi5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDI1MCk7XG5cbiAgICBkb20udXBkYXRlQ29sdW1uUHJlc2V0KHJvdyk7XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBjb250ZW50IGluIGEgZm9ybUdyb3VwXG4gICAqIEBwYXJhbSAge09iamVjdHxBcnJheXxTdHJpbmd9IGNvbnRlbnRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3JtR3JvdXAgY29uZmlnXG4gICAqL1xuICBmb3JtR3JvdXAoY29udGVudCwgY2xhc3NOYW1lID0gJycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogWydmLWZpZWxkLWdyb3VwJywgY2xhc3NOYW1lXSxcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyB0aGUgZWxlbWVudCBjb25maWcgZm9yIGNvbHVtbiBsYXlvdXQgaW4gcm93XG4gICAqIEBwYXJhbSAge1N0cmluZ30gcm93SUQgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGNvbHVtblByZXNldENvbnRyb2wocm93SUQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQocm93SUQpO1xuICAgIGxldCBsYXlvdXRQcmVzZXQgPSB7XG4gICAgICAgIHRhZzogJ3NlbGVjdCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgYXJpYUxhYmVsOiAnRGVmaW5lIGEgY29sdW1uIGxheW91dCcsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnY29sdW1uLXByZXNldCdcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2hhbmdlOiBlID0+IHtcbiAgICAgICAgICAgIGxldCBkUm93ID0gdGhpcy5yb3dzLmdldChyb3dJRCk7XG4gICAgICAgICAgICBfdGhpcy5zZXRDb2x1bW5XaWR0aHMoZFJvdy5yb3csIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBsZXQgcE1hcCA9IG5ldyBNYXAoKTtcbiAgICBsZXQgY3VzdG9tID0ge3ZhbHVlOiAnY3VzdG9tJywgbGFiZWw6ICdDdXN0b20nfTtcblxuICAgIHBNYXAuc2V0KDEsIFt7dmFsdWU6ICcxMDAuMCcsIGxhYmVsOiAnMTAwJSd9XSk7XG4gICAgcE1hcC5zZXQoMiwgW1xuICAgICAge3ZhbHVlOiAnNTAuMCw1MC4wJywgbGFiZWw6ICc1MCB8IDUwJ30sXG4gICAgICB7dmFsdWU6ICczMy4zLDY2LjYnLCBsYWJlbDogJzMzIHwgNjYnfSxcbiAgICAgIHt2YWx1ZTogJzY2LjYsMzMuMycsIGxhYmVsOiAnNjYgfCAzMyd9LFxuICAgICAgY3VzdG9tXG4gICAgXSk7XG4gICAgcE1hcC5zZXQoMywgW1xuICAgICAge3ZhbHVlOiAnMzMuMywzMy4zLDMzLjMnLCBsYWJlbDogJzMzIHwgMzMgfCAzMyd9LFxuICAgICAge3ZhbHVlOiAnMjUuMCwyNS4wLDUwLjAnLCBsYWJlbDogJzI1IHwgMjUgfCA1MCd9LFxuICAgICAge3ZhbHVlOiAnNTAuMCwyNS4wLDI1LjAnLCBsYWJlbDogJzUwIHwgMjUgfCAyNSd9LFxuICAgICAge3ZhbHVlOiAnMjUuMCw1MC4wLDI1LjAnLCBsYWJlbDogJzI1IHwgNTAgfCAyNSd9LFxuICAgICAgY3VzdG9tXG4gICAgXSk7XG4gICAgcE1hcC5zZXQoNCwgW1xuICAgICAge3ZhbHVlOiAnMjUuMCwyNS4wLDI1LjAsMjUuMCcsIGxhYmVsOiAnMjUgfCAyNSB8IDI1IHwgMjUnfSxcbiAgICAgIGN1c3RvbVxuICAgICAgXSk7XG4gICAgcE1hcC5zZXQoJ2N1c3RvbScsIFtjdXN0b21dKTtcblxuICAgIGlmIChyb3dEYXRhICYmIHJvd0RhdGEuY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIGxldCBjb2x1bW5zID0gcm93RGF0YS5jb2x1bW5zO1xuICAgICAgbGV0IHBNYXBWYWwgPSBwTWFwLmdldChjb2x1bW5zLmxlbmd0aCk7XG4gICAgICBsYXlvdXRQcmVzZXQub3B0aW9ucyA9IHBNYXBWYWwgfHwgcE1hcC5nZXQoJ2N1c3RvbScpO1xuICAgICAgbGV0IGN1clZhbCA9IGNvbHVtbnMubWFwKChjb2x1bW5JRCwgaSkgPT4ge1xuICAgICAgICBsZXQgY29sRGF0YSA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbklEKTtcbiAgICAgICAgcmV0dXJuIGNvbERhdGEuY29uZmlnLndpZHRoLnJlcGxhY2UoJyUnLCAnJyk7XG4gICAgICB9KS5qb2luKCcsJyk7XG4gICAgICBpZiAocE1hcFZhbCkge1xuICAgICAgICBwTWFwVmFsLmZvckVhY2goKHZhbCwgaSkgPT4ge1xuICAgICAgICAgIGxldCBvcHRpb25zID0gbGF5b3V0UHJlc2V0Lm9wdGlvbnM7XG4gICAgICAgICAgaWYgKHZhbC52YWx1ZSA9PT0gY3VyVmFsKSB7XG4gICAgICAgICAgICBvcHRpb25zW2ldLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbaV0uc2VsZWN0ZWQ7XG4gICAgICAgICAgICBvcHRpb25zW29wdGlvbnMubGVuZ3RoLTFdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsYXlvdXRQcmVzZXQub3B0aW9ucyA9IHBNYXAuZ2V0KDEpO1xuICAgIH1cblxuICAgIHJldHVybiBsYXlvdXRQcmVzZXQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3aWR0aHMgb2YgY29sdW1ucyBpbiBhIHJvd1xuICAgKiBAcGFyYW0ge09iamVjdH0gcm93IERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB3aWR0aHNcbiAgICovXG4gIHNldENvbHVtbldpZHRocyhyb3csIHdpZHRocykge1xuICAgIGlmICh3aWR0aHMgPT09ICdjdXN0b20nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpZHRocyA9IHdpZHRocy5zcGxpdCgnLCcpO1xuICAgIGxldCBjb2x1bW5zID0gcm93LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLWNvbHVtbnMnKTtcbiAgICBoLmZvckVhY2goY29sdW1ucywgKGNvbHVtbiwgaSkgPT4ge1xuICAgICAgbGV0IHBlcmNlbnRXaWR0aCA9IHdpZHRoc1tpXSArICclJztcbiAgICAgIGNvbHVtbi5kYXRhc2V0LmNvbFdpZHRoID0gcGVyY2VudFdpZHRoO1xuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gcGVyY2VudFdpZHRoO1xuICAgICAgZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKS5jb25maWcud2lkdGggPSBwZXJjZW50V2lkdGg7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY29sdW1uIHByZXNldCA8c2VsZWN0PlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJvd1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGNvbHVtblByZXNldENvbmZpZ1xuICAgKi9cbiAgdXBkYXRlQ29sdW1uUHJlc2V0KHJvdykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG9sZENvbHVtblByZXNldCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuY29sdW1uLXByZXNldCcpO1xuICAgIGxldCByb3dFZGl0ID0gb2xkQ29sdW1uUHJlc2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IGNvbHVtblByZXNldENvbmZpZyA9IF90aGlzLmNvbHVtblByZXNldENvbnRyb2wocm93LmlkKTtcbiAgICBsZXQgbmV3Q29sdW1uUHJlc2V0ID0gX3RoaXMuY3JlYXRlKGNvbHVtblByZXNldENvbmZpZyk7XG5cbiAgICByb3dFZGl0LnJlcGxhY2VDaGlsZChuZXdDb2x1bW5QcmVzZXQsIG9sZENvbHVtblByZXNldCk7XG4gICAgcmV0dXJuIGNvbHVtblByZXNldENvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB7eCwgeX0gY29vcmRpbmF0ZXMgZm9yIHRoZVxuICAgKiBjZW50ZXIgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAqIEBwYXJhbSAge0RPTX0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAge3gseX0gY29vcmRpbmF0ZXNcbiAgICovXG4gIGNvb3JkcyhlbGVtZW50KSB7XG4gICAgbGV0IGVsZW1Qb3NpdGlvbiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwYWdlWDogZWxlbVBvc2l0aW9uLmxlZnQgKyAoZWxlbVBvc2l0aW9uLndpZHRoIC8gMiksXG4gICAgICBwYWdlWTogKGVsZW1Qb3NpdGlvbi50b3AgLSBib2R5UmVjdC50b3ApIC0gKGVsZW1Qb3NpdGlvbi5oZWlnaHQgLyAyKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTG9vcCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBzdGFnZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHN0YWdlIERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge0FycmF5fSAgbG9hZGVkIHJvd3NcbiAgICovXG4gIGxvYWRSb3dzKHN0YWdlKSB7XG4gICAgaWYgKCFzdGFnZSkge1xuICAgICAgc3RhZ2UgPSB0aGlzLmFjdGl2ZVN0YWdlO1xuICAgIH1cblxuICAgIGxldCByb3dzID0gZm9ybURhdGEuc3RhZ2VzLmdldChzdGFnZS5pZCkucm93cztcbiAgICByZXR1cm4gcm93cy5mb3JFYWNoKHJvd0lEID0+IHtcbiAgICAgIGxldCByb3cgPSB0aGlzLmFkZFJvdyhzdGFnZS5pZCwgcm93SUQpO1xuICAgICAgdGhpcy5sb2FkQ29sdW1ucyhyb3cpO1xuICAgICAgZG9tLnVwZGF0ZUNvbHVtblByZXNldChyb3cpO1xuICAgICAgc3RhZ2UuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGNvbHVtbnMgdG8gcm93XG4gICAqIEBwYXJhbSAge09iamVjdH0gcm93XG4gICAqL1xuICBsb2FkQ29sdW1ucyhyb3cpIHtcbiAgICBsZXQgY29sdW1ucyA9IGZvcm1EYXRhLnJvd3MuZ2V0KHJvdy5pZCkuY29sdW1ucztcbiAgICBjb2x1bW5zLmZvckVhY2goY29sdW1uSUQgPT4ge1xuICAgICAgbGV0IGNvbHVtbiA9IHRoaXMuYWRkQ29sdW1uKHJvdy5pZCwgY29sdW1uSUQpO1xuICAgICAgdGhpcy5sb2FkRmllbGRzKGNvbHVtbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIGNvbHVtbnMgZmllbGRzXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29sdW1uIGNvbHVtbiBjb25maWcgb2JqZWN0XG4gICAqL1xuICBsb2FkRmllbGRzKGNvbHVtbikge1xuICAgIGxldCBmaWVsZHMgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpLmZpZWxkcztcbiAgICBmaWVsZHMuZm9yRWFjaChmaWVsZElEID0+IHRoaXMuYWRkRmllbGQoY29sdW1uLmlkLCBmaWVsZElEKSk7XG4gICAgdGhpcy5maWVsZE9yZGVyQ2xhc3MoY29sdW1uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgb3IgYWRkIGEgZmllbGQgYW5kIGNvbHVtbiB0aGVuIHJldHVybiBpdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnQgRHJhZyBldmVudCBkYXRhXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgIGNvbHVtblxuICAgKi9cbiAgY3JlYXRlQ29sdW1uKGV2dCkge1xuICAgIGxldCBmVHlwZSA9IGV2dC5mcm9tLmZUeXBlO1xuICAgIGxldCBmaWVsZCA9IGZUeXBlID09PSAnY29sdW1ucycgPyBldnQuaXRlbSA6IG5ldyBGaWVsZChldnQuaXRlbS5pZCk7XG4gICAgbGV0IGNvbHVtbiA9IG5ldyBDb2x1bW4oKTtcblxuICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2ZpcnN0LWZpZWxkJyk7XG4gICAgY29sdW1uLmFwcGVuZENoaWxkKGZpZWxkKTtcbiAgICBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpLmZpZWxkcy5wdXNoKGZpZWxkLmlkKTtcbiAgICByZXR1cm4gY29sdW1uO1xuICB9XG5cbiAgLyoqXG4gICAqIFtwcm9jZXNzQ29sdW1uQ29uZmlnIGRlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGNvbHVtbkRhdGEgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgcHJvY2Vzc0NvbHVtbkNvbmZpZyhjb2x1bW5EYXRhKSB7XG4gICAgaWYgKGNvbHVtbkRhdGEuY2xhc3NOYW1lKSB7XG4gICAgICBjb2x1bW5EYXRhLmNsYXNzTmFtZS5wdXNoKCdmLXJlbmRlci1jb2x1bW4nKTtcbiAgICB9XG4gICAgbGV0IGNvbFdpZHRoID0gY29sdW1uRGF0YS5jb25maWcud2lkdGggfHwgJzEwMCUnO1xuICAgIGNvbHVtbkRhdGEuc3R5bGUgPSBgd2lkdGg6ICR7Y29sV2lkdGh9YDtcbiAgICByZXR1cm4gY29sdW1uRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGN1cnJlbnRseSBsb2FkZWQgZm9ybURhdGEgdG8gdGhlIHJlbmRlclRhcmdldFxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVuZGVyVGFyZ2V0XG4gICAqL1xuICByZW5kZXJGb3JtKHJlbmRlclRhcmdldCkge1xuICAgIHRoaXMuZW1wdHkocmVuZGVyVGFyZ2V0KTtcbiAgICBsZXQgcmVuZGVyRGF0YSA9IGRhdGEucHJlcERhdGE7XG4gICAgbGV0IHJlbmRlckNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybWVvLXJlbmRlcicpLmxlbmd0aDtcbiAgICBsZXQgY29udGVudCA9IE9iamVjdC52YWx1ZXMocmVuZGVyRGF0YS5zdGFnZXMpLm1hcChzdGFnZURhdGEgPT4ge1xuICAgICAgbGV0IHtyb3dzLCAuLi5zdGFnZX0gPSBzdGFnZURhdGE7XG4gICAgICByb3dzID0gcm93cy5tYXAocm93SUQgPT4ge1xuICAgICAgICBsZXQge2NvbHVtbnMsIC4uLnJvd30gPSByZW5kZXJEYXRhLnJvd3Nbcm93SURdO1xuICAgICAgICBsZXQgY29scyA9IGNvbHVtbnMubWFwKGNvbHVtbklEID0+IHtcbiAgICAgICAgICBsZXQgY29sID0gdGhpcy5wcm9jZXNzQ29sdW1uQ29uZmlnKHJlbmRlckRhdGEuY29sdW1uc1tjb2x1bW5JRF0pO1xuICAgICAgICAgIGxldCBmaWVsZHMgPSBjb2wuZmllbGRzLm1hcChmaWVsZElEID0+IHJlbmRlckRhdGEuZmllbGRzW2ZpZWxkSURdKTtcbiAgICAgICAgICBjb2wudGFnID0gJ2Rpdic7XG4gICAgICAgICAgY29sLmNvbnRlbnQgPSBmaWVsZHM7XG4gICAgICAgICAgcmV0dXJuIGNvbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvdy50YWcgPSAnZGl2JztcbiAgICAgICAgcm93LmNvbnRlbnQgPSBbY29sc107XG4gICAgICAgIGxldCByb3dEYXRhID0gY2xvbmUocm93KTtcbiAgICAgICAgaWYgKHJvdy5jb25maWcuaW5wdXRHcm91cCkge1xuICAgICAgICAgIGxldCByZW1vdmVCdXR0b24gPSB7XG4gICAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAncmVtb3ZlLWlucHV0LWdyb3VwJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCdyZW1vdmUnKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICBtb3VzZW92ZXI6IGUgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnd2lsbC1yZW1vdmUnKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd3aWxsLXJlbW92ZScpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjbGljazogZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbnB1dEdyb3VwID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgaUdXcmFwID0gY3VycmVudElucHV0R3JvdXAucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgaUcgPSBpR1dyYXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZi1pbnB1dC1ncm91cCcpO1xuICAgICAgICAgICAgICAgIGlmIChpRy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICBkb20ucmVtb3ZlKGN1cnJlbnRJbnB1dEdyb3VwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05lZWQgYXQgbGVhc3QgMSBncm91cCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgcm93RGF0YS5jb250ZW50LnVuc2hpZnQocmVtb3ZlQnV0dG9uKTtcbiAgICAgICAgICBsZXQgaW5wdXRHcm91cFdyYXAgPSB7XG4gICAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgICAgaWQ6IHV1aWQoKSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2YtaW5wdXQtZ3JvdXAtd3JhcCdcbiAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJvd0RhdGEuYXR0cnMuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygcm93RGF0YS5hdHRycy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcm93RGF0YS5hdHRycy5jbGFzc05hbWUgKz0gJyBmLWlucHV0LWdyb3VwJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3dEYXRhLmF0dHJzLmNsYXNzTmFtZS5wdXNoKCdmLWlucHV0LWdyb3VwJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYWRkQnV0dG9uID0ge1xuICAgICAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2FkZC1pbnB1dC1ncm91cCBidG4gcHVsbC1yaWdodCcsXG4gICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudDogJ0FkZCArJyxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICBjbGljazogZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZJbnB1dEdyb3VwID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Um93ID0gZG9tLmNyZWF0ZShyb3dEYXRhKTtcbiAgICAgICAgICAgICAgICBmSW5wdXRHcm91cC5pbnNlcnRCZWZvcmUobmV3Um93LCBmSW5wdXRHcm91cC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJvdy5jb250ZW50LnVuc2hpZnQocmVtb3ZlQnV0dG9uKTtcbiAgICAgICAgICBpbnB1dEdyb3VwV3JhcC5jb250ZW50ID0gW3Jvd0RhdGEsIGFkZEJ1dHRvbl07XG4gICAgICAgICAgcm93ID0gaW5wdXRHcm91cFdyYXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgIH0pO1xuICAgICAgc3RhZ2UudGFnID0gJ2Rpdic7XG4gICAgICBzdGFnZS5jb250ZW50ID0gcm93cztcbiAgICAgIHN0YWdlLmNsYXNzTmFtZSA9ICdmLXN0YWdlJztcbiAgICAgIHJldHVybiBzdGFnZTtcbiAgICB9KTtcblxuICAgIGxldCBjb25maWcgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWQ6IGBmb3JtZW8tcmVuZGVyZWQtJHtyZW5kZXJDb3VudH1gLFxuICAgICAgY2xhc3NOYW1lOiAnZm9ybWVvLXJlbmRlciBmb3JtZW8nLFxuICAgICAgY29udGVudFxuICAgIH07XG5cbiAgICByZW5kZXJUYXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGUoY29uZmlnKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBlZGl0b3JcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICovXG4gIGNsZWFyRm9ybShldnQpIHtcbiAgICB0aGlzLnN0YWdlcy5mb3JFYWNoKGRTdGFnZSA9PiB0aGlzLmNsZWFyU3RhZ2UoZFN0YWdlLnN0YWdlKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgZmllbGRzIGFuZCByZXNldHMgYSBzdGFnZVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IHN0YWdlIERPTSBlbGVtZW50XG4gICAqL1xuICBjbGVhclN0YWdlKHN0YWdlKSB7XG4gICAgc3RhZ2UuY2xhc3NMaXN0LmFkZCgncmVtb3ZpbmctYWxsLWZpZWxkcycpO1xuXG4gICAgY29uc3QgcmVzZXRTdGFnZSA9ICgpID0+IHtcbiAgICAgIC8vIEVtcHR5IHRoZSBkYXRhIHJlZ2lzdGVyIGZvciBzdGFnZVxuICAgICAgLy8gYW5kIGV2ZXJ5dGhpbmcgYmVsb3cgaXQuXG4gICAgICBkb20uZW1wdHkoc3RhZ2UpO1xuICAgICAgc3RhZ2UuY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZpbmctYWxsLWZpZWxkcycpO1xuICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICBkb20uZW1wdHlDbGFzcyhzdGFnZSk7XG4gICAgICBhbmltYXRlLnNsaWRlRG93bihzdGFnZSwgMzAwKTtcbiAgICB9O1xuXG4gICAgLy8gdmFyIG1hcmtFbXB0eUFycmF5ID0gW107XG5cbiAgICAvLyBpZiAob3B0cy5wcmVwZW5kKSB7XG4gICAgLy8gICBtYXJrRW1wdHlBcnJheS5wdXNoKHRydWUpO1xuICAgIC8vIH1cblxuICAgIC8vIGlmIChvcHRzLmFwcGVuZCkge1xuICAgIC8vICAgbWFya0VtcHR5QXJyYXkucHVzaCh0cnVlKTtcbiAgICAvLyB9XG5cbiAgICAvLyBpZiAoIW1hcmtFbXB0eUFycmF5LnNvbWUoZWxlbSA9PiBlbGVtID09PSB0cnVlKSkge1xuICAgIC8vIHN0YWdlLmNsYXNzTGlzdC5hZGQoJ2VtcHR5LXN0YWdlcycpO1xuICAgIC8vIH1cblxuICAgIGFuaW1hdGUuc2xpZGVVcChzdGFnZSwgNjAwLCByZXNldFN0YWdlKTtcbiAgICAvLyBhbmltYXRlLnNsaWRlVXAoc3RhZ2UsIDIwMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSByb3cgdG8gdGhlIHN0YWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFnZUlEXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByb3dJRFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XG4gICAqL1xuICBhZGRSb3coc3RhZ2VJRCwgcm93SUQpIHtcbiAgICBsZXQgcm93ID0gbmV3IFJvdyhyb3dJRCk7XG4gICAgbGV0IHN0YWdlID0gc3RhZ2VJRCA/IHRoaXMuc3RhZ2VzLmdldChzdGFnZUlEKS5zdGFnZSA6IHRoaXMuYWN0aXZlU3RhZ2U7XG4gICAgc3RhZ2UuYXBwZW5kQ2hpbGQocm93KTtcbiAgICBkYXRhLnNhdmVSb3dPcmRlcihzdGFnZSk7XG4gICAgdGhpcy5lbXB0eUNsYXNzKHN0YWdlKTtcbiAgICBldmVudHMuZm9ybWVvVXBkYXRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlVHlwZTogJ2FkZGVkJyxcbiAgICAgICAgY2hhbmdlZDogJ3JvdycsXG4gICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIG5ld1ZhbHVlOiBmb3JtRGF0YS5yb3dzLmdldChyb3cuaWQpXG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgQ29sdW1uIHRvIGEgcm93XG4gICAqIEBwYXJhbSB7U3RyaW5nfSByb3dJRFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sdW1uSURcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudFxuICAgKi9cbiAgYWRkQ29sdW1uKHJvd0lELCBjb2x1bW5JRCkge1xuICAgIGxldCBjb2x1bW4gPSBuZXcgQ29sdW1uKGNvbHVtbklEKTtcbiAgICBsZXQgcm93ID0gdGhpcy5yb3dzLmdldChyb3dJRCkucm93O1xuICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHJvdyk7XG4gICAgdGhpcy5lbXB0eUNsYXNzKHJvdyk7XG4gICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVwZGF0ZVR5cGU6ICdhZGRlZCcsXG4gICAgICAgIGNoYW5nZWQ6ICdjb2x1bW4nLFxuICAgICAgICBvbGRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBuZXdWYWx1ZTogZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuICAgIHJldHVybiBjb2x1bW47XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyBhIHNvcnRhYmxlcyBgZGlzYWJsZWRgIG9wdGlvbi5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtIERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IHN0YXRlXG4gICAqL1xuICB0b2dnbGVTb3J0YWJsZShlbGVtLCBzdGF0ZSkge1xuICAgIGxldCB7ZlR5cGV9ID0gZWxlbTtcbiAgICBpZiAoIWZUeXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwRnR5cGUgPSBlbGVtLnBhcmVudEVsZW1lbnQuZlR5cGU7XG4gICAgY29uc3Qgc29ydGFibGUgPSBkb21bZlR5cGVdLmdldChlbGVtLmlkKS5zb3J0YWJsZTtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3RhdGUgPSAhc29ydGFibGUub3B0aW9uKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBzb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJywgc3RhdGUpO1xuICAgIGlmIChwRnR5cGUgJiYgaC5pbkFycmF5KHBGdHlwZSwgWydyb3dzJywgJ2NvbHVtbnMnLCAnc3RhZ2VzJ10pKSB7XG4gICAgICB0aGlzLnRvZ2dsZVNvcnRhYmxlKGVsZW0ucGFyZW50RWxlbWVudCwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZmllbGQgdG8gYSBjb2x1bW5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbHVtbklEXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZElEXG4gICAqIEByZXR1cm4ge09iamVjdH0gZmllbGRcbiAgICovXG4gIGFkZEZpZWxkKGNvbHVtbklELCBmaWVsZElEKSB7XG4gICAgbGV0IGZpZWxkID0gbmV3IEZpZWxkKGZpZWxkSUQpO1xuICAgIGlmIChjb2x1bW5JRCkge1xuICAgICAgbGV0IGNvbHVtbiA9IHRoaXMuY29sdW1ucy5nZXQoY29sdW1uSUQpLmNvbHVtbjtcbiAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChmaWVsZCk7XG4gICAgICBkYXRhLnNhdmVGaWVsZE9yZGVyKGNvbHVtbik7XG4gICAgICB0aGlzLmVtcHR5Q2xhc3MoY29sdW1uKTtcbiAgICB9XG4gICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVwZGF0ZVR5cGU6ICdhZGQnLFxuICAgICAgICBjaGFuZ2VkOiAnZmllbGQnLFxuICAgICAgICBvbGRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBuZXdWYWx1ZTogZm9ybURhdGEuZmllbGRzLmdldChmaWVsZC5pZClcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICByZXR1cm4gZmllbGQ7XG4gIH1cblxuICAvKipcbiAgICogQXBsbHkgZW1wdHkgY2xhc3MgdG8gZWxlbWVudCBpZiBkb2VzIG5vdCBoYXZlIGNoaWxkcmVuXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbVxuICAgKi9cbiAgZW1wdHlDbGFzcyhlbGVtKSB7XG4gICAgbGV0IHR5cGUgPSBlbGVtLmZUeXBlO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBsZXQgY2hpbGRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICBjaGlsZE1hcC5zZXQoJ3Jvd3MnLCAnY29sdW1ucycpO1xuICAgICAgY2hpbGRNYXAuc2V0KCdjb2x1bW5zJywgJ2ZpZWxkcycpO1xuICAgICAgY2hpbGRNYXAuc2V0KCdzdGFnZXMnLCAncm93cycpO1xuICAgICAgbGV0IGNoaWxkcmVuID0gZWxlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBzdGFnZS0ke2NoaWxkTWFwLmdldCh0eXBlKX1gKTtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZShgZW1wdHktJHt0eXBlfWAsICFjaGlsZHJlbi5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG9ydGhhbmQgZXhwYW5kZXIgZm9yIGRvbS5jcmVhdGVcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0YWdcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhdHRyc1xuICAgKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl8U3RyaW5nfSBjb250ZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIG5vZGVcbiAgICovXG4gIGgodGFnLCBhdHRycywgY29udGVudCkge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7dGFnLCBhdHRycywgY29udGVudH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0eWxlIE9iamVjdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJ1bGVzXG4gICAqIEByZXR1cm4ge051bWJlcn0gaW5kZXggb2YgYWRkZWQgcnVsZVxuICAgKi9cbiAgaW5zZXJ0UnVsZShydWxlcykge1xuICAgIGNvbnN0IHN0eWxlU2hlZXQgPSB0aGlzLnN0eWxlU2hlZXQ7XG4gICAgbGV0IHJ1bGVzTGVuZ3RoID0gc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDAsIHJsID0gcnVsZXMubGVuZ3RoOyBpIDwgcmw7IGkrKykge1xuICAgICAgbGV0IGogPSAxO1xuICAgICAgbGV0IHJ1bGUgPSBydWxlc1tpXTtcbiAgICAgIGxldCBzZWxlY3RvciA9IHJ1bGVzW2ldWzBdO1xuICAgICAgbGV0IHByb3BTdHIgPSAnJztcbiAgICAgIC8vIElmIHRoZSBzZWNvbmQgYXJndW1lbnQgb2YgYSBydWxlIGlzIGFuIGFycmF5XG4gICAgICAvLyBvZiBhcnJheXMsIGNvcnJlY3Qgb3VyIHZhcmlhYmxlcy5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocnVsZVsxXVswXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgcnVsZSA9IHJ1bGVbMV07XG4gICAgICAgIGogPSAwO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBwbCA9IHJ1bGUubGVuZ3RoOyBqIDwgcGw7IGorKykge1xuICAgICAgICBsZXQgcHJvcCA9IHJ1bGVbal07XG4gICAgICAgIGxldCBpbXBvcnRhbnQgPSAocHJvcFsyXSA/ICcgIWltcG9ydGFudCcgOiAnJyk7XG4gICAgICAgIHByb3BTdHIgKz0gYCR7cHJvcFswXX06JHtwcm9wWzFdfSR7aW1wb3J0YW50fTtgO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnNlcnQgQ1NTIFJ1bGVcbiAgICAgIHJldHVybiBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYCR7c2VsZWN0b3J9IHsgJHtwcm9wU3RyfSB9YCwgcnVsZXNMZW5ndGgpO1xuICAgIH1cbiAgfVxuXG59XG5cbmNvbnN0IGRvbSA9IG5ldyBET00oKTtcblxuZXhwb3J0IGRlZmF1bHQgZG9tO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vZG9tLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUtBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFyQkE7QUFDQTtBQXVCQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBQ0E7QUFDQTtBQUFBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBeUJBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUF0QkE7QUFDQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQXRCQTtBQUhBO0FBQ0E7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVCQTtBQUNBO0FBOEJBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU5BO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkE7QUFKQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFQQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQXQrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUxBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFSQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQVJBO0FBREE7QUFZQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBUEE7QUFEQTtBQVdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFSQTtBQURBO0FBeEJBO0FBQ0E7QUFxQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQSswQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(\\.|\\[\\])(?:\\4|$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  if (Array.isArray(string)) {\n    result = string;\n  } else {\n    string.replace(rePropName, function (match, number, quote, string) {\n      var segment = void 0;\n      if (quote) {\n        segment = string.replace(reEscapeChar, \'$1\');\n      } else {\n        segment = number || match;\n      }\n      result.push(segment);\n    });\n  }\n  return result;\n};\n\nvar helpers = {\n  hyphenCase: function hyphenCase(str) {\n    str = str.replace(/([A-Z])/g, function ($1) {\n      return \'-\' + $1.toLowerCase();\n    });\n\n    return str.replace(/\\s/g, \'-\').replace(/^-+/g, \'\');\n  },\n\n  safeAttrName: function safeAttrName(name) {\n    var safeAttr = {\n      className: \'class\'\n    };\n\n    return safeAttr[name] || helpers.hyphenCase(name);\n  },\n  ajax: function ajax(file, callback) {\n    return new window.Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\'GET\', file, true);\n      xhr.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n          callback(xhr);\n          resolve(xhr.response);\n        } else {\n          reject({\n            status: this.status,\n            statusText: xhr.statusText\n          });\n        }\n      };\n      xhr.onerror = function () {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        });\n      };\n      xhr.send();\n    });\n  },\n  insertIcons: function insertIcons(response) {\n    var id = \'formeo-sprite\';\n    var iconSpriteWrap = _dom2.default.create({\n      tag: \'div\',\n      content: response.responseText,\n      id: id\n    });\n    iconSpriteWrap.style.display = \'none\';\n    var existingSprite = document.getElementById(id);\n    if (existingSprite) {\n      existingSprite.parentElement.replaceChild(iconSpriteWrap, existingSprite);\n    } else {\n      document.body.insertBefore(iconSpriteWrap, document.body.childNodes[0]);\n    }\n  },\n  insertStyle: function insertStyle(response) {\n    var formeoStyle = _dom2.default.create({\n      tag: \'style\',\n      content: response.responseText\n    });\n    document.head.appendChild(formeoStyle);\n  },\n  capitalize: function capitalize(str) {\n    return str.replace(/\\b\\w/g, function (m) {\n      return m.toUpperCase();\n    });\n  },\n\n  inArray: function inArray(needle, haystack) {\n    return haystack.indexOf(needle) !== -1;\n  },\n\n  forEach: function forEach(array, callback, scope) {\n    for (var i = 0; i < array.length; i++) {\n      callback.call(scope, array[i], i);\n    }\n  },\n\n  copyObj: function copyObj(obj) {\n    return window.JSON.parse(window.JSON.stringify(obj));\n  },\n\n  map: function map(arr, callback, scope) {\n    var newArray = [];\n    helpers.forEach(arr, function (elem, i) {\n      return newArray.push(callback(i));\n    });\n\n    return newArray;\n  },\n  subtract: function subtract(arr, from) {\n    return from.filter(function (a) {\n      return !~this.indexOf(a);\n    }, arr);\n  },\n\n  indexOfNode: function indexOfNode(node, parent) {\n    var parentElement = parent || node.parentElement;\n    var nodeList = Array.prototype.slice.call(parentElement.childNodes);\n    return nodeList.indexOf(node);\n  },\n\n  isInt: function isInt(n) {\n    return Number(n) === n && n % 1 === 0;\n  },\n\n  get: function get(object, path) {\n    path = stringToPath(path);\n\n    var index = 0;\n    var length = path.length;\n\n    while (object != null && index < length) {\n      object = object[path[index++]];\n    }\n\n    return index && index === length ? object : undefined;\n  },\n  set: function set(object, path, value, customizer) {\n    path = stringToPath(path);\n\n    var index = -1;\n    var length = path.length;\n    var lastIndex = length - 1;\n    var nested = object;\n\n    while (nested !== null && ++index < length) {\n      var key = path[index];\n      if ((typeof nested === \'undefined\' ? \'undefined\' : _typeof(nested)) === \'object\') {\n        var newValue = value;\n        if (index !== lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = objValue === null ? [] : objValue;\n          }\n        }\n\n        if (!(hasOwnProperty.call(nested, key) && nested[key] === newValue) || newValue === undefined && !(key in nested)) {\n          nested[key] = newValue;\n        }\n      }\n      nested = nested[key];\n    }\n\n    return object;\n  },\n\n  merge: function merge(obj1, obj2) {\n    var mergedObj = Object.assign({}, obj1, obj2);\n    for (var prop in obj2) {\n      if (mergedObj.hasOwnProperty(prop)) {\n        if (Array.isArray(obj2[prop])) {\n          if (obj1) {\n            if (Array.isArray(obj1[prop])) {\n              mergedObj[prop] = obj1[prop].concat(obj2[prop]);\n            } else {\n              mergedObj[prop] = obj2[prop];\n            }\n          } else {\n            mergedObj[prop] = obj2[prop];\n          }\n        } else if (_typeof(obj2[prop]) === \'object\') {\n          mergedObj[prop] = helpers.merge(obj1[prop], obj2[prop]);\n        } else {\n          mergedObj[prop] = obj2[prop];\n        }\n      }\n    }\n    return mergedObj;\n  },\n\n  orderObjectsBy: function orderObjectsBy(elements, order, path) {\n    var objOrder = (0, _utils.unique)(order);\n    var newOrder = objOrder.map(function (key) {\n      return elements.filter(function (elem) {\n        var propVal = helpers.get(elem, path);\n        return propVal === key;\n      })[0];\n    }).filter(Boolean);\n    var orderedElements = newOrder.concat(elements);\n\n    return (0, _utils.unique)(orderedElements);\n  },\n\n  toggleElementsByStr: function toggleElementsByStr(elems, term) {\n    var filteredElems = [];\n    helpers.forEach(elems, function (elem) {\n      var txt = elem.textContent.toLowerCase();\n      if (txt.indexOf(term.toLowerCase()) !== -1) {\n        elem.style.display = \'block\';\n        filteredElems.push(elem);\n      } else {\n        elem.style.display = \'none\';\n      }\n    });\n\n    return filteredElems;\n  }\n\n};\n\nexports.default = helpers;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2hlbHBlcnMuanM/ZjM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCB7dW5pcXVlfSBmcm9tICcuL3V0aWxzJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5jb25zdCByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KFxcLnxcXFtcXF0pKD86XFw0fCQpKS9nO1xuY29uc3QgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbmNvbnN0IHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICBsZXQgcmVzdWx0ID0gW107XG4gIGlmIChBcnJheS5pc0FycmF5KHN0cmluZykpIHtcbiAgICByZXN1bHQgPSBzdHJpbmc7XG4gIH0gZWxzZSB7XG4gICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN0cmluZykge1xuICAgICAgbGV0IHNlZ21lbnQ7XG4gICAgICBpZiAocXVvdGUpIHtcbiAgICAgICAgc2VnbWVudCA9IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWdtZW50ID0gKG51bWJlciB8fCBtYXRjaCk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgaGVscGVycyA9IHtcblxuICAvKipcbiAgICogQ29udmVydCBjYW1lbENhc2UgaW50byBsb3dlcmNhc2UtaHlwaGVuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGh5cGhlbkNhc2U6IChzdHIpID0+IHtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkge1xuICAgICAgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9nLCAnLScpLnJlcGxhY2UoL14tKy9nLCAnJyk7XG4gIH0sXG5cbiAgc2FmZUF0dHJOYW1lOiBuYW1lID0+IHtcbiAgICBsZXQgc2FmZUF0dHIgPSB7XG4gICAgICBjbGFzc05hbWU6ICdjbGFzcydcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNhZmVBdHRyW25hbWVdIHx8IGhlbHBlcnMuaHlwaGVuQ2FzZShuYW1lKTtcbiAgfSxcbiAgYWpheDogKGZpbGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGUsIHRydWUpO1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgY2FsbGJhY2soeGhyKTtcbiAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSk7XG4gIH0sXG4gIGluc2VydEljb25zOiByZXNwb25zZSA9PiB7XG4gICAgY29uc3QgaWQgPSAnZm9ybWVvLXNwcml0ZSc7XG4gICAgbGV0IGljb25TcHJpdGVXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2VUZXh0LFxuICAgICAgaWRcbiAgICB9KTtcbiAgICBpY29uU3ByaXRlV3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGNvbnN0IGV4aXN0aW5nU3ByaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChleGlzdGluZ1Nwcml0ZSkge1xuICAgICAgZXhpc3RpbmdTcHJpdGUucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQoaWNvblNwcml0ZVdyYXAsIGV4aXN0aW5nU3ByaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoaWNvblNwcml0ZVdyYXAsIGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7XG4gICAgfVxuICB9LFxuICBpbnNlcnRTdHlsZTogcmVzcG9uc2UgPT4ge1xuICAgIGxldCBmb3JtZW9TdHlsZSA9IGRvbS5jcmVhdGUoe1xuICAgICAgdGFnOiAnc3R5bGUnLFxuICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2VUZXh0XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChmb3JtZW9TdHlsZSk7XG4gIH0sXG4gIGNhcGl0YWxpemU6IHN0ciA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24obSkge1xuICAgICAgcmV0dXJuIG0udG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgfSxcbiAgLy8gbmljZXIgc3ludGF4IGZvciBjaGVja2luZyB0aGUgZXhpc3RlbmNlIG9mIGFuIGVsZW1lbnQgaW4gYW4gYXJyYXlcbiAgaW5BcnJheTogKG5lZWRsZSwgaGF5c3RhY2spID0+IHtcbiAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpICE9PSAtMTtcbiAgfSxcbiAgLy8gZm9yRWFjaCB0aGF0IGNhbiBiZSB1c2VkIG9uIG5vZGVMaXN0XG4gIGZvckVhY2g6IChhcnJheSwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2suY2FsbChzY29wZSwgYXJyYXlbaV0sIGkpO1xuICAgIH1cbiAgfSxcbiAgLy8gQWRkZWQgYmVjYXVzZSBPYmplY3QuYXNzaWduIGlzIG11dGF0aW5nIG9iamVjdHMuXG4gIC8vIE1heWJlIGEgYmFiZWwgcG9seWZpbGwgaXNzdWU/XG4gIGNvcHlPYmo6IG9iaiA9PiB7XG4gICAgcmV0dXJuICh3aW5kb3cuSlNPTi5wYXJzZSh3aW5kb3cuSlNPTi5zdHJpbmdpZnkob2JqKSkpO1xuICB9LFxuXG4gIC8vIGJhc2ljIG1hcCB0aGF0IGNhbiBiZSB1c2VkIG9uIG5vZGVMaXN0XG4gIG1hcDogKGFyciwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gW107XG4gICAgaGVscGVycy5mb3JFYWNoKGFyciwgKGVsZW0sIGkpID0+IG5ld0FycmF5LnB1c2goY2FsbGJhY2soaSkpKTtcblxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfSxcbiAgc3VidHJhY3Q6IChhcnIsIGZyb20pID0+IHtcbiAgICByZXR1cm4gZnJvbS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuICF+dGhpcy5pbmRleE9mKGEpO1xuICAgIH0sIGFycik7XG4gIH0sXG4gIC8vIGZpbmQgdGhlIGluZGV4IG9mIG9uZSBub2RlIGluIGFub3RoZXJcbiAgaW5kZXhPZk5vZGU6IChub2RlLCBwYXJlbnQpID0+IHtcbiAgICBsZXQgcGFyZW50RWxlbWVudCA9IHBhcmVudCB8fCBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IG5vZGVMaXN0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocGFyZW50RWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICByZXR1cm4gbm9kZUxpc3QuaW5kZXhPZihub2RlKTtcbiAgfSxcbiAgLy8gVGVzdHMgaWYgaXMgd2hvbGUgbnVtYmVyLiByZXR1cm5zIGZhbHNlIGlmIG4gaXMgRmxvYXRcbiAgaXNJbnQ6IChuKSA9PiB7XG4gICAgcmV0dXJuIE51bWJlcihuKSA9PT0gbiAmJiBuICUgMSA9PT0gMDtcbiAgfSxcbiAgLyoqXG4gICAqIGdldCBuZXN0ZWQgcHJvcGVydHkgdmFsdWUgaW4gYW4gb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybiB7U3RyaW5nfEFycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAqL1xuICBnZXQ6IChvYmplY3QsIHBhdGgpID0+IHtcbiAgICBwYXRoID0gc3RyaW5nVG9QYXRoKHBhdGgpO1xuXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdFtwYXRoW2luZGV4KytdXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICB9LFxuICBzZXQ6IChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSA9PiB7XG4gICAgcGF0aCA9IHN0cmluZ1RvUGF0aChwYXRoKTtcblxuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGxldCBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBsZXQgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICBsZXQgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgd2hpbGUgKG5lc3RlZCAhPT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBsZXQga2V5ID0gcGF0aFtpbmRleF07XG4gICAgICBpZiAodHlwZW9mIG5lc3RlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChpbmRleCAhPT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgbGV0IG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlID09PSBudWxsID8gW10gOiBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG5lc3RlZCwga2V5KSAmJiAobmVzdGVkW2tleV0gPT09IG5ld1ZhbHVlKSkgfHxcbiAgICAgICAgICAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBuZXN0ZWQpKSkge1xuICAgICAgICAgIG5lc3RlZFtrZXldID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0sXG4gIC8qKlxuICAgKiBNZXJnZSBvbmUgb2JqZWN0IHdpdGggYW5vdGhlci5cbiAgICogVGhpcyBpcyBleHBlbnNpdmUsIHVzZSBhcyBsaXR0bGUgYXMgcG9zc2libGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gb2JqMVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgIG1lcmdlZCBvYmplY3RcbiAgICovXG4gIG1lcmdlOiAob2JqMSwgb2JqMikgPT4ge1xuICAgIGxldCBtZXJnZWRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBvYmoxLCBvYmoyKTtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iajIpIHtcbiAgICAgIGlmIChtZXJnZWRPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqMltwcm9wXSkpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICBpZiAob2JqMSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqMVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgbWVyZ2VkT2JqW3Byb3BdID0gb2JqMVtwcm9wXS5jb25jYXQob2JqMltwcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBvYmoyW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBvYmoyW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMltwcm9wXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBoZWxwZXJzLm1lcmdlKG9iajFbcHJvcF0sIG9iajJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajJbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZE9iajtcbiAgfSxcblxuICAvKipcbiAgICogT3JkZXJzIGFuIGFycmF5IG9mIG9iamVjdHMgYnkgc3BlY2lmaWMgYXR0cmlidXRlXG4gICAqIEBwYXJhbSAge0FycmF5fSAgZWxlbWVudHMgIEFycmF5IG9mIGVsZW1lbnQgb2JqZWN0c1xuICAgKiBAcGFyYW0gIHtBcnJheX0gIG9yZGVyICAgICBhcnJheSBvZiBrZXlzIHRvIG9yZGVyIG9iamVjdHMgYnlcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYXRoICAgICAgc3RyaW5nIHBhdGggdG8gcHJvcGVydHkgdG8gb3JkZXIgYnlcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgT3JkZXJlZCBBcnJheSBvZiBFbGVtZW50IE9iamVjdHNcbiAgICovXG4gIG9yZGVyT2JqZWN0c0J5OiAoZWxlbWVudHMsIG9yZGVyLCBwYXRoKSA9PiB7XG4gICAgbGV0IG9iak9yZGVyID0gdW5pcXVlKG9yZGVyKTtcbiAgICBjb25zdCBuZXdPcmRlciA9IG9iak9yZGVyLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICBsZXQgcHJvcFZhbCA9IGhlbHBlcnMuZ2V0KGVsZW0sIHBhdGgpO1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsID09PSBrZXk7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBvcmRlcmVkRWxlbWVudHMgPSBuZXdPcmRlci5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgcmV0dXJuIHVuaXF1ZShvcmRlcmVkRWxlbWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIaWRlIG9yIHNob3cgYW4gQXJyYXkgb3IgSFRNTENvbGxlY3Rpb24gb2YgZWxlbWVudHNcbiAgICogQHBhcmFtICB7QXJyYXl9IGVsZW1zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdGVybSAgbWF0Y2ggdGV4dENvbnRlbnQgdG8gdGhpcyB0ZXJtXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgZmlsdGVyZWQgZWxlbWVudHNcbiAgICovXG4gIHRvZ2dsZUVsZW1lbnRzQnlTdHI6IChlbGVtcywgdGVybSkgPT4ge1xuICAgIGxldCBmaWx0ZXJlZEVsZW1zID0gW107XG4gICAgaGVscGVycy5mb3JFYWNoKGVsZW1zLCBlbGVtID0+IHtcbiAgICAgIGxldCB0eHQgPSBlbGVtLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHh0LmluZGV4T2YodGVybS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZmlsdGVyZWRFbGVtcy5wdXNoKGVsZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbHRlcmVkRWxlbXM7XG4gIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGVscGVycztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2hlbHBlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMU9BO0FBQ0E7QUE0T0EiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.escapeHtml = exports.memoize = exports.clicked = exports.cleanObj = exports.numberBetween = exports.numToPercent = exports.clone = exports.uuid = exports.strMapToObj = exports.objToStrMap = exports.unique = exports.closestFtype = exports.closest = exports.remove = exports.match = undefined;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _uuidV = __webpack_require__(/*! uuid-v4 */ 22);\n\nvar _uuidV2 = _interopRequireDefault(_uuidV);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar match = exports.match = function match() {\n  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'\';\n  var filter = arguments[1];\n\n  if (!filter) {\n    console.warn(\'utils.match missing argument 2.\');\n    return false;\n  }\n  var matchOperators = /[|\\\\{}()[\\]^*$+?.]/g;\n  var filterArray = typeof filter === \'string\' ? [filter] : filter;\n  filterArray = filterArray.map(function (filterStr) {\n    return filterStr === \'*\' ? \'\' : filterStr.replace(matchOperators, \'\\\\$&\');\n  });\n\n  var isMatch = true;\n  if (filterArray.length) {\n    isMatch = !str.match(new RegExp(filterArray.join(\'|\'), \'i\'));\n  }\n\n  return isMatch;\n};\n\nvar remove = exports.remove = function remove(arr, val) {\n  var index = arr.indexOf(val);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\n\nvar closest = exports.closest = function closest(el, cls) {\n  var className = cls.replace(\'.\', \'\');\n  while ((el = el.parentElement) && !el.classList.contains(className)) {}\n  return el;\n};\n\nvar closestFtype = exports.closestFtype = function closestFtype(el) {\n  while ((el = el.parentElement) && !el.fType) {}\n  return el;\n};\n\nvar unique = exports.unique = function unique(array) {\n  return array.filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nvar objToStrMap = exports.objToStrMap = function objToStrMap(obj) {\n  var strMap = new Map();\n  for (var _iterator = Object.keys(obj), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var k = _ref;\n\n    strMap.set(k, obj[k]);\n  }\n  return strMap;\n};\n\nvar strMapToObj = exports.strMapToObj = function strMapToObj(strMap) {\n  var obj = Object.create(null);\n  strMap.forEach(function (v, k) {\n    obj[k] = v;\n  });\n  return obj;\n};\n\nvar uuid = exports.uuid = function uuid(elem) {\n  var id = void 0;\n  if (elem) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    id = attrs.id || elem.id || (0, _uuidV2.default)();\n    elem.id = id;\n  } else {\n    id = (0, _uuidV2.default)();\n  }\n  return id;\n};\n\nvar clone = exports.clone = function clone(obj) {\n  var copy = void 0;\n\n  if (null === obj || \'object\' !== (typeof obj === \'undefined\' ? \'undefined\' : _typeof(obj))) {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    copy = new Date();\n    copy.setTime(obj.getTime());\n    return copy;\n  }\n\n  if (obj instanceof Array) {\n    copy = [];\n    for (var i = 0, len = obj.length; i < len; i++) {\n      copy[i] = clone(obj[i]);\n    }\n    return copy;\n  }\n\n  if (obj instanceof Object) {\n    copy = {};\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) {\n        copy[attr] = clone(obj[attr]);\n      }\n    }\n    return copy;\n  }\n\n  throw new Error(\'Unable to copy Object, type not supported.\');\n};\n\nvar numToPercent = exports.numToPercent = function numToPercent(num) {\n  return num.toString() + \'%\';\n};\n\nvar numberBetween = exports.numberBetween = function numberBetween(num, min, max) {\n  return num > min && num < max;\n};\n\nvar cleanObj = exports.cleanObj = function cleanObj(obj) {\n  var fresh = Object.assign({}, obj);\n  Object.keys(obj).forEach(function (key) {\n    if (typeof obj[key] === \'string\') {\n      fresh[key] = \'\';\n    } else if (typeof obj[key] === \'boolean\') {\n      fresh[key] = false;\n    }\n  });\n  return fresh;\n};\n\nvar clicked = exports.clicked = function clicked(x, y, position, button) {\n  var xMin = position.x - 5;\n  var xMax = position.x + 5;\n  var yMin = position.y - 5;\n  var yMax = position.y + 5;\n  var xOK = numberBetween(x, xMin, xMax);\n  var yOK = numberBetween(y, yMin, yMax);\n\n  return xOK && yOK && button !== 2;\n};\n\nvar memoize = exports.memoize = function memoize(fn, resolver) {\n  if (typeof fn !== \'function\' || resolver && typeof resolver !== \'function\') {\n    throw new TypeError(\'memoize: First argument must be a function\');\n  }\n  var memoized = function memoized() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var key = resolver ? resolver.apply(memoized, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = fn.apply(memoized, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new memoize.Cache();\n  return memoized;\n};\n\nvar escapeHtml = exports.escapeHtml = function escapeHtml(html) {\n  var escapeElement = document.createElement(\'textarea\');\n  escapeElement.textContent = html;\n  return escapeElement.innerHTML;\n};\n\nmemoize.Cache = Map;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL3V0aWxzLmpzPzVjZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkLXY0Jztcbi8qKlxuICogTWF0Y2ggdGhlIHZhbHVlcyBmcm9tIGEgc3RyaW5nIG9yIGFycmF5IGFnYWluc3QgYSBzdHIuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAgICBTdHJpbmcgd2UgYXJlIHNlYXJjaGluZ1xuICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSAgZmlsdGVyIFN0cmluZyBvciBhcnJheSBvZiB2YWx1ZXMgdG8gbWF0Y2hcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRjaCA9IChzdHIgPSAnJywgZmlsdGVyKSA9PiB7XG4gIGlmICghZmlsdGVyKSB7XG4gICAgY29uc29sZS53YXJuKCd1dGlscy5tYXRjaCBtaXNzaW5nIGFyZ3VtZW50IDIuJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBtYXRjaE9wZXJhdG9ycyA9IC9bfFxcXFx7fSgpW1xcXV4qJCs/Ll0vZztcbiAgbGV0IGZpbHRlckFycmF5ID0gKHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSA/IFtmaWx0ZXJdIDogZmlsdGVyO1xuICBmaWx0ZXJBcnJheSA9IGZpbHRlckFycmF5Lm1hcChmaWx0ZXJTdHIgPT4ge1xuICAgIHJldHVybiBmaWx0ZXJTdHIgPT09ICcqJyA/ICcnIDogZmlsdGVyU3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnMsICdcXFxcJCYnKTtcbiAgfSk7XG5cbiAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xuICBpZiAoZmlsdGVyQXJyYXkubGVuZ3RoKSB7XG4gICAgaXNNYXRjaCA9ICFzdHIubWF0Y2gobmV3IFJlZ0V4cChmaWx0ZXJBcnJheS5qb2luKCd8JyksICdpJykpO1xuICB9XG5cbiAgcmV0dXJuIGlzTWF0Y2g7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyXG4gKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IChhcnIsIHZhbCkgPT4ge1xuICBsZXQgaW5kZXggPSBhcnIuaW5kZXhPZih2YWwpO1xuXG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59O1xuXG4vKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgcGFyZW50IGJ5IGNsYXNzXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVsICBET00gZWxlbWVudFxuICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3NcbiAqIEByZXR1cm4ge09iamVjdH0gICAgIERPTSBFbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBjbG9zZXN0ID0gKGVsLCBjbHMpID0+IHtcbiAgbGV0IGNsYXNzTmFtZSA9IGNscy5yZXBsYWNlKCcuJywgJycpO1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuLyoqXG4gKiBGaW5kIHRoZSBjbG9zZXN0IHBhcmVudCBieSBjbGFzc1xuICogQHBhcmFtICB7T2JqZWN0fSBlbCAgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gY2xzIGNsYXNzXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICBET00gRWxlbWVudFxuICovXG5leHBvcnQgY29uc3QgY2xvc2VzdEZ0eXBlID0gZWwgPT4ge1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgIWVsLmZUeXBlKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5IG9mIGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyYXkgd2l0aCBwb3NzaWJsZSBkdXBsaWNhdGVzXG4gKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgd2l0aCBvbmx5IHVuaXF1ZSB2YWx1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IGFycmF5ID0+XG4gIGFycmF5LmZpbHRlcigoZWxlbSwgcG9zLCBhcnIpID0+XG4gICAgKGFyci5pbmRleE9mKGVsZW0pID09PSBwb3MpKTtcblxuZXhwb3J0IGNvbnN0IG9ialRvU3RyTWFwID0gb2JqID0+IHtcbiAgbGV0IHN0ck1hcCA9IG5ldyBNYXAoKTtcbiAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG4gICAgc3RyTWFwLnNldChrLCBvYmpba10pO1xuICB9XG4gIHJldHVybiBzdHJNYXA7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyTWFwVG9PYmogPSBzdHJNYXAgPT4ge1xuICBsZXQgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RyTWFwLmZvckVhY2goKHYsIGspID0+IHtcbiAgICBvYmpba10gPSB2O1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBjb25zdCB1dWlkID0gZWxlbSA9PiB7XG4gIGxldCBpZDtcbiAgaWYgKGVsZW0pIHtcbiAgICBsZXQge2F0dHJzID0ge319ID0gZWxlbTtcbiAgICBpZCA9IGF0dHJzLmlkIHx8IGVsZW0uaWQgfHwgdXVpZHY0KCk7XG4gICAgZWxlbS5pZCA9IGlkO1xuICB9IGVsc2Uge1xuICAgIGlkID0gdXVpZHY0KCk7XG4gIH1cbiAgcmV0dXJuIGlkO1xufTtcblxuXG5leHBvcnQgY29uc3QgY2xvbmUgPSBvYmogPT4ge1xuICBsZXQgY29weTtcblxuICAvLyBIYW5kbGUgdGhlIDQgc2ltcGxlIHR5cGVzLCBhbmQgbnVsbCBvciB1bmRlZmluZWRcbiAgaWYgKG51bGwgPT09IG9iaiB8fCAnb2JqZWN0JyAhPT0gdHlwZW9mIG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBIYW5kbGUgRGF0ZVxuICBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIGNvcHkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvcHkuc2V0VGltZShvYmouZ2V0VGltZSgpKTtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIC8vIEhhbmRsZSBBcnJheVxuICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBjb3B5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29weVtpXSA9IGNsb25lKG9ialtpXSk7XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgLy8gSGFuZGxlIE9iamVjdFxuICBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgY29weSA9IHt9O1xuICAgIGZvciAobGV0IGF0dHIgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgIGNvcHlbYXR0cl0gPSBjbG9uZShvYmpbYXR0cl0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvcHkgT2JqZWN0LCB0eXBlIG5vdCBzdXBwb3J0ZWQuJyk7XG59O1xuXG5leHBvcnQgY29uc3QgbnVtVG9QZXJjZW50ID0gbnVtID0+IG51bS50b1N0cmluZygpICsgJyUnO1xuXG5leHBvcnQgY29uc3QgbnVtYmVyQmV0d2VlbiA9IChudW0sIG1pbiwgbWF4KSA9PiAobnVtID4gbWluICYmIG51bSA8IG1heCk7XG5cbi8qKlxuICogRW1wdHkgYW4gb2JqZWN0cyBjb250ZW50c1xuICogQHBhcmFtICB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH0gZnJlc2hcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFuT2JqID0gb2JqID0+IHtcbiAgbGV0IGZyZXNoID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZyZXNoW2tleV0gPSAnJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBmcmVzaFtrZXldID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZyZXNoO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsaWNrZWQgPSAoeCwgeSwgcG9zaXRpb24sIGJ1dHRvbikgPT4ge1xuICBsZXQgeE1pbiA9IHBvc2l0aW9uLnggLSA1O1xuICBsZXQgeE1heCA9IHBvc2l0aW9uLnggKyA1O1xuICBsZXQgeU1pbiA9IHBvc2l0aW9uLnkgLSA1O1xuICBsZXQgeU1heCA9IHBvc2l0aW9uLnkgKyA1O1xuICBsZXQgeE9LID0gbnVtYmVyQmV0d2Vlbih4LCB4TWluLCB4TWF4KTtcbiAgbGV0IHlPSyA9IG51bWJlckJldHdlZW4oeSwgeU1pbiwgeU1heCk7XG5cbiAgcmV0dXJuICh4T0sgJiYgeU9LICYmIGJ1dHRvbiAhPT0gMik7XG59O1xuXG5cbi8qKlxuICogQ2FjaGUgcmVzdWx0cyBvZiBleHBlbnNpdmUgZnVuY3Rpb25zXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNvbHZlclxuICogQHJldHVybiB7U3RyaW5nfE9iamVjdH0gbWVtb2l6ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IG1lbW9pemUgPSAoZm4sIHJlc29sdmVyKSA9PiB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicgfHxcbiAgICAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21lbW9pemU6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIGNvbnN0IG1lbW9pemVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBsZXQga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseShtZW1vaXplZCwgYXJncykgOiBhcmdzWzBdO1xuICAgIGxldCBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBmbi5hcHBseShtZW1vaXplZCwgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3KG1lbW9pemUuQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlSHRtbCA9IGh0bWwgPT4ge1xuICBsZXQgZXNjYXBlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIGVzY2FwZUVsZW1lbnQudGV4dENvbnRlbnQgPSBodG1sO1xuICByZXR1cm4gZXNjYXBlRWxlbWVudC5pbm5lckhUTUw7XG59O1xuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vdXRpbHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.registeredFields = exports.formData = exports.data = undefined;\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _data = {};\nvar formData = void 0;\n\nvar registeredFields = {};\n\nvar data = {\n  init: function init(opts, userFormData) {\n    var defaultFormData = {\n      id: (0, _utils.uuid)(),\n      settings: new Map(),\n      stages: new Map(),\n      rows: new Map(),\n      columns: new Map(),\n      fields: new Map()\n    };\n    _data.opts = opts;\n    var processFormData = function processFormData(data) {\n      if (typeof data === \'string\') {\n        data = window.JSON.parse(data);\n      }\n\n      data.settings = (0, _utils.objToStrMap)(data.settings);\n      data.stages = (0, _utils.objToStrMap)(data.stages);\n      data.rows = (0, _utils.objToStrMap)(data.rows);\n      data.columns = (0, _utils.objToStrMap)(data.columns);\n      data.fields = (0, _utils.objToStrMap)(data.fields);\n\n      exports.formData = formData = Object.assign({}, defaultFormData, data);\n    };\n\n    if (userFormData) {\n      processFormData(userFormData);\n    } else if (window.sessionStorage && _data.opts.sessionStorage) {\n      var sessionFormData = window.sessionStorage.getItem(\'formData\');\n      if (sessionFormData) {\n        processFormData(sessionFormData);\n      }\n    }\n\n    if (!formData) {\n      exports.formData = formData = defaultFormData;\n    }\n\n    return formData;\n  },\n\n  saveColumnOrder: function saveColumnOrder(row) {\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    var columnOrder = _helpers2.default.map(columns, function (i) {\n      return columns[i].id;\n    });\n    var rowData = formData.rows.get(row.id);\n\n    rowData.columns = columnOrder;\n\n    return columnOrder;\n  },\n\n  saveFieldOrder: function saveFieldOrder(column) {\n    var fields = column.getElementsByClassName(\'stage-fields\');\n    var fieldOrder = _helpers2.default.map(fields, function (i) {\n      return fields[i].id;\n    });\n\n    formData.columns.get(column.id).fields = fieldOrder;\n\n    return fieldOrder;\n  },\n\n  saveRowOrder: function saveRowOrder(stage) {\n    if (!stage) {\n      stage = _dom2.default.activeStage;\n    }\n    var oldValue = formData.stages.get(stage.id).rows.slice();\n    var rows = stage.getElementsByClassName(\'stage-rows\');\n    var rowOrder = _helpers2.default.map(rows, function (rowID) {\n      return rows[rowID].id;\n    });\n    formData.stages.get(stage.id).rows = rowOrder;\n    new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'sort\',\n        changed: \'rows\',\n        oldValue: oldValue,\n        newValue: rowOrder\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return rowOrder;\n  },\n\n  saveOptionOrder: function saveOptionOrder(parent) {\n    var props = parent.getElementsByClassName(\'prop-wrap\');\n    var propData = _helpers2.default.map(props, function (i) {\n      return props[i].propData;\n    });\n    var fieldData = formData.fields.get(parent.fieldID);\n    fieldData[parent.editGroup] = propData;\n    return propData;\n  },\n\n  saveOrder: function saveOrder(group, parent) {\n    var saveOrder = {\n      row: data.saveRowOrder,\n      column: data.saveColumnOrder,\n      field: data.saveFieldOrder,\n      options: data.saveOptionOrder\n    };\n\n    return saveOrder[group](parent);\n  },\n\n  saveType: function saveType(group, id) {\n    var map = {\n      settings: function settings() {\n\n        return formData.settings;\n      },\n      stages: function stages() {},\n      rows: function rows() {\n        return formData.rows;\n      },\n      columns: function columns(rowID) {\n        return formData.columns;\n      },\n      fields: function fields(columnID) {\n        return formData.fields;\n      },\n      field: function field(fieldID) {\n        return formData.fields.get(fieldID);\n      },\n      attrs: function attrs(attrUL) {\n        var fieldData = formData.fields.get(attrUL.fieldID);\n        var attrValues = fieldData.attrs;\n        _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n          data: {\n            changed: \'field.attrs\',\n            updateType: \'update\',\n            attrValues: attrValues\n          }\n        });\n\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return attrValues;\n      },\n      options: function options(optionUL) {\n        var oldValue = formData.fields.get(optionUL.fieldID).options;\n        var newValue = data.saveOrder(\'options\', optionUL);\n        _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n          data: {\n            changed: \'field.options\',\n            updateType: \'sort\',\n            oldValue: oldValue,\n            newValue: newValue\n          }\n        });\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return newValue;\n      }\n    };\n\n    return map[group](id);\n  },\n\n  empty: function empty(type, id) {\n    var removed = {};\n    var emptyType = {\n      stages: function stages(id) {\n        if (!id) {\n          id = _dom2.default.activeStage.id;\n        }\n        var stageData = formData.stages.get(id);\n        var rows = stageData.rows;\n        removed.rows = rows.map(function (rowID) {\n          emptyType[\'rows\'](rowID);\n          formData.rows.delete(rowID);\n          return rowID;\n        });\n        stageData.rows = [];\n      },\n      rows: function rows(id) {\n        var row = formData.rows.get(id);\n        if (row) {\n          var columns = row.columns;\n          removed.columns = columns.map(function (columnID) {\n            emptyType[\'columns\'](columnID);\n            formData.columns.delete(columnID);\n            return columnID;\n          });\n          columns = [];\n        }\n      },\n      columns: function columns(id) {\n        var column = formData.columns.get(id);\n        if (column) {\n          var fields = column.fields;\n          removed.fields = fields.map(function (fieldID) {\n            formData.fields.delete(fieldID);\n            return fieldID;\n          });\n          fields = [];\n        }\n      },\n      fields: function fields(id) {\n        var field = _dom2.default.fields.get(id);\n        if (field) {\n          field = field.field;\n          var column = formData.columns.get(field.parentElement.id);\n          var oldValue = column.fields.slice();\n          (0, _utils.remove)(column.fields, id);\n          _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n            data: {\n              updateType: \'removed\',\n              changed: \'column.fields\',\n              oldValue: oldValue,\n              newValue: column.fields\n            }\n          });\n          document.dispatchEvent(_events2.default.formeoUpdated);\n        }\n      }\n    };\n\n    emptyType[type](id);\n    return removed;\n  },\n\n  saveThrottle: false,\n  saveThrottled: false,\n\n  save: function save() {\n    var group = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'stages\';\n    var id = arguments[1];\n    var disableThrottle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (disableThrottle) {\n      data.saveThrottle = disableThrottle;\n    }\n    var doSave = function doSave() {\n      data.saveType(group, id);\n      var storage = window.sessionStorage;\n\n      if (storage && _data.opts.sessionStorage) {\n        storage.setItem(\'formData\', data.json);\n      }\n\n      if (_data.opts.debug) {\n        console.log(\'Saved: \' + group);\n      }\n\n      _events2.default.formeoSaved = new CustomEvent(\'formeoSaved\', {\n        detail: {\n          formData: data.js\n        }\n      });\n\n      document.dispatchEvent(_events2.default.formeoSaved);\n      return formData;\n    };\n\n    if (!data.saveThrottle) {\n      doSave();\n      data.saveThrottle = true;\n      setTimeout(function () {\n        if (data.saveThrottled) {\n          doSave();\n          data.saveThrottled = false;\n        }\n        data.saveThrottle = false;\n      }, 500);\n    } else {\n      data.saveThrottled = true;\n    }\n\n    return formData;\n  },\n\n  get js() {\n    var jsData = {};\n\n    Object.keys(formData).forEach(function (key) {\n      if (typeof formData[key] === \'string\') {\n        jsData[key] = formData[key];\n      } else {\n        jsData[key] = (0, _utils.strMapToObj)(formData[key]);\n      }\n    });\n    return jsData;\n  },\n\n  get prepData() {\n    var jsData = data.js;\n    Object.keys(jsData).forEach(function (type) {\n      Object.keys(jsData[type]).forEach(function (entKey) {\n        var entity = jsData[type][entKey];\n        if (entity.action) {\n          Object.keys(entity.action).forEach(function (fn) {\n            entity.action[fn] = entity.action[fn].toString();\n          });\n        }\n      });\n    });\n    return jsData;\n  },\n\n  get json() {\n    var preppedData = data.prepData;\n\n    return window.JSON.stringify(preppedData, null, \'\\t\');\n  }\n};\n\nexports.data = data;\nexports.formData = formData;\nexports.registeredFields = registeredFields;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RhdGEuanM/ZGNjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBoIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCB7XG4gIHN0ck1hcFRvT2JqLFxuICBvYmpUb1N0ck1hcCxcbiAgdXVpZCxcbiAgcmVtb3ZlXG59IGZyb20gJy4vdXRpbHMnO1xuLy8gT2JqZWN0IG1hcCBvZiBmaWVsZHMgb24gdGhlIHN0YWdlXG5jb25zdCBfZGF0YSA9IHt9O1xubGV0IGZvcm1EYXRhO1xuXG4vLyBSZWdpc3RlcmVkIGZpZWxkcyBhcmUgdGhlIGZpZWxkcyB0aGF0IGFyZSBjb25maWd1cmVkIG9uIGluaXQuXG4vLyBUaGlzIHZhcmlhYmxlIGFjdHMgYXMgYSBkYXRhIGJ1ZmZlciB0aGF0cyBjb250YWluc1xuLy8gdGhlIGNvbmZpZ3VyYXRpb25zIGZvciBhIGZpZWxkJ3MgZmluYWwgdmlldy5cbmxldCByZWdpc3RlcmVkRmllbGRzID0ge307XG5cbmxldCBkYXRhID0ge1xuICBpbml0OiAob3B0cywgdXNlckZvcm1EYXRhKSA9PiB7XG4gICAgbGV0IGRlZmF1bHRGb3JtRGF0YSA9IHtcbiAgICAgIGlkOiB1dWlkKCksXG4gICAgICBzZXR0aW5nczogbmV3IE1hcCgpLFxuICAgICAgc3RhZ2VzOiBuZXcgTWFwKCksXG4gICAgICByb3dzOiBuZXcgTWFwKCksXG4gICAgICBjb2x1bW5zOiBuZXcgTWFwKCksXG4gICAgICBmaWVsZHM6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgX2RhdGEub3B0cyA9IG9wdHM7XG4gICAgbGV0IHByb2Nlc3NGb3JtRGF0YSA9IGRhdGEgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBkYXRhID0gd2luZG93LkpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGRhdGEuc2V0dGluZ3MgPSBvYmpUb1N0ck1hcChkYXRhLnNldHRpbmdzKTtcbiAgICAgIGRhdGEuc3RhZ2VzID0gb2JqVG9TdHJNYXAoZGF0YS5zdGFnZXMpO1xuICAgICAgZGF0YS5yb3dzID0gb2JqVG9TdHJNYXAoZGF0YS5yb3dzKTtcbiAgICAgIGRhdGEuY29sdW1ucyA9IG9ialRvU3RyTWFwKGRhdGEuY29sdW1ucyk7XG4gICAgICBkYXRhLmZpZWxkcyA9IG9ialRvU3RyTWFwKGRhdGEuZmllbGRzKTtcblxuICAgICAgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Rm9ybURhdGEsIGRhdGEpO1xuICAgIH07XG5cbiAgICBpZiAodXNlckZvcm1EYXRhKSB7XG4gICAgICBwcm9jZXNzRm9ybURhdGEodXNlckZvcm1EYXRhKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAmJiBfZGF0YS5vcHRzLnNlc3Npb25TdG9yYWdlKSB7XG4gICAgICBsZXQgc2Vzc2lvbkZvcm1EYXRhID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zvcm1EYXRhJyk7XG4gICAgICBpZiAoc2Vzc2lvbkZvcm1EYXRhKSB7XG4gICAgICAgIHByb2Nlc3NGb3JtRGF0YShzZXNzaW9uRm9ybURhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZm9ybURhdGEpIHtcbiAgICAgIGZvcm1EYXRhID0gZGVmYXVsdEZvcm1EYXRhO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtRGF0YTtcbiAgfSxcblxuICBzYXZlQ29sdW1uT3JkZXI6IHJvdyA9PiB7XG4gICAgbGV0IGNvbHVtbnMgPSByb3cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtY29sdW1ucycpO1xuICAgIGxldCBjb2x1bW5PcmRlciA9IGgubWFwKGNvbHVtbnMsIGkgPT4gY29sdW1uc1tpXS5pZCk7XG4gICAgbGV0IHJvd0RhdGEgPSBmb3JtRGF0YS5yb3dzLmdldChyb3cuaWQpO1xuXG4gICAgcm93RGF0YS5jb2x1bW5zID0gY29sdW1uT3JkZXI7XG5cbiAgICByZXR1cm4gY29sdW1uT3JkZXI7XG4gIH0sXG5cbiAgc2F2ZUZpZWxkT3JkZXI6IGNvbHVtbiA9PiB7XG4gICAgbGV0IGZpZWxkcyA9IGNvbHVtbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1maWVsZHMnKTtcbiAgICBsZXQgZmllbGRPcmRlciA9IGgubWFwKGZpZWxkcywgaSA9PiBmaWVsZHNbaV0uaWQpO1xuXG4gICAgZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKS5maWVsZHMgPSBmaWVsZE9yZGVyO1xuXG4gICAgcmV0dXJuIGZpZWxkT3JkZXI7XG4gIH0sXG5cbiAgc2F2ZVJvd09yZGVyOiBzdGFnZSA9PiB7XG4gICAgaWYgKCFzdGFnZSkge1xuICAgICAgc3RhZ2UgPSBkb20uYWN0aXZlU3RhZ2U7XG4gICAgfVxuICAgIGxldCBvbGRWYWx1ZSA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoc3RhZ2UuaWQpLnJvd3Muc2xpY2UoKTtcbiAgICBsZXQgcm93cyA9IHN0YWdlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLXJvd3MnKTtcbiAgICBsZXQgcm93T3JkZXIgPSBoLm1hcChyb3dzLCByb3dJRCA9PiByb3dzW3Jvd0lEXS5pZCk7XG4gICAgZm9ybURhdGEuc3RhZ2VzLmdldChzdGFnZS5pZCkucm93cyA9IHJvd09yZGVyO1xuICAgIG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlVHlwZTogJ3NvcnQnLFxuICAgICAgICBjaGFuZ2VkOiAncm93cycsXG4gICAgICAgIG9sZFZhbHVlLFxuICAgICAgICBuZXdWYWx1ZTogcm93T3JkZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICByZXR1cm4gcm93T3JkZXI7XG4gIH0sXG5cbiAgc2F2ZU9wdGlvbk9yZGVyOiBwYXJlbnQgPT4ge1xuICAgIGxldCBwcm9wcyA9IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9wLXdyYXAnKTtcbiAgICBsZXQgcHJvcERhdGEgPSBoLm1hcChwcm9wcywgaSA9PiB7XG4gICAgICByZXR1cm4gcHJvcHNbaV0ucHJvcERhdGE7XG4gICAgfSk7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQocGFyZW50LmZpZWxkSUQpO1xuICAgIGZpZWxkRGF0YVtwYXJlbnQuZWRpdEdyb3VwXSA9IHByb3BEYXRhO1xuICAgIHJldHVybiBwcm9wRGF0YTtcbiAgfSxcblxuICBzYXZlT3JkZXI6IChncm91cCwgcGFyZW50KSA9PiB7XG4gICAgbGV0IHNhdmVPcmRlciA9IHtcbiAgICAgIHJvdzogZGF0YS5zYXZlUm93T3JkZXIsXG4gICAgICBjb2x1bW46IGRhdGEuc2F2ZUNvbHVtbk9yZGVyLFxuICAgICAgZmllbGQ6IGRhdGEuc2F2ZUZpZWxkT3JkZXIsXG4gICAgICBvcHRpb25zOiBkYXRhLnNhdmVPcHRpb25PcmRlclxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZU9yZGVyW2dyb3VwXShwYXJlbnQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JtZW8gc2F2ZSBmdW5jdGlvbnNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBncm91cCBbZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHNhdmVUeXBlOiAoZ3JvdXAsIGlkKSA9PiB7XG4gICAgbGV0IG1hcCA9IHtcbiAgICAgIHNldHRpbmdzOiAoKSA9PiB7XG4gICAgICAgIC8vIGxldCBzdGFnZSA9IGZvcm1EYXRhLnN0YWdlcy5zZXR0aW5ncztcbiAgICAgICAgLy8gZm9ybURhdGEuc2V0dGluZ3MgPSBbXTtcblxuICAgICAgICAvLyBoLmZvckVhY2goc3RhZ2UsIChpLCByb3dJRCkgPT4ge1xuICAgICAgICAvLyAgIGZvcm1EYXRhLnJvd3NbaV0gPSBoLmNsb25lKGZvcm1EYXRhLnJvd3Nbcm93SURdKTtcbiAgICAgICAgICAvLyBmb3JtRGF0YS5yb3dzW2ldID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybURhdGEucm93c1tyb3dJRF0pO1xuICAgICAgICAvLyAgIGZvcm1EYXRhLnJvd3NbaV0uY29sdW1ucyA9IG1hcC5jb2x1bW5zKHJvd0lEKTtcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLnNldHRpbmdzO1xuICAgICAgfSxcbiAgICAgIHN0YWdlczogKCkgPT4ge1xuICAgICAgICAvLyBkYXRhLnNhdmVSb3dPcmRlcigpO1xuICAgICAgfSxcbiAgICAgIHJvd3M6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLnJvd3M7XG4gICAgICB9LFxuICAgICAgY29sdW1uczogcm93SUQgPT4ge1xuICAgICAgICByZXR1cm4gZm9ybURhdGEuY29sdW1ucztcbiAgICAgIH0sXG4gICAgICBmaWVsZHM6IGNvbHVtbklEID0+IHtcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLmZpZWxkcztcbiAgICAgIH0sXG4gICAgICBmaWVsZDogZmllbGRJRCA9PiB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5maWVsZHMuZ2V0KGZpZWxkSUQpO1xuICAgICAgfSxcbiAgICAgIGF0dHJzOiBhdHRyVUwgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KGF0dHJVTC5maWVsZElEKTtcbiAgICAgICAgbGV0IGF0dHJWYWx1ZXMgPSBmaWVsZERhdGEuYXR0cnM7XG4gICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNoYW5nZWQ6ICdmaWVsZC5hdHRycycsXG4gICAgICAgICAgICB1cGRhdGVUeXBlOiAndXBkYXRlJyxcbiAgICAgICAgICAgIGF0dHJWYWx1ZXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuXG4gICAgICAgIHJldHVybiBhdHRyVmFsdWVzO1xuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IG9wdGlvblVMID0+IHtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gZm9ybURhdGEuZmllbGRzLmdldChvcHRpb25VTC5maWVsZElEKS5vcHRpb25zO1xuICAgICAgICBsZXQgbmV3VmFsdWUgPSBkYXRhLnNhdmVPcmRlcignb3B0aW9ucycsIG9wdGlvblVMKTtcbiAgICAgICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY2hhbmdlZDogJ2ZpZWxkLm9wdGlvbnMnLFxuICAgICAgICAgICAgdXBkYXRlVHlwZTogJ3NvcnQnLFxuICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG1hcFtncm91cF0oaWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbXB0aWVzIHRoZSBkYXRhIHJlZ2lzdGVyIGZvciBhbiBlbGVtZW50XG4gICAqIGFuZCBpdHMgY2hpbGRyZW5cbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGVtcHR5OiAodHlwZSwgaWQpID0+IHtcbiAgICBsZXQgcmVtb3ZlZCA9IHt9O1xuICAgIGNvbnN0IGVtcHR5VHlwZSA9IHtcbiAgICAgIHN0YWdlczogaWQgPT4ge1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWQgPSBkb20uYWN0aXZlU3RhZ2UuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YWdlRGF0YSA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoaWQpO1xuICAgICAgICBsZXQgcm93cyA9IHN0YWdlRGF0YS5yb3dzO1xuICAgICAgICByZW1vdmVkLnJvd3MgPSByb3dzLm1hcChyb3dJRCA9PiB7XG4gICAgICAgICAgZW1wdHlUeXBlWydyb3dzJ10ocm93SUQpO1xuICAgICAgICAgIGZvcm1EYXRhLnJvd3MuZGVsZXRlKHJvd0lEKTtcbiAgICAgICAgICByZXR1cm4gcm93SUQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzdGFnZURhdGEucm93cyA9IFtdO1xuICAgICAgfSxcbiAgICAgIHJvd3M6IGlkID0+IHtcbiAgICAgICAgbGV0IHJvdyA9IGZvcm1EYXRhLnJvd3MuZ2V0KGlkKTtcbiAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgIGxldCBjb2x1bW5zID0gcm93LmNvbHVtbnM7XG4gICAgICAgICAgcmVtb3ZlZC5jb2x1bW5zID0gY29sdW1ucy5tYXAoY29sdW1uSUQgPT4ge1xuICAgICAgICAgICAgZW1wdHlUeXBlWydjb2x1bW5zJ10oY29sdW1uSUQpO1xuICAgICAgICAgICAgZm9ybURhdGEuY29sdW1ucy5kZWxldGUoY29sdW1uSUQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbklEO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbHVtbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbHVtbnM6IGlkID0+IHtcbiAgICAgICAgbGV0IGNvbHVtbiA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICAgIGxldCBmaWVsZHMgPSBjb2x1bW4uZmllbGRzO1xuICAgICAgICAgIHJlbW92ZWQuZmllbGRzID0gZmllbGRzLm1hcChmaWVsZElEID0+IHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmZpZWxkcy5kZWxldGUoZmllbGRJRCk7XG4gICAgICAgICAgICByZXR1cm4gZmllbGRJRDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmaWVsZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZpZWxkczogaWQgPT4ge1xuICAgICAgICBsZXQgZmllbGQgPSBkb20uZmllbGRzLmdldChpZCk7XG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgIGZpZWxkID0gZmllbGQuZmllbGQ7XG4gICAgICAgICAgbGV0IGNvbHVtbiA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGZpZWxkLnBhcmVudEVsZW1lbnQuaWQpO1xuICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IGNvbHVtbi5maWVsZHMuc2xpY2UoKTtcbiAgICAgICAgICByZW1vdmUoY29sdW1uLmZpZWxkcywgaWQpO1xuICAgICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB1cGRhdGVUeXBlOiAncmVtb3ZlZCcsXG4gICAgICAgICAgICAgIGNoYW5nZWQ6ICdjb2x1bW4uZmllbGRzJyxcbiAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiBjb2x1bW4uZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZW1wdHlUeXBlW3R5cGVdKGlkKTtcbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfSxcblxuICBzYXZlVGhyb3R0bGU6IGZhbHNlLFxuICBzYXZlVGhyb3R0bGVkOiBmYWxzZSxcblxuICBzYXZlOiAoZ3JvdXAgPSAnc3RhZ2VzJywgaWQsIGRpc2FibGVUaHJvdHRsZSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGRpc2FibGVUaHJvdHRsZSkge1xuICAgICAgZGF0YS5zYXZlVGhyb3R0bGUgPSBkaXNhYmxlVGhyb3R0bGU7XG4gICAgfVxuICAgIGNvbnN0IGRvU2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgZGF0YS5zYXZlVHlwZShncm91cCwgaWQpO1xuICAgICAgY29uc3Qgc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcblxuICAgICAgaWYgKHN0b3JhZ2UgJiYgX2RhdGEub3B0cy5zZXNzaW9uU3RvcmFnZSkge1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oJ2Zvcm1EYXRhJywgZGF0YS5qc29uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9kYXRhLm9wdHMuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NhdmVkOiAnICsgZ3JvdXApO1xuICAgICAgfVxuXG4gICAgICBldmVudHMuZm9ybWVvU2F2ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1NhdmVkJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBmb3JtRGF0YTogZGF0YS5qc1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvU2F2ZWQpO1xuICAgICAgcmV0dXJuIGZvcm1EYXRhO1xuICAgIH07XG5cbiAgICBpZiAoIWRhdGEuc2F2ZVRocm90dGxlKSB7XG4gICAgICBkb1NhdmUoKTtcbiAgICAgIGRhdGEuc2F2ZVRocm90dGxlID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoZGF0YS5zYXZlVGhyb3R0bGVkKSB7XG4gICAgICAgICAgZG9TYXZlKCk7XG4gICAgICAgICAgZGF0YS5zYXZlVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5zYXZlVGhyb3R0bGUgPSBmYWxzZTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuc2F2ZVRocm90dGxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xuICB9LFxuXG4gIGdldCBqcygpIHtcbiAgICBsZXQganNEYXRhID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhmb3JtRGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBmb3JtRGF0YVtrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICBqc0RhdGFba2V5XSA9IGZvcm1EYXRhW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqc0RhdGFba2V5XSA9IHN0ck1hcFRvT2JqKGZvcm1EYXRhW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBqc0RhdGE7XG4gIH0sXG5cbiAgZ2V0IHByZXBEYXRhKCkge1xuICAgIGxldCBqc0RhdGEgPSBkYXRhLmpzO1xuICAgIE9iamVjdC5rZXlzKGpzRGF0YSkuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGpzRGF0YVt0eXBlXSkuZm9yRWFjaChlbnRLZXkgPT4ge1xuICAgICAgICBsZXQgZW50aXR5ID0ganNEYXRhW3R5cGVdW2VudEtleV07XG4gICAgICAgIGlmIChlbnRpdHkuYWN0aW9uKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMoZW50aXR5LmFjdGlvbikuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICBlbnRpdHkuYWN0aW9uW2ZuXSA9IGVudGl0eS5hY3Rpb25bZm5dLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBqc0RhdGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGdldHRlciBtZXRob2QgZm9yIEpTT04gZm9ybURhdGFcbiAgICogQHJldHVybiB7SlNPTn0gZm9ybURhdGFcbiAgICovXG4gIGdldCBqc29uKCkge1xuICAgIGxldCBwcmVwcGVkRGF0YSA9IGRhdGEucHJlcERhdGE7XG5cbiAgICByZXR1cm4gd2luZG93LkpTT04uc3RyaW5naWZ5KHByZXBwZWREYXRhLCBudWxsLCAnXFx0Jyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIGRhdGEsXG4gIGZvcm1EYXRhLFxuICByZWdpc3RlcmVkRmllbGRzXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vZGF0YS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBTUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQURBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQXpEQTtBQUNBO0FBMkRBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQXREQTtBQUNBO0FBd0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5VQTtBQUNBO0FBc1VBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('/*!\n * mi18n - https://github.com/Draggable/mi18n\n * Version: 0.3.4\n * Author: Kevin Chappell <kevin.b.chappell@gmail.com> (http://kevin-chappell.com)\n */\nmodule.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,u){try{var i=e[o](u),a=i.value}catch(t){return void n(t)}return i.done?void t(a):Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n,r=0;r<e.length;r++)n=e[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=this;r(this,t);var n={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",preloaded:{}};this.init=function(t){return e.config=Object.assign({},n,t),e.langs=Object.assign({},e.config.preloaded),e.locale=e.config.locale||e.config.langs[0],e.setCurrent(e.locale)}}return t.prototype.getValue=function(t){return this.current&&this.current[t]||t},t.prototype.makeSafe=function(t){var e={"{":"\\\\{","}":"\\\\}","|":"\\\\|"};return t=t.replace(/\\{|\\}|\\|/g,function(t){return e[t]}),new RegExp(t,"g")},t.prototype.put=function(t,e){return this.current[t]=e},t.prototype.get=function(t,e){var n,r=this,u=this.getValue(t),i=u.match(/\\{[^\\}]+?\\}/g);if(e&&i)if("object"===(void 0===e?"undefined":o(e)))for(var a=0;a<i.length;a++)n=i[a].substring(1,i[a].length-1),u=u.replace(r.makeSafe(i[a]),e[n]||"");else u=u.replace(/\\{[^\\}]+?\\}/g,e);return u},t.prototype.fromFile=function(t){for(var e,n=t.split("\\n"),r={},o=0;o<n.length;o++)if(e=n[o].match(/^(.+?) *?= *?([^\\n]+)/)){var u=e[2].replace(/^\\s+|\\s+$/,"");r[e[1]]=u}return r},t.prototype.processFile=function(t){var e=t.replace(/\\n\\n/g,"\\n");return this.fromFile(e)},t.prototype.loadLang=function(t){var e=this;return new Promise(function(n,r){if(e.langs[t])n(e.langs[t]);else{var o=new XMLHttpRequest,u=e.config.location+t+e.config.extension;o.open("GET",u,!0),o.onload=function(){if(304>=this.status){var u=e.processFile(o.responseText);e.langs[t]=u,n(u)}else r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send()}})},t.prototype.setCurrent=function(){var t=n(regeneratorRuntime.mark(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-US";return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadLang(e);case 2:return this.locale=e,this.current=this.langs[e],t.abrupt("return",this.current);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),u(t,[{key:"getLangs",get:function(){return this.config.langs}}]),t}();e.default=new i}]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva3Vqb2hubG4vR2l0aHViL2Zvcm1lb2Rldi9+L21pMThuL2Rpc3QvbWkxOG4ubWluLmpzPzFiYmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBtaTE4biAtIGh0dHBzOi8vZ2l0aHViLmNvbS9EcmFnZ2FibGUvbWkxOG5cbiAqIFZlcnNpb246IDAuMy40XG4gKiBBdXRob3I6IEtldmluIENoYXBwZWxsIDxrZXZpbi5iLmNoYXBwZWxsQGdtYWlsLmNvbT4gKGh0dHA6Ly9rZXZpbi1jaGFwcGVsbC5jb20pXG4gKi9cbm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBvPW5bcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUuaT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5kPWZ1bmN0aW9uKHQsbixyKXtlLm8odCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciBuPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQobixcImFcIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD1cIlwiLGUoZS5zPTApfShbZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIobyx1KXt0cnl7dmFyIGk9ZVtvXSh1KSxhPWkudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgbih0KX1yZXR1cm4gaS5kb25lP3ZvaWQgdChhKTpQcm9taXNlLnJlc29sdmUoYSkudGhlbihmdW5jdGlvbih0KXtyKFwibmV4dFwiLHQpfSxmdW5jdGlvbih0KXtyKFwidGhyb3dcIix0KX0pfXJldHVybiByKFwibmV4dFwiKX0pfX1mdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbixyPTA7cjxlLmxlbmd0aDtyKyspbj1lW3JdLG4uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7cih0aGlzLHQpO3ZhciBuPXtleHRlbnNpb246XCIubGFuZ1wiLGxvY2F0aW9uOlwiYXNzZXRzL2xhbmcvXCIsbGFuZ3M6W1wiZW4tVVNcIl0sbG9jYWxlOlwiZW4tVVNcIixwcmVsb2FkZWQ6e319O3RoaXMuaW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5jb25maWc9T2JqZWN0LmFzc2lnbih7fSxuLHQpLGUubGFuZ3M9T2JqZWN0LmFzc2lnbih7fSxlLmNvbmZpZy5wcmVsb2FkZWQpLGUubG9jYWxlPWUuY29uZmlnLmxvY2FsZXx8ZS5jb25maWcubGFuZ3NbMF0sZS5zZXRDdXJyZW50KGUubG9jYWxlKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnQmJnRoaXMuY3VycmVudFt0XXx8dH0sdC5wcm90b3R5cGUubWFrZVNhZmU9ZnVuY3Rpb24odCl7dmFyIGU9e1wie1wiOlwiXFxcXHtcIixcIn1cIjpcIlxcXFx9XCIsXCJ8XCI6XCJcXFxcfFwifTtyZXR1cm4gdD10LnJlcGxhY2UoL1xce3xcXH18XFx8L2csZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSxuZXcgUmVnRXhwKHQsXCJnXCIpfSx0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jdXJyZW50W3RdPWV9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcyx1PXRoaXMuZ2V0VmFsdWUodCksaT11Lm1hdGNoKC9cXHtbXlxcfV0rP1xcfS9nKTtpZihlJiZpKWlmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOm8oZSkpKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKW49aVthXS5zdWJzdHJpbmcoMSxpW2FdLmxlbmd0aC0xKSx1PXUucmVwbGFjZShyLm1ha2VTYWZlKGlbYV0pLGVbbl18fFwiXCIpO2Vsc2UgdT11LnJlcGxhY2UoL1xce1teXFx9XSs/XFx9L2csZSk7cmV0dXJuIHV9LHQucHJvdG90eXBlLmZyb21GaWxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXQuc3BsaXQoXCJcXG5cIikscj17fSxvPTA7bzxuLmxlbmd0aDtvKyspaWYoZT1uW29dLm1hdGNoKC9eKC4rPykgKj89ICo/KFteXFxuXSspLykpe3ZhciB1PWVbMl0ucmVwbGFjZSgvXlxccyt8XFxzKyQvLFwiXCIpO3JbZVsxXV09dX1yZXR1cm4gcn0sdC5wcm90b3R5cGUucHJvY2Vzc0ZpbGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZXBsYWNlKC9cXG5cXG4vZyxcIlxcblwiKTtyZXR1cm4gdGhpcy5mcm9tRmlsZShlKX0sdC5wcm90b3R5cGUubG9hZExhbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixyKXtpZihlLmxhbmdzW3RdKW4oZS5sYW5nc1t0XSk7ZWxzZXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3QsdT1lLmNvbmZpZy5sb2NhdGlvbit0K2UuY29uZmlnLmV4dGVuc2lvbjtvLm9wZW4oXCJHRVRcIix1LCEwKSxvLm9ubG9hZD1mdW5jdGlvbigpe2lmKDMwND49dGhpcy5zdGF0dXMpe3ZhciB1PWUucHJvY2Vzc0ZpbGUoby5yZXNwb25zZVRleHQpO2UubGFuZ3NbdF09dSxuKHUpfWVsc2Ugcih7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6by5zdGF0dXNUZXh0fSl9LG8ub25lcnJvcj1mdW5jdGlvbigpe3Ioe3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0Om8uc3RhdHVzVGV4dH0pfSxvLnNlbmQoKX19KX0sdC5wcm90b3R5cGUuc2V0Q3VycmVudD1mdW5jdGlvbigpe3ZhciB0PW4ocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdCgpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImVuLVVTXCI7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOnJldHVybiB0Lm5leHQ9Mix0aGlzLmxvYWRMYW5nKGUpO2Nhc2UgMjpyZXR1cm4gdGhpcy5sb2NhbGU9ZSx0aGlzLmN1cnJlbnQ9dGhpcy5sYW5nc1tlXSx0LmFicnVwdChcInJldHVyblwiLHRoaXMuY3VycmVudCk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19LHQsdGhpcyl9KSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx1KHQsW3trZXk6XCJnZXRMYW5nc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZy5sYW5nc319XSksdH0oKTtlLmRlZmF1bHQ9bmV3IGl9XSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9taTE4bi9kaXN0L21pMThuLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar defaults = {\n  formeoLoaded: function formeoLoaded(evt) {},\n  onAdd: function onAdd() {},\n  onUpdate: function onUpdate(evt) {\n    if (events.opts.debug) {\n      console.log(evt);\n    }\n  },\n  onSave: function onSave(evt) {},\n  confirmClearAll: function confirmClearAll(evt) {\n    if (window.confirm(evt.confirmationMessage)) {\n      evt.clearAllAction(evt);\n    }\n  }\n};\n\nvar events = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaults, options);\n    return this;\n  },\n  formeoSaved: new CustomEvent(\'formeoSaved\', {}),\n  formeoUpdated: new CustomEvent(\'formeoUpdated\', {})\n};\n\ndocument.addEventListener(\'formeoUpdated\', function (evt) {\n  var timeStamp = evt.timeStamp,\n      type = evt.type,\n      data = evt.data;\n\n  var evtData = {\n    timeStamp: timeStamp,\n    type: type,\n    data: data\n  };\n  events.opts.onUpdate(evtData);\n});\n\ndocument.addEventListener(\'confirmClearAll\', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    rowCount: evt.detail.rows.length,\n    confirmationMessage: evt.detail.confirmationMessage,\n    clearAllAction: evt.detail.clearAllAction,\n    btnCoords: evt.detail.btnCoords\n  };\n\n  events.opts.confirmClearAll(evt);\n});\n\ndocument.addEventListener(\'formeoSaved\', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    formData: evt.detail.formData\n  };\n  events.opts.onSave(evt);\n});\n\ndocument.addEventListener(\'formeoLoaded\', function (evt) {\n  events.opts.formeoLoaded(evt.detail.formeo);\n});\n\nexports.default = events;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2V2ZW50cy5qcz83YjQwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gRGVmYXVsdCBvcHRpb25zXG5sZXQgZGVmYXVsdHMgPSB7XG4gIGZvcm1lb0xvYWRlZDogZXZ0ID0+IHt9LFxuICBvbkFkZDogKCkgPT4ge30sXG4gIG9uVXBkYXRlOiBldnQgPT4ge1xuICAgIGlmIChldmVudHMub3B0cy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coZXZ0KTtcbiAgICB9XG4gIH0sXG4gIG9uU2F2ZTogZXZ0ID0+IHt9LFxuICBjb25maXJtQ2xlYXJBbGw6IGV2dCA9PiB7XG4gICAgaWYgKHdpbmRvdy5jb25maXJtKGV2dC5jb25maXJtYXRpb25NZXNzYWdlKSkge1xuICAgICAgZXZ0LmNsZWFyQWxsQWN0aW9uKGV2dCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEV2ZW50cyBjbGFzcyBpcyB1c2VkIHRvIHJlZ2lzdGVyIGV2ZW50cyBhbmQgdGhyb3R0bGUgdGhlaXIgY2FsbGJhY2tzXG4gKi9cbmNvbnN0IGV2ZW50cyA9IHtcbiAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZm9ybWVvU2F2ZWQ6IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvU2F2ZWQnLCB7fSksXG4gIGZvcm1lb1VwZGF0ZWQ6IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHt9KVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvVXBkYXRlZCcsIGZ1bmN0aW9uKGV2dCkge1xuICBsZXQge3RpbWVTdGFtcCwgdHlwZSwgZGF0YX0gPSBldnQ7XG4gIGxldCBldnREYXRhID0ge1xuICAgIHRpbWVTdGFtcCxcbiAgICB0eXBlLFxuICAgIGRhdGFcbiAgfTtcbiAgZXZlbnRzLm9wdHMub25VcGRhdGUoZXZ0RGF0YSk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29uZmlybUNsZWFyQWxsJywgZnVuY3Rpb24oZXZ0KSB7XG4gIGV2dCA9IHtcbiAgICB0aW1lU3RhbXA6IGV2dC50aW1lU3RhbXAsXG4gICAgdHlwZTogZXZ0LnR5cGUsXG4gICAgcm93Q291bnQ6IGV2dC5kZXRhaWwucm93cy5sZW5ndGgsXG4gICAgY29uZmlybWF0aW9uTWVzc2FnZTogZXZ0LmRldGFpbC5jb25maXJtYXRpb25NZXNzYWdlLFxuICAgIGNsZWFyQWxsQWN0aW9uOiBldnQuZGV0YWlsLmNsZWFyQWxsQWN0aW9uLFxuICAgIGJ0bkNvb3JkczogZXZ0LmRldGFpbC5idG5Db29yZHNcbiAgfTtcblxuICBldmVudHMub3B0cy5jb25maXJtQ2xlYXJBbGwoZXZ0KTtcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb3JtZW9TYXZlZCcsIGV2dCA9PiB7XG4gIGV2dCA9IHtcbiAgICB0aW1lU3RhbXA6IGV2dC50aW1lU3RhbXAsXG4gICAgdHlwZTogZXZ0LnR5cGUsXG4gICAgZm9ybURhdGE6IGV2dC5kZXRhaWwuZm9ybURhdGFcbiAgfTtcbiAgZXZlbnRzLm9wdHMub25TYXZlKGV2dCk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvTG9hZGVkJywgZnVuY3Rpb24oZXZ0KSB7XG4gIGV2ZW50cy5vcHRzLmZvcm1lb0xvYWRlZChldnQuZGV0YWlsLmZvcm1lbyk7XG4gIC8vIHdpbmRvdy5jb250cm9sTmF2ID0gZXZ0LmRldGFpbC5mb3JtZW8uY29udHJvbHMuY29udHJvbE5hdjtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBldmVudHM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbW1vbi9ldmVudHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t"use strict";\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\telse if (typeof module != "undefined" && typeof module.exports != "undefined") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== "undefined") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow["Sortable"] = factory();\n\t}\n})(function () {\n\t"use strict";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = \'Sortable\' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!(\'draggable\' in document.createElement(\'div\')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement(\'x\');\n\t\t\tel.style.cssText = \'pointer-events:auto\';\n\t\t\treturn el.style.pointerEvents === \'auto\';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != \'object\') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t[\'pull\', \'put\'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = \' \' + group.name + (group.put.join ? \' \' + group.put.join(\' \') : \'\') + \' \';\n\t\t}\n\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow \'Sortable: `el` must be HTMLElement, and not \' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? \'li\' : \'>*\',\n\t\t\tghostClass: \'sortable-ghost\',\n\t\t\tchosenClass: \'sortable-chosen\',\n\t\t\tignore: \'a, img\',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData(\'Text\', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: \'data-id\',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: \'sortable-fallback\',\n\t\t\tfallbackOnBody: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === \'_\') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, \'mousedown\', this._onTapStart);\n\t\t_on(el, \'touchstart\', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, \'dragover\', this);\n\t\t\t_on(el, \'dragenter\', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === \'mousedown\' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === \'function\') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, \'filter\', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(\',\').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, \'filter\', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable "draggable"\n\t\t\t\toptions.ignore.split(\',\').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, \'mouseup\', _this._onDrop);\n\t\t\t\t_on(ownerDocument, \'touchend\', _this._onDrop);\n\t\t\t\t_on(ownerDocument, \'touchcancel\', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, \'mouseup\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchend\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchcancel\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'mousemove\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchmove\', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, \'mouseup\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchend\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchcancel\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'mousemove\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchmove\', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, \'touch\');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, \'dragend\', this);\n\t\t\t\t_on(rootEl, \'dragstart\', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, \'start\', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, \'display\', \'none\');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = \' \' + this.options.group.name + \'\',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, \'display\', \'\');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = touch.clientX - tapEvt.clientX,\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? \'translate3d(\' + dx + \'px,\' + dy + \'px,0)\' : \'translate(\' + dx + \'px,\' + dy + \'px)\';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, \'webkitTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'mozTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'msTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'transform\', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, \'top\', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, \'left\', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, \'width\', rect.width);\n\t\t\t\t_css(ghostEl, \'height\', rect.height);\n\t\t\t\t_css(ghostEl, \'opacity\', \'0.8\');\n\t\t\t\t_css(ghostEl, \'position\', \'fixed\');\n\t\t\t\t_css(ghostEl, \'zIndex\', \'100000\');\n\t\t\t\t_css(ghostEl, \'pointerEvents\', \'none\');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, \'width\', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, \'height\', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == \'clone\') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, \'display\', \'none\');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === \'touch\') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, \'touchmove\', this._onTouchMove);\n\t\t\t\t\t_on(document, \'touchend\', this._onDrop);\n\t\t\t\t\t_on(document, \'touchcancel\', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, \'mousemove\', this._onTouchMove);\n\t\t\t\t\t_on(document, \'mouseup\', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = \'move\';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, \'drop\', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == \'flex\' && lastParentCSS[\'flex-direction\'].indexOf(\'row\') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, \'transition\', \'none\');\n\t\t\t\t_css(target, \'transform\', \'translate3d(\'\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + \'px,\'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + \'px,0)\'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, \'transition\', \'all \' + ms + \'ms\');\n\t\t\t\t_css(target, \'transform\', \'translate3d(0,0,0)\');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, \'transition\', \'\');\n\t\t\t\t\t_css(target, \'transform\', \'\');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, \'touchmove\', this._onTouchMove);\n\t\t\t_off(ownerDocument, \'mouseup\', this._onDrop);\n\t\t\t_off(ownerDocument, \'touchend\', this._onDrop);\n\t\t\t_off(ownerDocument, \'touchcancel\', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, \'mousemove\', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, \'drop\', this);\n\t\t\t\t_off(el, \'dragstart\', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, \'dragend\', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class\'s\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, \'add\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'remove\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'update\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'end\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\tdragEl =\n\t\t\t\tparentEl =\n\t\t\t\tghostEl =\n\t\t\t\tnextEl =\n\t\t\t\tcloneEl =\n\n\t\t\t\tscrollEl =\n\t\t\t\tscrollParentEl =\n\n\t\t\t\ttapEvt =\n\t\t\t\ttouchEvt =\n\n\t\t\t\tmoved =\n\t\t\t\tnewIndex =\n\n\t\t\t\tlastEl =\n\t\t\t\tlastCSS =\n\n\t\t\t\tactiveGroup =\n\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === \'dragover\' || type === \'dragenter\') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === \'drop\' || type === \'dragend\') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === \'group\') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, \'mousedown\', this._onTapStart);\n\t\t\t_off(el, \'touchstart\', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, \'dragover\', this);\n\t\t\t\t_off(el, \'dragenter\', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll(\'[draggable]\'), function (el) {\n\t\t\t\tel.removeAttribute(\'draggable\');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, \'display\', state ? \'none\' : \'\');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split(\'.\');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp(\'\\\\s(\' + selector.join(\'|\') + \')(?=\\\\s)\', \'g\');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === \'>*\' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === \'\' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((\' \' + el.className + \' \').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = \'move\';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? \'add\' : \'remove\'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (\' \' + el.className + \' \').replace(RSPACE, \' \').replace(\' \' + name + \' \', \' \');\n\t\t\t\tel.className = (className + (state ? \' \' + name : \'\')).replace(RSPACE, \' \');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, \'\');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = \'-webkit-\' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === \'string\' ? \'\' : \'px\');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent(\'Event\'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = \'on\' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent(\'Event\');\n\t\tevt.initEvent(\'move\', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== \'TEMPLATE\') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = \'1.4.2\';\n\treturn Sortable;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva3Vqb2hubG4vR2l0aHViL2Zvcm1lb2Rldi9+L3NvcnRhYmxlanMvU29ydGFibGUuanM/OGYxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiohXG4gKiBTb3J0YWJsZVxuICogQGF1dGhvclx0UnViYVhhICAgPHRyYXNoQHJ1YmF4YS5vcmc+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIFBhY2thZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRTb3J0YWJsZSA9IGZhY3RvcnkoKTsgIC8vIGV4cG9ydCBmb3IgTWV0ZW9yLmpzXG5cdH1cblx0ZWxzZSB7XG5cdFx0LyoganNoaW50IHN1Yjp0cnVlICovXG5cdFx0d2luZG93W1wiU29ydGFibGVcIl0gPSBmYWN0b3J5KCk7XG5cdH1cbn0pKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGRyYWdFbCxcblx0XHRwYXJlbnRFbCxcblx0XHRnaG9zdEVsLFxuXHRcdGNsb25lRWwsXG5cdFx0cm9vdEVsLFxuXHRcdG5leHRFbCxcblxuXHRcdHNjcm9sbEVsLFxuXHRcdHNjcm9sbFBhcmVudEVsLFxuXG5cdFx0bGFzdEVsLFxuXHRcdGxhc3RDU1MsXG5cdFx0bGFzdFBhcmVudENTUyxcblxuXHRcdG9sZEluZGV4LFxuXHRcdG5ld0luZGV4LFxuXG5cdFx0YWN0aXZlR3JvdXAsXG5cdFx0YXV0b1Njcm9sbCA9IHt9LFxuXG5cdFx0dGFwRXZ0LFxuXHRcdHRvdWNoRXZ0LFxuXG5cdFx0bW92ZWQsXG5cblx0XHQvKiogQGNvbnN0ICovXG5cdFx0UlNQQUNFID0gL1xccysvZyxcblxuXHRcdGV4cGFuZG8gPSAnU29ydGFibGUnICsgKG5ldyBEYXRlKS5nZXRUaW1lKCksXG5cblx0XHR3aW4gPSB3aW5kb3csXG5cdFx0ZG9jdW1lbnQgPSB3aW4uZG9jdW1lbnQsXG5cdFx0cGFyc2VJbnQgPSB3aW4ucGFyc2VJbnQsXG5cblx0XHRzdXBwb3J0RHJhZ2dhYmxlID0gISEoJ2RyYWdnYWJsZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLFxuXHRcdHN1cHBvcnRDc3NQb2ludGVyRXZlbnRzID0gKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4Jyk7XG5cdFx0XHRlbC5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOmF1dG8nO1xuXHRcdFx0cmV0dXJuIGVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJztcblx0XHR9KSgpLFxuXG5cdFx0X3NpbGVudCA9IGZhbHNlLFxuXG5cdFx0YWJzID0gTWF0aC5hYnMsXG5cdFx0c2xpY2UgPSBbXS5zbGljZSxcblxuXHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMgPSBbXSxcblxuXHRcdF9hdXRvU2Nyb2xsID0gX3Rocm90dGxlKGZ1bmN0aW9uICgvKipFdmVudCovZXZ0LCAvKipPYmplY3QqL29wdGlvbnMsIC8qKkhUTUxFbGVtZW50Ki9yb290RWwpIHtcblx0XHRcdC8vIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxXG5cdFx0XHRpZiAocm9vdEVsICYmIG9wdGlvbnMuc2Nyb2xsKSB7XG5cdFx0XHRcdHZhciBlbCxcblx0XHRcdFx0XHRyZWN0LFxuXHRcdFx0XHRcdHNlbnMgPSBvcHRpb25zLnNjcm9sbFNlbnNpdGl2aXR5LFxuXHRcdFx0XHRcdHNwZWVkID0gb3B0aW9ucy5zY3JvbGxTcGVlZCxcblxuXHRcdFx0XHRcdHggPSBldnQuY2xpZW50WCxcblx0XHRcdFx0XHR5ID0gZXZ0LmNsaWVudFksXG5cblx0XHRcdFx0XHR3aW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLFxuXHRcdFx0XHRcdHdpbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCxcblxuXHRcdFx0XHRcdHZ4LFxuXHRcdFx0XHRcdHZ5XG5cdFx0XHRcdDtcblxuXHRcdFx0XHQvLyBEZWxlY3Qgc2Nyb2xsRWxcblx0XHRcdFx0aWYgKHNjcm9sbFBhcmVudEVsICE9PSByb290RWwpIHtcblx0XHRcdFx0XHRzY3JvbGxFbCA9IG9wdGlvbnMuc2Nyb2xsO1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudEVsID0gcm9vdEVsO1xuXG5cdFx0XHRcdFx0aWYgKHNjcm9sbEVsID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRzY3JvbGxFbCA9IHJvb3RFbDtcblxuXHRcdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0XHRpZiAoKHNjcm9sbEVsLm9mZnNldFdpZHRoIDwgc2Nyb2xsRWwuc2Nyb2xsV2lkdGgpIHx8XG5cdFx0XHRcdFx0XHRcdFx0KHNjcm9sbEVsLm9mZnNldEhlaWdodCA8IHNjcm9sbEVsLnNjcm9sbEhlaWdodClcblx0XHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0LyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXHRcdFx0XHRcdFx0fSB3aGlsZSAoc2Nyb2xsRWwgPSBzY3JvbGxFbC5wYXJlbnROb2RlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc2Nyb2xsRWwpIHtcblx0XHRcdFx0XHRlbCA9IHNjcm9sbEVsO1xuXHRcdFx0XHRcdHJlY3QgPSBzY3JvbGxFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHR2eCA9IChhYnMocmVjdC5yaWdodCAtIHgpIDw9IHNlbnMpIC0gKGFicyhyZWN0LmxlZnQgLSB4KSA8PSBzZW5zKTtcblx0XHRcdFx0XHR2eSA9IChhYnMocmVjdC5ib3R0b20gLSB5KSA8PSBzZW5zKSAtIChhYnMocmVjdC50b3AgLSB5KSA8PSBzZW5zKTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYgKCEodnggfHwgdnkpKSB7XG5cdFx0XHRcdFx0dnggPSAod2luV2lkdGggLSB4IDw9IHNlbnMpIC0gKHggPD0gc2Vucyk7XG5cdFx0XHRcdFx0dnkgPSAod2luSGVpZ2h0IC0geSA8PSBzZW5zKSAtICh5IDw9IHNlbnMpO1xuXG5cdFx0XHRcdFx0LyoganNoaW50IGV4cHI6dHJ1ZSAqL1xuXHRcdFx0XHRcdCh2eCB8fCB2eSkgJiYgKGVsID0gd2luKTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYgKGF1dG9TY3JvbGwudnggIT09IHZ4IHx8IGF1dG9TY3JvbGwudnkgIT09IHZ5IHx8IGF1dG9TY3JvbGwuZWwgIT09IGVsKSB7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC5lbCA9IGVsO1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwudnggPSB2eDtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLnZ5ID0gdnk7XG5cblx0XHRcdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcblxuXHRcdFx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRcdFx0YXV0b1Njcm9sbC5waWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChlbCA9PT0gd2luKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2luLnNjcm9sbFRvKHdpbi5wYWdlWE9mZnNldCArIHZ4ICogc3BlZWQsIHdpbi5wYWdlWU9mZnNldCArIHZ5ICogc3BlZWQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHZ5ICYmIChlbC5zY3JvbGxUb3AgKz0gdnkgKiBzcGVlZCk7XG5cdFx0XHRcdFx0XHRcdFx0dnggJiYgKGVsLnNjcm9sbExlZnQgKz0gdnggKiBzcGVlZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIDI0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCAzMCksXG5cblx0XHRfcHJlcGFyZUdyb3VwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRcdHZhciBncm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cblx0XHRcdGlmICghZ3JvdXAgfHwgdHlwZW9mIGdyb3VwICE9ICdvYmplY3QnKSB7XG5cdFx0XHRcdGdyb3VwID0gb3B0aW9ucy5ncm91cCA9IHtuYW1lOiBncm91cH07XG5cdFx0XHR9XG5cblx0XHRcdFsncHVsbCcsICdwdXQnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0aWYgKCEoa2V5IGluIGdyb3VwKSkge1xuXHRcdFx0XHRcdGdyb3VwW2tleV0gPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0b3B0aW9ucy5ncm91cHMgPSAnICcgKyBncm91cC5uYW1lICsgKGdyb3VwLnB1dC5qb2luID8gJyAnICsgZ3JvdXAucHV0LmpvaW4oJyAnKSA6ICcnKSArICcgJztcblx0XHR9XG5cdDtcblxuXG5cblx0LyoqXG5cdCAqIEBjbGFzcyAgU29ydGFibGVcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbFxuXHQgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zXVxuXHQgKi9cblx0ZnVuY3Rpb24gU29ydGFibGUoZWwsIG9wdGlvbnMpIHtcblx0XHRpZiAoIShlbCAmJiBlbC5ub2RlVHlwZSAmJiBlbC5ub2RlVHlwZSA9PT0gMSkpIHtcblx0XHRcdHRocm93ICdTb3J0YWJsZTogYGVsYCBtdXN0IGJlIEhUTUxFbGVtZW50LCBhbmQgbm90ICcgKyB7fS50b1N0cmluZy5jYWxsKGVsKTtcblx0XHR9XG5cblx0XHR0aGlzLmVsID0gZWw7IC8vIHJvb3QgZWxlbWVudFxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBfZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuXG5cdFx0Ly8gRXhwb3J0IGluc3RhbmNlXG5cdFx0ZWxbZXhwYW5kb10gPSB0aGlzO1xuXG5cblx0XHQvLyBEZWZhdWx0IG9wdGlvbnNcblx0XHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHRncm91cDogTWF0aC5yYW5kb20oKSxcblx0XHRcdHNvcnQ6IHRydWUsXG5cdFx0XHRkaXNhYmxlZDogZmFsc2UsXG5cdFx0XHRzdG9yZTogbnVsbCxcblx0XHRcdGhhbmRsZTogbnVsbCxcblx0XHRcdHNjcm9sbDogdHJ1ZSxcblx0XHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAzMCxcblx0XHRcdHNjcm9sbFNwZWVkOiAxMCxcblx0XHRcdGRyYWdnYWJsZTogL1t1b11sL2kudGVzdChlbC5ub2RlTmFtZSkgPyAnbGknIDogJz4qJyxcblx0XHRcdGdob3N0Q2xhc3M6ICdzb3J0YWJsZS1naG9zdCcsXG5cdFx0XHRjaG9zZW5DbGFzczogJ3NvcnRhYmxlLWNob3NlbicsXG5cdFx0XHRpZ25vcmU6ICdhLCBpbWcnLFxuXHRcdFx0ZmlsdGVyOiBudWxsLFxuXHRcdFx0YW5pbWF0aW9uOiAwLFxuXHRcdFx0c2V0RGF0YTogZnVuY3Rpb24gKGRhdGFUcmFuc2ZlciwgZHJhZ0VsKSB7XG5cdFx0XHRcdGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZHJhZ0VsLnRleHRDb250ZW50KTtcblx0XHRcdH0sXG5cdFx0XHRkcm9wQnViYmxlOiBmYWxzZSxcblx0XHRcdGRyYWdvdmVyQnViYmxlOiBmYWxzZSxcblx0XHRcdGRhdGFJZEF0dHI6ICdkYXRhLWlkJyxcblx0XHRcdGRlbGF5OiAwLFxuXHRcdFx0Zm9yY2VGYWxsYmFjazogZmFsc2UsXG5cdFx0XHRmYWxsYmFja0NsYXNzOiAnc29ydGFibGUtZmFsbGJhY2snLFxuXHRcdFx0ZmFsbGJhY2tPbkJvZHk6IGZhbHNlXG5cdFx0fTtcblxuXG5cdFx0Ly8gU2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdGZvciAodmFyIG5hbWUgaW4gZGVmYXVsdHMpIHtcblx0XHRcdCEobmFtZSBpbiBvcHRpb25zKSAmJiAob3B0aW9uc1tuYW1lXSA9IGRlZmF1bHRzW25hbWVdKTtcblx0XHR9XG5cblx0XHRfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuXG5cdFx0Ly8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG5cdFx0Zm9yICh2YXIgZm4gaW4gdGhpcykge1xuXHRcdFx0aWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG5cdFx0XHRcdHRoaXNbZm5dID0gdGhpc1tmbl0uYmluZCh0aGlzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXR1cCBkcmFnIG1vZGVcblx0XHR0aGlzLm5hdGl2ZURyYWdnYWJsZSA9IG9wdGlvbnMuZm9yY2VGYWxsYmFjayA/IGZhbHNlIDogc3VwcG9ydERyYWdnYWJsZTtcblxuXHRcdC8vIEJpbmQgZXZlbnRzXG5cdFx0X29uKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cdFx0X29uKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuXG5cdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRfb24oZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuXHRcdFx0X29uKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG5cdFx0fVxuXG5cdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycy5wdXNoKHRoaXMuX29uRHJhZ092ZXIpO1xuXG5cdFx0Ly8gUmVzdG9yZSBzb3J0aW5nXG5cdFx0b3B0aW9ucy5zdG9yZSAmJiB0aGlzLnNvcnQob3B0aW9ucy5zdG9yZS5nZXQodGhpcykpO1xuXHR9XG5cblxuXHRTb3J0YWJsZS5wcm90b3R5cGUgPSAvKiogQGxlbmRzIFNvcnRhYmxlLnByb3RvdHlwZSAqLyB7XG5cdFx0Y29uc3RydWN0b3I6IFNvcnRhYmxlLFxuXG5cdFx0X29uVGFwU3RhcnQ6IGZ1bmN0aW9uICgvKiogRXZlbnR8VG91Y2hFdmVudCAqL2V2dCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHR0eXBlID0gZXZ0LnR5cGUsXG5cdFx0XHRcdHRvdWNoID0gZXZ0LnRvdWNoZXMgJiYgZXZ0LnRvdWNoZXNbMF0sXG5cdFx0XHRcdHRhcmdldCA9ICh0b3VjaCB8fCBldnQpLnRhcmdldCxcblx0XHRcdFx0b3JpZ2luYWxUYXJnZXQgPSB0YXJnZXQsXG5cdFx0XHRcdGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuXG5cblx0XHRcdGlmICh0eXBlID09PSAnbW91c2Vkb3duJyAmJiBldnQuYnV0dG9uICE9PSAwIHx8IG9wdGlvbnMuZGlzYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuOyAvLyBvbmx5IGxlZnQgYnV0dG9uIG9yIGVuYWJsZWRcblx0XHRcdH1cblxuXHRcdFx0dGFyZ2V0ID0gX2Nsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwpO1xuXG5cdFx0XHRpZiAoIXRhcmdldCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHRcdFx0b2xkSW5kZXggPSBfaW5kZXgodGFyZ2V0KTtcblxuXHRcdFx0Ly8gQ2hlY2sgZmlsdGVyXG5cdFx0XHRpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRpZiAoZmlsdGVyLmNhbGwodGhpcywgZXZ0LCB0YXJnZXQsIHRoaXMpKSB7XG5cdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQoX3RoaXMsIG9yaWdpbmFsVGFyZ2V0LCAnZmlsdGVyJywgdGFyZ2V0LCBlbCwgb2xkSW5kZXgpO1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjsgLy8gY2FuY2VsIGRuZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChmaWx0ZXIpIHtcblx0XHRcdFx0ZmlsdGVyID0gZmlsdGVyLnNwbGl0KCcsJykuc29tZShmdW5jdGlvbiAoY3JpdGVyaWEpIHtcblx0XHRcdFx0XHRjcml0ZXJpYSA9IF9jbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBjcml0ZXJpYS50cmltKCksIGVsKTtcblxuXHRcdFx0XHRcdGlmIChjcml0ZXJpYSkge1xuXHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQoX3RoaXMsIGNyaXRlcmlhLCAnZmlsdGVyJywgdGFyZ2V0LCBlbCwgb2xkSW5kZXgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuOyAvLyBjYW5jZWwgZG5kXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXG5cdFx0XHRpZiAob3B0aW9ucy5oYW5kbGUgJiYgIV9jbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBvcHRpb25zLmhhbmRsZSwgZWwpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXG5cdFx0XHQvLyBQcmVwYXJlIGBkcmFnc3RhcnRgXG5cdFx0XHR0aGlzLl9wcmVwYXJlRHJhZ1N0YXJ0KGV2dCwgdG91Y2gsIHRhcmdldCk7XG5cdFx0fSxcblxuXHRcdF9wcmVwYXJlRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50ICovZXZ0LCAvKiogVG91Y2ggKi90b3VjaCwgLyoqIEhUTUxFbGVtZW50ICovdGFyZ2V0KSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzLFxuXHRcdFx0XHRlbCA9IF90aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gX3RoaXMub3B0aW9ucyxcblx0XHRcdFx0b3duZXJEb2N1bWVudCA9IGVsLm93bmVyRG9jdW1lbnQsXG5cdFx0XHRcdGRyYWdTdGFydEZuO1xuXG5cdFx0XHRpZiAodGFyZ2V0ICYmICFkcmFnRWwgJiYgKHRhcmdldC5wYXJlbnROb2RlID09PSBlbCkpIHtcblx0XHRcdFx0dGFwRXZ0ID0gZXZ0O1xuXG5cdFx0XHRcdHJvb3RFbCA9IGVsO1xuXHRcdFx0XHRkcmFnRWwgPSB0YXJnZXQ7XG5cdFx0XHRcdHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7XG5cdFx0XHRcdG5leHRFbCA9IGRyYWdFbC5uZXh0U2libGluZztcblx0XHRcdFx0YWN0aXZlR3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuXG5cdFx0XHRcdGRyYWdTdGFydEZuID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdC8vIERlbGF5ZWQgZHJhZyBoYXMgYmVlbiB0cmlnZ2VyZWRcblx0XHRcdFx0XHQvLyB3ZSBjYW4gcmUtZW5hYmxlIHRoZSBldmVudHM6IHRvdWNobW92ZS9tb3VzZW1vdmVcblx0XHRcdFx0XHRfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKCk7XG5cblx0XHRcdFx0XHQvLyBNYWtlIHRoZSBlbGVtZW50IGRyYWdnYWJsZVxuXHRcdFx0XHRcdGRyYWdFbC5kcmFnZ2FibGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0Ly8gQ2hvc2VuIGl0ZW1cblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBfdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCB0cnVlKTtcblxuXHRcdFx0XHRcdC8vIEJpbmQgdGhlIGV2ZW50czogZHJhZ3N0YXJ0L2RyYWdlbmRcblx0XHRcdFx0XHRfdGhpcy5fdHJpZ2dlckRyYWdTdGFydCh0b3VjaCk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gRGlzYWJsZSBcImRyYWdnYWJsZVwiXG5cdFx0XHRcdG9wdGlvbnMuaWdub3JlLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoY3JpdGVyaWEpIHtcblx0XHRcdFx0XHRfZmluZChkcmFnRWwsIGNyaXRlcmlhLnRyaW0oKSwgX2Rpc2FibGVEcmFnZ2FibGUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG5cblx0XHRcdFx0aWYgKG9wdGlvbnMuZGVsYXkpIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgdXNlciBtb3ZlcyB0aGUgcG9pbnRlciBvciBsZXQgZ28gdGhlIGNsaWNrIG9yIHRvdWNoXG5cdFx0XHRcdFx0Ly8gYmVmb3JlIHRoZSBkZWxheSBoYXMgYmVlbiByZWFjaGVkOlxuXHRcdFx0XHRcdC8vIGRpc2FibGUgdGhlIGRlbGF5ZWQgZHJhZ1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXG5cdFx0XHRcdFx0X3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZHJhZ1N0YXJ0Rm4oKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZGlzYWJsZURlbGF5ZWREcmFnOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcblxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0fSxcblxuXHRcdF90cmlnZ2VyRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqIFRvdWNoICovdG91Y2gpIHtcblx0XHRcdGlmICh0b3VjaCkge1xuXHRcdFx0XHQvLyBUb3VjaCBkZXZpY2Ugc3VwcG9ydFxuXHRcdFx0XHR0YXBFdnQgPSB7XG5cdFx0XHRcdFx0dGFyZ2V0OiBkcmFnRWwsXG5cdFx0XHRcdFx0Y2xpZW50WDogdG91Y2guY2xpZW50WCxcblx0XHRcdFx0XHRjbGllbnRZOiB0b3VjaC5jbGllbnRZXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpcy5fb25EcmFnU3RhcnQodGFwRXZ0LCAndG91Y2gnKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHR0aGlzLl9vbkRyYWdTdGFydCh0YXBFdnQsIHRydWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdF9vbihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG5cdFx0XHRcdF9vbihyb290RWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcblx0XHRcdFx0XHRkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChyb290RWwgJiYgZHJhZ0VsKSB7XG5cdFx0XHRcdC8vIEFwcGx5IGVmZmVjdFxuXHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0U29ydGFibGUuYWN0aXZlID0gdGhpcztcblxuXHRcdFx0XHQvLyBEcmFnIHN0YXJ0IGV2ZW50XG5cdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3N0YXJ0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2VtdWxhdGVEcmFnT3ZlcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHRvdWNoRXZ0KSB7XG5cdFx0XHRcdGlmICh0aGlzLl9sYXN0WCA9PT0gdG91Y2hFdnQuY2xpZW50WCAmJiB0aGlzLl9sYXN0WSA9PT0gdG91Y2hFdnQuY2xpZW50WSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX2xhc3RYID0gdG91Y2hFdnQuY2xpZW50WDtcblx0XHRcdFx0dGhpcy5fbGFzdFkgPSB0b3VjaEV2dC5jbGllbnRZO1xuXG5cdFx0XHRcdGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRfY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoRXZ0LmNsaWVudFgsIHRvdWNoRXZ0LmNsaWVudFkpLFxuXHRcdFx0XHRcdHBhcmVudCA9IHRhcmdldCxcblx0XHRcdFx0XHRncm91cE5hbWUgPSAnICcgKyB0aGlzLm9wdGlvbnMuZ3JvdXAubmFtZSArICcnLFxuXHRcdFx0XHRcdGkgPSB0b3VjaERyYWdPdmVyTGlzdGVuZXJzLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0aWYgKHBhcmVudFtleHBhbmRvXSAmJiBwYXJlbnRbZXhwYW5kb10ub3B0aW9ucy5ncm91cHMuaW5kZXhPZihncm91cE5hbWUpID4gLTEpIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRcdFx0XHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnNbaV0oe1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50WDogdG91Y2hFdnQuY2xpZW50WCxcblx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudFk6IHRvdWNoRXZ0LmNsaWVudFksXG5cdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ6IHRhcmdldCxcblx0XHRcdFx0XHRcdFx0XHRcdHJvb3RFbDogcGFyZW50XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGFyZ2V0ID0gcGFyZW50OyAvLyBzdG9yZSBsYXN0IGVsZW1lbnRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXHRcdFx0XHRcdHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzKSB7XG5cdFx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnZGlzcGxheScsICcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdF9vblRvdWNoTW92ZTogZnVuY3Rpb24gKC8qKlRvdWNoRXZlbnQqL2V2dCkge1xuXHRcdFx0aWYgKHRhcEV2dCkge1xuXHRcdFx0XHQvLyBvbmx5IHNldCB0aGUgc3RhdHVzIHRvIGRyYWdnaW5nLCB3aGVuIHdlIGFyZSBhY3R1YWxseSBkcmFnZ2luZ1xuXHRcdFx0XHRpZiAoIVNvcnRhYmxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdHRoaXMuX2RyYWdTdGFydGVkKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhcyB3ZWxsIGFzIGNyZWF0aW5nIHRoZSBnaG9zdCBlbGVtZW50IG9uIHRoZSBkb2N1bWVudCBib2R5XG5cdFx0XHRcdHRoaXMuX2FwcGVuZEdob3N0KCk7XG5cblx0XHRcdFx0dmFyIHRvdWNoID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCxcblx0XHRcdFx0XHRkeCA9IHRvdWNoLmNsaWVudFggLSB0YXBFdnQuY2xpZW50WCxcblx0XHRcdFx0XHRkeSA9IHRvdWNoLmNsaWVudFkgLSB0YXBFdnQuY2xpZW50WSxcblx0XHRcdFx0XHR0cmFuc2xhdGUzZCA9IGV2dC50b3VjaGVzID8gJ3RyYW5zbGF0ZTNkKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgsMCknIDogJ3RyYW5zbGF0ZSgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4KSc7XG5cblx0XHRcdFx0bW92ZWQgPSB0cnVlO1xuXHRcdFx0XHR0b3VjaEV2dCA9IHRvdWNoO1xuXG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dlYmtpdFRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbW96VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdtc1RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfYXBwZW5kR2hvc3Q6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICghZ2hvc3RFbCkge1xuXHRcdFx0XHR2YXIgcmVjdCA9IGRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblx0XHRcdFx0XHRjc3MgPSBfY3NzKGRyYWdFbCksXG5cdFx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0XHRnaG9zdFJlY3Q7XG5cblx0XHRcdFx0Z2hvc3RFbCA9IGRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG5cblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuXHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5mYWxsYmFja0NsYXNzLCB0cnVlKTtcblxuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd0b3AnLCByZWN0LnRvcCAtIHBhcnNlSW50KGNzcy5tYXJnaW5Ub3AsIDEwKSk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2xlZnQnLCByZWN0LmxlZnQgLSBwYXJzZUludChjc3MubWFyZ2luTGVmdCwgMTApKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdvcGFjaXR5JywgJzAuOCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdwb3NpdGlvbicsICdmaXhlZCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd6SW5kZXgnLCAnMTAwMDAwJyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3BvaW50ZXJFdmVudHMnLCAnbm9uZScpO1xuXG5cdFx0XHRcdG9wdGlvbnMuZmFsbGJhY2tPbkJvZHkgJiYgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnaG9zdEVsKSB8fCByb290RWwuYXBwZW5kQ2hpbGQoZ2hvc3RFbCk7XG5cblx0XHRcdFx0Ly8gRml4aW5nIGRpbWVuc2lvbnMuXG5cdFx0XHRcdGdob3N0UmVjdCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dpZHRoJywgcmVjdC53aWR0aCAqIDIgLSBnaG9zdFJlY3Qud2lkdGgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCAqIDIgLSBnaG9zdFJlY3QuaGVpZ2h0KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCwgLyoqYm9vbGVhbiovdXNlRmFsbGJhY2spIHtcblx0XHRcdHZhciBkYXRhVHJhbnNmZXIgPSBldnQuZGF0YVRyYW5zZmVyLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHR0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG5cdFx0XHRpZiAoYWN0aXZlR3JvdXAucHVsbCA9PSAnY2xvbmUnKSB7XG5cdFx0XHRcdGNsb25lRWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuXHRcdFx0XHRfY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHRcdFx0cm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodXNlRmFsbGJhY2spIHtcblxuXHRcdFx0XHRpZiAodXNlRmFsbGJhY2sgPT09ICd0b3VjaCcpIHtcblx0XHRcdFx0XHQvLyBCaW5kIHRvdWNoIGV2ZW50c1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE9sZCBicndvc2VyXG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fbG9vcElkID0gc2V0SW50ZXJ2YWwodGhpcy5fZW11bGF0ZURyYWdPdmVyLCA1MCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKGRhdGFUcmFuc2Zlcikge1xuXHRcdFx0XHRcdGRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuXHRcdFx0XHRcdG9wdGlvbnMuc2V0RGF0YSAmJiBvcHRpb25zLnNldERhdGEuY2FsbCh0aGlzLCBkYXRhVHJhbnNmZXIsIGRyYWdFbCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfb24oZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG5cdFx0XHRcdHNldFRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0ZWQsIDApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfb25EcmFnT3ZlcjogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBlbCA9IHRoaXMuZWwsXG5cdFx0XHRcdHRhcmdldCxcblx0XHRcdFx0ZHJhZ1JlY3QsXG5cdFx0XHRcdHJldmVydCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0Z3JvdXAgPSBvcHRpb25zLmdyb3VwLFxuXHRcdFx0XHRncm91cFB1dCA9IGdyb3VwLnB1dCxcblx0XHRcdFx0aXNPd25lciA9IChhY3RpdmVHcm91cCA9PT0gZ3JvdXApLFxuXHRcdFx0XHRjYW5Tb3J0ID0gb3B0aW9ucy5zb3J0O1xuXG5cdFx0XHRpZiAoZXZ0LnByZXZlbnREZWZhdWx0ICE9PSB2b2lkIDApIHtcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdCFvcHRpb25zLmRyYWdvdmVyQnViYmxlICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblxuXHRcdFx0bW92ZWQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoYWN0aXZlR3JvdXAgJiYgIW9wdGlvbnMuZGlzYWJsZWQgJiZcblx0XHRcdFx0KGlzT3duZXJcblx0XHRcdFx0XHQ/IGNhblNvcnQgfHwgKHJldmVydCA9ICFyb290RWwuY29udGFpbnMoZHJhZ0VsKSkgLy8gUmV2ZXJ0aW5nIGl0ZW0gaW50byB0aGUgb3JpZ2luYWwgbGlzdFxuXHRcdFx0XHRcdDogYWN0aXZlR3JvdXAucHVsbCAmJiBncm91cFB1dCAmJiAoXG5cdFx0XHRcdFx0XHQoYWN0aXZlR3JvdXAubmFtZSA9PT0gZ3JvdXAubmFtZSkgfHwgLy8gYnkgTmFtZVxuXHRcdFx0XHRcdFx0KGdyb3VwUHV0LmluZGV4T2YgJiYgfmdyb3VwUHV0LmluZGV4T2YoYWN0aXZlR3JvdXAubmFtZSkpIC8vIGJ5IEFycmF5XG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpICYmXG5cdFx0XHRcdChldnQucm9vdEVsID09PSB2b2lkIDAgfHwgZXZ0LnJvb3RFbCA9PT0gdGhpcy5lbCkgLy8gdG91Y2ggZmFsbGJhY2tcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBTbWFydCBhdXRvLXNjcm9sbGluZ1xuXHRcdFx0XHRfYXV0b1Njcm9sbChldnQsIG9wdGlvbnMsIHRoaXMuZWwpO1xuXG5cdFx0XHRcdGlmIChfc2lsZW50KSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGFyZ2V0ID0gX2Nsb3Nlc3QoZXZ0LnRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcblx0XHRcdFx0ZHJhZ1JlY3QgPSBkcmFnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0aWYgKHJldmVydCkge1xuXHRcdFx0XHRcdF9jbG9uZUhpZGUodHJ1ZSk7XG5cblx0XHRcdFx0XHRpZiAoY2xvbmVFbCB8fCBuZXh0RWwpIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBjbG9uZUVsIHx8IG5leHRFbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCFjYW5Tb3J0KSB7XG5cdFx0XHRcdFx0XHRyb290RWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmICgoZWwuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB8fCAoZWwuY2hpbGRyZW5bMF0gPT09IGdob3N0RWwpIHx8XG5cdFx0XHRcdFx0KGVsID09PSBldnQudGFyZ2V0KSAmJiAodGFyZ2V0ID0gX2dob3N0SXNMYXN0KGVsLCBldnQpKVxuXHRcdFx0XHQpIHtcblxuXHRcdFx0XHRcdGlmICh0YXJnZXQpIHtcblx0XHRcdFx0XHRcdGlmICh0YXJnZXQuYW5pbWF0ZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9jbG9uZUhpZGUoaXNPd25lcik7XG5cblx0XHRcdFx0XHRpZiAoX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIHRhcmdldFJlY3QpICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0aWYgKCFkcmFnRWwuY29udGFpbnMoZWwpKSB7XG5cdFx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0XHRcdHBhcmVudEVsID0gZWw7IC8vIGFjdHVhbGl6YXRpb25cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcblx0XHRcdFx0XHRcdHRhcmdldCAmJiB0aGlzLl9hbmltYXRlKHRhcmdldFJlY3QsIHRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHRhcmdldCAmJiAhdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldCAhPT0gZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZVtleHBhbmRvXSAhPT0gdm9pZCAwKSkge1xuXHRcdFx0XHRcdGlmIChsYXN0RWwgIT09IHRhcmdldCkge1xuXHRcdFx0XHRcdFx0bGFzdEVsID0gdGFyZ2V0O1xuXHRcdFx0XHRcdFx0bGFzdENTUyA9IF9jc3ModGFyZ2V0KTtcblx0XHRcdFx0XHRcdGxhc3RQYXJlbnRDU1MgPSBfY3NzKHRhcmdldC5wYXJlbnROb2RlKTtcblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHRcdHZhciB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuXHRcdFx0XHRcdFx0d2lkdGggPSB0YXJnZXRSZWN0LnJpZ2h0IC0gdGFyZ2V0UmVjdC5sZWZ0LFxuXHRcdFx0XHRcdFx0aGVpZ2h0ID0gdGFyZ2V0UmVjdC5ib3R0b20gLSB0YXJnZXRSZWN0LnRvcCxcblx0XHRcdFx0XHRcdGZsb2F0aW5nID0gL2xlZnR8cmlnaHR8aW5saW5lLy50ZXN0KGxhc3RDU1MuY3NzRmxvYXQgKyBsYXN0Q1NTLmRpc3BsYXkpXG5cdFx0XHRcdFx0XHRcdHx8IChsYXN0UGFyZW50Q1NTLmRpc3BsYXkgPT0gJ2ZsZXgnICYmIGxhc3RQYXJlbnRDU1NbJ2ZsZXgtZGlyZWN0aW9uJ10uaW5kZXhPZigncm93JykgPT09IDApLFxuXHRcdFx0XHRcdFx0aXNXaWRlID0gKHRhcmdldC5vZmZzZXRXaWR0aCA+IGRyYWdFbC5vZmZzZXRXaWR0aCksXG5cdFx0XHRcdFx0XHRpc0xvbmcgPSAodGFyZ2V0Lm9mZnNldEhlaWdodCA+IGRyYWdFbC5vZmZzZXRIZWlnaHQpLFxuXHRcdFx0XHRcdFx0aGFsZndheSA9IChmbG9hdGluZyA/IChldnQuY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdCkgLyB3aWR0aCA6IChldnQuY2xpZW50WSAtIHRhcmdldFJlY3QudG9wKSAvIGhlaWdodCkgPiAwLjUsXG5cdFx0XHRcdFx0XHRuZXh0U2libGluZyA9IHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcsXG5cdFx0XHRcdFx0XHRtb3ZlVmVjdG9yID0gX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIHRhcmdldFJlY3QpLFxuXHRcdFx0XHRcdFx0YWZ0ZXJcblx0XHRcdFx0XHQ7XG5cblx0XHRcdFx0XHRpZiAobW92ZVZlY3RvciAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdF9zaWxlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChfdW5zaWxlbnQsIDMwKTtcblxuXHRcdFx0XHRcdFx0X2Nsb25lSGlkZShpc093bmVyKTtcblxuXHRcdFx0XHRcdFx0aWYgKG1vdmVWZWN0b3IgPT09IDEgfHwgbW92ZVZlY3RvciA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAobW92ZVZlY3RvciA9PT0gMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChmbG9hdGluZykge1xuXHRcdFx0XHRcdFx0XHR2YXIgZWxUb3AgPSBkcmFnRWwub2Zmc2V0VG9wLFxuXHRcdFx0XHRcdFx0XHRcdHRnVG9wID0gdGFyZ2V0Lm9mZnNldFRvcDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZWxUb3AgPT09IHRnVG9wKSB7XG5cdFx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAodGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT09IGRyYWdFbCkgJiYgIWlzV2lkZSB8fCBoYWxmd2F5ICYmIGlzV2lkZTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRhZnRlciA9IHRnVG9wID4gZWxUb3A7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFmdGVyID0gKG5leHRTaWJsaW5nICE9PSBkcmFnRWwpICYmICFpc0xvbmcgfHwgaGFsZndheSAmJiBpc0xvbmc7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICghZHJhZ0VsLmNvbnRhaW5zKGVsKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYWZ0ZXIgJiYgIW5leHRTaWJsaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0YXJnZXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBhZnRlciA/IG5leHRTaWJsaW5nIDogdGFyZ2V0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlOyAvLyBhY3R1YWxpemF0aW9uXG5cblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUoZHJhZ1JlY3QsIGRyYWdFbCk7XG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKHRhcmdldFJlY3QsIHRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9hbmltYXRlOiBmdW5jdGlvbiAocHJldlJlY3QsIHRhcmdldCkge1xuXHRcdFx0dmFyIG1zID0gdGhpcy5vcHRpb25zLmFuaW1hdGlvbjtcblxuXHRcdFx0aWYgKG1zKSB7XG5cdFx0XHRcdHZhciBjdXJyZW50UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnbm9uZScpO1xuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgnXG5cdFx0XHRcdFx0KyAocHJldlJlY3QubGVmdCAtIGN1cnJlbnRSZWN0LmxlZnQpICsgJ3B4LCdcblx0XHRcdFx0XHQrIChwcmV2UmVjdC50b3AgLSBjdXJyZW50UmVjdC50b3ApICsgJ3B4LDApJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRhcmdldC5vZmZzZXRXaWR0aDsgLy8gcmVwYWludFxuXG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdhbGwgJyArIG1zICsgJ21zJyk7XG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuXG5cdFx0XHRcdGNsZWFyVGltZW91dCh0YXJnZXQuYW5pbWF0ZWQpO1xuXHRcdFx0XHR0YXJnZXQuYW5pbWF0ZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG5cdFx0XHRcdFx0dGFyZ2V0LmFuaW1hdGVkID0gZmFsc2U7XG5cdFx0XHRcdH0sIG1zKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X29mZlVwRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcblxuXHRcdFx0X29mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdH0sXG5cblx0XHRfb25Ecm9wOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLl9sb29wSWQpO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXG5cdFx0XHQvLyBVbmJpbmQgZXZlbnRzXG5cdFx0XHRfb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXG5cdFx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdFx0X29mZihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcblx0XHRcdFx0X29mZihlbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuXHRcdFx0aWYgKGV2dCkge1xuXHRcdFx0XHRpZiAobW92ZWQpIHtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHQhb3B0aW9ucy5kcm9wQnViYmxlICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGdob3N0RWwgJiYgZ2hvc3RFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdGlmIChkcmFnRWwpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdFx0XHRcdF9vZmYoZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9kaXNhYmxlRHJhZ2dhYmxlKGRyYWdFbCk7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmUgY2xhc3Mnc1xuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG5cblx0XHRcdFx0XHRpZiAocm9vdEVsICE9PSBwYXJlbnRFbCkge1xuXHRcdFx0XHRcdFx0bmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsKTtcblxuXHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID49IDApIHtcblx0XHRcdFx0XHRcdFx0Ly8gZHJhZyBmcm9tIG9uZSBsaXN0IGFuZCBkcm9wIGludG8gYW5vdGhlclxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChudWxsLCBwYXJlbnRFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBldmVudFxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChudWxsLCBwYXJlbnRFbCwgJ2FkZCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlbW92ZSBldmVudFxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdyZW1vdmUnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgY2xvbmVcblx0XHRcdFx0XHRcdGNsb25lRWwgJiYgY2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuXG5cdFx0XHRcdFx0XHRpZiAoZHJhZ0VsLm5leHRTaWJsaW5nICE9PSBuZXh0RWwpIHtcblx0XHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gX2luZGV4KGRyYWdFbCk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBkcmFnICYgZHJvcCB3aXRoaW4gdGhlIHNhbWUgbGlzdFxuXHRcdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3VwZGF0ZScsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA9PT0gbnVsbCB8fCBuZXdJbmRleCA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXggPSBvbGRJbmRleDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnZW5kJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdC8vIFNhdmUgc29ydGluZ1xuXHRcdFx0XHRcdFx0dGhpcy5zYXZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTnVsbGluZ1xuXHRcdFx0XHRyb290RWwgPVxuXHRcdFx0XHRkcmFnRWwgPVxuXHRcdFx0XHRwYXJlbnRFbCA9XG5cdFx0XHRcdGdob3N0RWwgPVxuXHRcdFx0XHRuZXh0RWwgPVxuXHRcdFx0XHRjbG9uZUVsID1cblxuXHRcdFx0XHRzY3JvbGxFbCA9XG5cdFx0XHRcdHNjcm9sbFBhcmVudEVsID1cblxuXHRcdFx0XHR0YXBFdnQgPVxuXHRcdFx0XHR0b3VjaEV2dCA9XG5cblx0XHRcdFx0bW92ZWQgPVxuXHRcdFx0XHRuZXdJbmRleCA9XG5cblx0XHRcdFx0bGFzdEVsID1cblx0XHRcdFx0bGFzdENTUyA9XG5cblx0XHRcdFx0YWN0aXZlR3JvdXAgPVxuXHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIHR5cGUgPSBldnQudHlwZTtcblxuXHRcdFx0aWYgKHR5cGUgPT09ICdkcmFnb3ZlcicgfHwgdHlwZSA9PT0gJ2RyYWdlbnRlcicpIHtcblx0XHRcdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0XHRcdHRoaXMuX29uRHJhZ092ZXIoZXZ0KTtcblx0XHRcdFx0XHRfZ2xvYmFsRHJhZ092ZXIoZXZ0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAodHlwZSA9PT0gJ2Ryb3AnIHx8IHR5cGUgPT09ICdkcmFnZW5kJykge1xuXHRcdFx0XHR0aGlzLl9vbkRyb3AoZXZ0KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTZXJpYWxpemVzIHRoZSBpdGVtIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5nLlxuXHRcdCAqIEByZXR1cm5zIHtTdHJpbmdbXX1cblx0XHQgKi9cblx0XHR0b0FycmF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3JkZXIgPSBbXSxcblx0XHRcdFx0ZWwsXG5cdFx0XHRcdGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbixcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdG4gPSBjaGlsZHJlbi5sZW5ndGgsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGZvciAoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGVsID0gY2hpbGRyZW5baV07XG5cdFx0XHRcdGlmIChfY2xvc2VzdChlbCwgb3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwpKSB7XG5cdFx0XHRcdFx0b3JkZXIucHVzaChlbC5nZXRBdHRyaWJ1dGUob3B0aW9ucy5kYXRhSWRBdHRyKSB8fCBfZ2VuZXJhdGVJZChlbCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvcmRlcjtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTb3J0cyB0aGUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBhcnJheS5cblx0XHQgKiBAcGFyYW0gIHtTdHJpbmdbXX0gIG9yZGVyICBvcmRlciBvZiB0aGUgaXRlbXNcblx0XHQgKi9cblx0XHRzb3J0OiBmdW5jdGlvbiAob3JkZXIpIHtcblx0XHRcdHZhciBpdGVtcyA9IHt9LCByb290RWwgPSB0aGlzLmVsO1xuXG5cdFx0XHR0aGlzLnRvQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgaSkge1xuXHRcdFx0XHR2YXIgZWwgPSByb290RWwuY2hpbGRyZW5baV07XG5cblx0XHRcdFx0aWYgKF9jbG9zZXN0KGVsLCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCByb290RWwpKSB7XG5cdFx0XHRcdFx0aXRlbXNbaWRdID0gZWw7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpO1xuXG5cdFx0XHRvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0XHRpZiAoaXRlbXNbaWRdKSB7XG5cdFx0XHRcdFx0cm9vdEVsLnJlbW92ZUNoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnQgc29ydGluZ1xuXHRcdCAqL1xuXHRcdHNhdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdG9yZSA9IHRoaXMub3B0aW9ucy5zdG9yZTtcblx0XHRcdHN0b3JlICYmIHN0b3JlLnNldCh0aGlzKTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBGb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQsIGdldCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yIGJ5IHRlc3RpbmcgdGhlIGVsZW1lbnQgaXRzZWxmIGFuZCB0cmF2ZXJzaW5nIHVwIHRocm91Z2ggaXRzIGFuY2VzdG9ycyBpbiB0aGUgRE9NIHRyZWUuXG5cdFx0ICogQHBhcmFtICAge0hUTUxFbGVtZW50fSAgZWxcblx0XHQgKiBAcGFyYW0gICB7U3RyaW5nfSAgICAgICBbc2VsZWN0b3JdICBkZWZhdWx0OiBgb3B0aW9ucy5kcmFnZ2FibGVgXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG5cdFx0ICovXG5cdFx0Y2xvc2VzdDogZnVuY3Rpb24gKGVsLCBzZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuIF9jbG9zZXN0KGVsLCBzZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTZXQvZ2V0IG9wdGlvblxuXHRcdCAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcblx0XHQgKiBAcGFyYW0gICB7Kn0gICAgICBbdmFsdWVdXG5cdFx0ICogQHJldHVybnMgeyp9XG5cdFx0ICovXG5cdFx0b3B0aW9uOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9uc1tuYW1lXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcblxuXHRcdFx0XHRpZiAobmFtZSA9PT0gJ2dyb3VwJykge1xuXHRcdFx0XHRcdF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBEZXN0cm95XG5cdFx0ICovXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbDtcblxuXHRcdFx0ZWxbZXhwYW5kb10gPSBudWxsO1xuXG5cdFx0XHRfb2ZmKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cdFx0XHRfb2ZmKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuXG5cdFx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdFx0X29mZihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGRyYWdnYWJsZSBhdHRyaWJ1dGVzXG5cdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkcmFnZ2FibGVdJyksIGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RyYWdnYWJsZScpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMuc3BsaWNlKHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMuaW5kZXhPZih0aGlzLl9vbkRyYWdPdmVyKSwgMSk7XG5cblx0XHRcdHRoaXMuX29uRHJvcCgpO1xuXG5cdFx0XHR0aGlzLmVsID0gZWwgPSBudWxsO1xuXHRcdH1cblx0fTtcblxuXG5cdGZ1bmN0aW9uIF9jbG9uZUhpZGUoc3RhdGUpIHtcblx0XHRpZiAoY2xvbmVFbCAmJiAoY2xvbmVFbC5zdGF0ZSAhPT0gc3RhdGUpKSB7XG5cdFx0XHRfY3NzKGNsb25lRWwsICdkaXNwbGF5Jywgc3RhdGUgPyAnbm9uZScgOiAnJyk7XG5cdFx0XHQhc3RhdGUgJiYgY2xvbmVFbC5zdGF0ZSAmJiByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG5cdFx0XHRjbG9uZUVsLnN0YXRlID0gc3RhdGU7XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfY2xvc2VzdCgvKipIVE1MRWxlbWVudCovZWwsIC8qKlN0cmluZyovc2VsZWN0b3IsIC8qKkhUTUxFbGVtZW50Ki9jdHgpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGN0eCA9IGN0eCB8fCBkb2N1bWVudDtcblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc3BsaXQoJy4nKTtcblxuXHRcdFx0dmFyIHRhZyA9IHNlbGVjdG9yLnNoaWZ0KCkudG9VcHBlckNhc2UoKSxcblx0XHRcdFx0cmUgPSBuZXcgUmVnRXhwKCdcXFxccygnICsgc2VsZWN0b3Iuam9pbignfCcpICsgJykoPz1cXFxccyknLCAnZycpO1xuXG5cdFx0XHRkbyB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQodGFnID09PSAnPionICYmIGVsLnBhcmVudE5vZGUgPT09IGN0eCkgfHwgKFxuXHRcdFx0XHRcdFx0KHRhZyA9PT0gJycgfHwgZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSB0YWcpICYmXG5cdFx0XHRcdFx0XHQoIXNlbGVjdG9yLmxlbmd0aCB8fCAoKCcgJyArIGVsLmNsYXNzTmFtZSArICcgJykubWF0Y2gocmUpIHx8IFtdKS5sZW5ndGggPT0gc2VsZWN0b3IubGVuZ3RoKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAoZWwgIT09IGN0eCAmJiAoZWwgPSBlbC5wYXJlbnROb2RlKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9nbG9iYWxEcmFnT3ZlcigvKipFdmVudCovZXZ0KSB7XG5cdFx0aWYgKGV2dC5kYXRhVHJhbnNmZXIpIHtcblx0XHRcdGV2dC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcblx0XHR9XG5cdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vbihlbCwgZXZlbnQsIGZuKSB7XG5cdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIGZhbHNlKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX29mZihlbCwgZXZlbnQsIGZuKSB7XG5cdFx0ZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIGZhbHNlKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX3RvZ2dsZUNsYXNzKGVsLCBuYW1lLCBzdGF0ZSkge1xuXHRcdGlmIChlbCkge1xuXHRcdFx0aWYgKGVsLmNsYXNzTGlzdCkge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR2YXIgY2xhc3NOYW1lID0gKCcgJyArIGVsLmNsYXNzTmFtZSArICcgJykucmVwbGFjZShSU1BBQ0UsICcgJykucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuXHRcdFx0XHRlbC5jbGFzc05hbWUgPSAoY2xhc3NOYW1lICsgKHN0YXRlID8gJyAnICsgbmFtZSA6ICcnKSkucmVwbGFjZShSU1BBQ0UsICcgJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfY3NzKGVsLCBwcm9wLCB2YWwpIHtcblx0XHR2YXIgc3R5bGUgPSBlbCAmJiBlbC5zdHlsZTtcblxuXHRcdGlmIChzdHlsZSkge1xuXHRcdFx0aWYgKHZhbCA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG5cdFx0XHRcdFx0dmFsID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKGVsLmN1cnJlbnRTdHlsZSkge1xuXHRcdFx0XHRcdHZhbCA9IGVsLmN1cnJlbnRTdHlsZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBwcm9wID09PSB2b2lkIDAgPyB2YWwgOiB2YWxbcHJvcF07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCEocHJvcCBpbiBzdHlsZSkpIHtcblx0XHRcdFx0XHRwcm9wID0gJy13ZWJraXQtJyArIHByb3A7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdHlsZVtwcm9wXSA9IHZhbCArICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICcnIDogJ3B4Jyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG5cdFx0aWYgKGN0eCkge1xuXHRcdFx0dmFyIGxpc3QgPSBjdHguZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSksIGkgPSAwLCBuID0gbGlzdC5sZW5ndGg7XG5cblx0XHRcdGlmIChpdGVyYXRvcikge1xuXHRcdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGl0ZXJhdG9yKGxpc3RbaV0sIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH1cblxuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cblxuXHRmdW5jdGlvbiBfZGlzcGF0Y2hFdmVudChzb3J0YWJsZSwgcm9vdEVsLCBuYW1lLCB0YXJnZXRFbCwgZnJvbUVsLCBzdGFydEluZGV4LCBuZXdJbmRleCkge1xuXHRcdHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKSxcblx0XHRcdG9wdGlvbnMgPSAoc29ydGFibGUgfHwgcm9vdEVsW2V4cGFuZG9dKS5vcHRpb25zLFxuXHRcdFx0b25OYW1lID0gJ29uJyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKTtcblxuXHRcdGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRldnQudG8gPSByb290RWw7XG5cdFx0ZXZ0LmZyb20gPSBmcm9tRWwgfHwgcm9vdEVsO1xuXHRcdGV2dC5pdGVtID0gdGFyZ2V0RWwgfHwgcm9vdEVsO1xuXHRcdGV2dC5jbG9uZSA9IGNsb25lRWw7XG5cblx0XHRldnQub2xkSW5kZXggPSBzdGFydEluZGV4O1xuXHRcdGV2dC5uZXdJbmRleCA9IG5ld0luZGV4O1xuXG5cdFx0cm9vdEVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuXHRcdGlmIChvcHRpb25zW29uTmFtZV0pIHtcblx0XHRcdG9wdGlvbnNbb25OYW1lXS5jYWxsKHNvcnRhYmxlLCBldnQpO1xuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX29uTW92ZShmcm9tRWwsIHRvRWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldEVsLCB0YXJnZXRSZWN0KSB7XG5cdFx0dmFyIGV2dCxcblx0XHRcdHNvcnRhYmxlID0gZnJvbUVsW2V4cGFuZG9dLFxuXHRcdFx0b25Nb3ZlRm4gPSBzb3J0YWJsZS5vcHRpb25zLm9uTW92ZSxcblx0XHRcdHJldFZhbDtcblxuXHRcdGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdGV2dC5pbml0RXZlbnQoJ21vdmUnLCB0cnVlLCB0cnVlKTtcblxuXHRcdGV2dC50byA9IHRvRWw7XG5cdFx0ZXZ0LmZyb20gPSBmcm9tRWw7XG5cdFx0ZXZ0LmRyYWdnZWQgPSBkcmFnRWw7XG5cdFx0ZXZ0LmRyYWdnZWRSZWN0ID0gZHJhZ1JlY3Q7XG5cdFx0ZXZ0LnJlbGF0ZWQgPSB0YXJnZXRFbCB8fCB0b0VsO1xuXHRcdGV2dC5yZWxhdGVkUmVjdCA9IHRhcmdldFJlY3QgfHwgdG9FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdGZyb21FbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob25Nb3ZlRm4pIHtcblx0XHRcdHJldFZhbCA9IG9uTW92ZUZuLmNhbGwoc29ydGFibGUsIGV2dCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldFZhbDtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX2Rpc2FibGVEcmFnZ2FibGUoZWwpIHtcblx0XHRlbC5kcmFnZ2FibGUgPSBmYWxzZTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX3Vuc2lsZW50KCkge1xuXHRcdF9zaWxlbnQgPSBmYWxzZTtcblx0fVxuXG5cblx0LyoqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxmYWxzZX0gKi9cblx0ZnVuY3Rpb24gX2dob3N0SXNMYXN0KGVsLCBldnQpIHtcblx0XHR2YXIgbGFzdEVsID0gZWwubGFzdEVsZW1lbnRDaGlsZCxcblx0XHRcdFx0cmVjdCA9IGxhc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdHJldHVybiAoKGV2dC5jbGllbnRZIC0gKHJlY3QudG9wICsgcmVjdC5oZWlnaHQpID4gNSkgfHwgKGV2dC5jbGllbnRYIC0gKHJlY3QucmlnaHQgKyByZWN0LndpZHRoKSA+IDUpKSAmJiBsYXN0RWw7IC8vIG1pbiBkZWx0YVxuXHR9XG5cblxuXHQvKipcblx0ICogR2VuZXJhdGUgaWRcblx0ICogQHBhcmFtICAge0hUTUxFbGVtZW50fSBlbFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dlbmVyYXRlSWQoZWwpIHtcblx0XHR2YXIgc3RyID0gZWwudGFnTmFtZSArIGVsLmNsYXNzTmFtZSArIGVsLnNyYyArIGVsLmhyZWYgKyBlbC50ZXh0Q29udGVudCxcblx0XHRcdGkgPSBzdHIubGVuZ3RoLFxuXHRcdFx0c3VtID0gMDtcblxuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdHN1bSArPSBzdHIuY2hhckNvZGVBdChpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3VtLnRvU3RyaW5nKDM2KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBhbiBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cdCAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbFxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5kZXgoZWwpIHtcblx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0aWYgKCFlbCB8fCAhZWwucGFyZW50Tm9kZSkge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblxuXHRcdHdoaWxlIChlbCAmJiAoZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSkge1xuXHRcdFx0aWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdURU1QTEFURScpIHtcblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiBfdGhyb3R0bGUoY2FsbGJhY2ssIG1zKSB7XG5cdFx0dmFyIGFyZ3MsIF90aGlzO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChhcmdzID09PSB2b2lkIDApIHtcblx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cztcblx0XHRcdFx0X3RoaXMgPSB0aGlzO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChfdGhpcywgYXJnc1swXSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmFwcGx5KF90aGlzLCBhcmdzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhcmdzID0gdm9pZCAwO1xuXHRcdFx0XHR9LCBtcyk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9leHRlbmQoZHN0LCBzcmMpIHtcblx0XHRpZiAoZHN0ICYmIHNyYykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIHNyYykge1xuXHRcdFx0XHRpZiAoc3JjLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRkc3Rba2V5XSA9IHNyY1trZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRzdDtcblx0fVxuXG5cblx0Ly8gRXhwb3J0IHV0aWxzXG5cdFNvcnRhYmxlLnV0aWxzID0ge1xuXHRcdG9uOiBfb24sXG5cdFx0b2ZmOiBfb2ZmLFxuXHRcdGNzczogX2Nzcyxcblx0XHRmaW5kOiBfZmluZCxcblx0XHRpczogZnVuY3Rpb24gKGVsLCBzZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuICEhX2Nsb3Nlc3QoZWwsIHNlbGVjdG9yLCBlbCk7XG5cdFx0fSxcblx0XHRleHRlbmQ6IF9leHRlbmQsXG5cdFx0dGhyb3R0bGU6IF90aHJvdHRsZSxcblx0XHRjbG9zZXN0OiBfY2xvc2VzdCxcblx0XHR0b2dnbGVDbGFzczogX3RvZ2dsZUNsYXNzLFxuXHRcdGluZGV4OiBfaW5kZXhcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgc29ydGFibGUgaW5zdGFuY2Vcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gIGVsXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuXHQgKi9cblx0U29ydGFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyBTb3J0YWJsZShlbCwgb3B0aW9ucyk7XG5cdH07XG5cblxuXHQvLyBFeHBvcnRcblx0U29ydGFibGUudmVyc2lvbiA9ICcxLjQuMic7XG5cdHJldHVybiBTb3J0YWJsZTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9zb3J0YWJsZWpzL1NvcnRhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar defaultActions = {\n  add: {\n    attr: function attr(evt) {\n      var attr = window.prompt(evt.message.attr);\n      var val = void 0;\n      if (attr) {\n        val = String(window.prompt(evt.message.value, \'\'));\n        evt.addAction(attr, val);\n      }\n    },\n    option: function option(evt) {\n      evt.addAction();\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      evt.action();\n    }\n  },\n  save: function save(evt) {}\n};\n\nvar actions = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaultActions, options);\n    return this;\n  },\n  add: {\n    attrs: function attrs(evt) {\n      actions.opts.add.attr(evt);\n    },\n    options: function options(evt) {\n      actions.opts.add.option(evt);\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      actions.opts.click.btn(evt);\n    }\n  },\n  save: function save() {}\n};\n\nexports.default = actions;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FjdGlvbnMuanM/ZTkyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBY3Rpb25zIGFyZSB0aGUgY2FsbGJhY2tzIGZvciB0aGluZ3MgbGlrZSBhZGRpbmdcbi8vIG5ldyBhdHRyaWJ1dGVzLCBvcHRpb25zLCBmaWVsZCByZW1vdmFsIGNvbmZpcm1hdGlvbnMgZXRjLlxuLy8gRXZlcnkgQWN0aW9uIGJlbG93IGNhbiBiZSBvdmVycmlkZGVuIHZpYSBtb2R1bGUgb3B0aW9uc1xuXG4vLyBEZWZhdWx0IG9wdGlvbnNcbmNvbnN0IGRlZmF1bHRBY3Rpb25zID0ge1xuICBhZGQ6IHtcbiAgICBhdHRyOiBldnQgPT4ge1xuICAgICAgbGV0IGF0dHIgPSB3aW5kb3cucHJvbXB0KGV2dC5tZXNzYWdlLmF0dHIpO1xuICAgICAgbGV0IHZhbDtcbiAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgIHZhbCA9IFN0cmluZyh3aW5kb3cucHJvbXB0KGV2dC5tZXNzYWdlLnZhbHVlLCAnJykpO1xuICAgICAgICBldnQuYWRkQWN0aW9uKGF0dHIsIHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvcHRpb246IGV2dCA9PiB7XG4gICAgICBldnQuYWRkQWN0aW9uKCk7XG4gICAgfVxuICB9LFxuICBjbGljazoge1xuICAgIGJ0bjogZXZ0ID0+IHtcbiAgICAgIGV2dC5hY3Rpb24oKTtcbiAgICB9XG4gIH0sXG4gIHNhdmU6IGV2dCA9PiB7fVxufTtcblxuLyoqXG4gKiBFdmVudHMgY2xhc3MgaXMgdXNlZCB0byByZWdpc3RlciBhY3Rpb25zIGFuZCB0aHJvdHRsZSB0aGVpciBjYWxsYmFja3NcbiAqL1xuY29uc3QgYWN0aW9ucyA9IHtcbiAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRBY3Rpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkOiB7XG4gICAgYXR0cnM6IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuYWRkLmF0dHIoZXZ0KTtcbiAgICB9LFxuICAgIG9wdGlvbnM6IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuYWRkLm9wdGlvbihldnQpO1xuICAgIH1cbiAgfSxcbiAgY2xpY2s6IHtcbiAgICBidG46IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuY2xpY2suYnRuKGV2dCk7XG4gICAgfVxuICB9LFxuICBzYXZlOiAoKSA9PiB7fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYWN0aW9ucztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2FjdGlvbnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFuQkE7QUFDQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQWxCQTtBQUNBO0FBb0JBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Throttle = exports.Throttle = function () {\n  function Throttle() {\n    _classCallCheck(this, Throttle);\n  }\n\n  Throttle.prototype.add = function add(event, cb) {\n    var elem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n\n    var events = this;\n    events[event] = events[event] || { callbacks: [] };\n    events.addCallback(event, cb);\n    var callback = function callback(evt) {\n      events.throttle(events[event], evt);\n    };\n\n    elem.addEventListener(event, callback);\n\n    return callback;\n  };\n\n  Throttle.prototype.addCallback = function addCallback(event, cb) {\n    var events = this;\n    if (cb) {\n      events[event].callbacks.push(cb);\n    }\n  };\n\n  Throttle.prototype.runCallbacks = function runCallbacks(event, evt) {\n    event.callbacks.forEach(function (callback) {\n      callback(evt);\n    });\n\n    event.running = false;\n  };\n\n  Throttle.prototype.throttle = function throttle(event, evt) {\n    var events = this;\n\n    if (!event.running) {\n      event.running = true;\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(function () {\n          events.runCallbacks(event, evt);\n        });\n      } else {\n        setTimeout(events.runCallbacks.bind(event), 66);\n      }\n    }\n  };\n\n  return Throttle;\n}();\n\nvar animate = {\n  getStyle: function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  },\n\n  fadeOut: function fadeOut(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var increment = 1 / (duration / 60);\n    elem.style.opacity = 1;\n    (function fade() {\n      var val = Number(elem.style.opacity) - increment;\n      if (val > 0) {\n        elem.style.opacity = val;\n        requestAnimationFrame(fade);\n      } else {\n        elem.remove();\n      }\n    })();\n  },\n\n  slideDown: function slideDown(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    elem.style.display = \'block\';\n    var style = animate.getStyle(elem);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = \'hidden\';\n    var height = parseInt(style.height, 10);\n    var increment = height / (duration / 60);\n    elem.style.height = \'0px\';\n    (function slideDown() {\n      var curHeight = parseFloat(elem.style.height);\n      var val = curHeight + increment;\n      if (curHeight < height) {\n        elem.style.height = val + \'px\';\n        requestAnimationFrame(slideDown);\n      } else {\n        elem.style.overflow = overFlowBack;\n\n        elem.style.height = \'auto\';\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideUp: function slideUp(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var style = animate.getStyle(elem);\n    var height = parseInt(style.height);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = \'hidden\';\n    elem.style.height = height + \'px\';\n    var defMinHeight = style.minHeight;\n    elem.style.minHeight = \'auto\';\n    var increment = parseFloat(height / (duration / 60)).toFixed(2);\n\n    (function slideUp() {\n      var curHeight = parseInt(elem.style.height, 10);\n      var val = curHeight - increment;\n      if (val > 0) {\n        elem.style.height = val + \'px\';\n        requestAnimationFrame(slideUp);\n      } else {\n        elem.style.overflow = overFlowBack;\n        elem.style.display = \'none\';\n        elem.style.minHeight = defMinHeight;\n        delete elem.style.height;\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideToggle: function slideToggle(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var isHidden = animate.getStyle(elem, \'display\') === \'none\';\n\n    if (isHidden) {\n      animate.slideDown(elem, duration);\n    } else {\n      animate.slideUp(elem, duration);\n    }\n  }\n\n};\n\nexports.default = animate;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FuaW1hdGlvbi5qcz9mNTYzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBUaHJvdHRsZSBjbGFzcyBwcm92aWRlcyBhbmQgZWFzeSB3YXkgZm9yIGJpbmRpbmdcbiAqIGFuZCB0aHJvdHRsaW5nIGV2ZW50cy4gSGVscGZ1bCBmb3IgZXZlbnRzIGxpa2Ugd2luZG93XG4gKiBzY3JvbGwgdGhhdCBhcmUgZmlyZWQgb2Z0ZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBUaHJvdHRsZSB7XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBldmVudCBhbmQgcmVnaXN0ZXIgY2FsbGJhY2tzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgIGVsZW0gRE9NIGVsZW1lbnQgd2UgYXJlIGJpbmdpbmcgdG9cbiAgICogQHJldHVybiB7RnVuY3Rpb259IHRocm90dGxlZCBjYlxuICAgKi9cbiAgYWRkKGV2ZW50LCBjYiwgZWxlbSA9IHdpbmRvdykge1xuICAgIGxldCBldmVudHMgPSB0aGlzO1xuICAgIGV2ZW50c1tldmVudF0gPSBldmVudHNbZXZlbnRdIHx8IHtjYWxsYmFja3M6IFtdfTtcbiAgICBldmVudHMuYWRkQ2FsbGJhY2soZXZlbnQsIGNiKTtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2ZW50cy50aHJvdHRsZShldmVudHNbZXZlbnRdLCBldnQpO1xuICAgIH07XG4gICAgLy8gaWYgKCFldmVudHNbZXZlbnRdLmNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICAvLyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjYWxsYmFjayB0byBhbiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGFuIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqL1xuICBhZGRDYWxsYmFjayhldmVudCwgY2IpIHtcbiAgICBsZXQgZXZlbnRzID0gdGhpcztcbiAgICBpZiAoY2IpIHtcbiAgICAgIGV2ZW50c1tldmVudF0uY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIGNhbGxiYWNrcyBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHJlc3BvbnNlIGZyb20gZmlyZWQgZXZlbnRcbiAgICovXG4gIHJ1bkNhbGxiYWNrcyhldmVudCwgZXZ0KSB7XG4gICAgZXZlbnQuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKGV2dCk7XG4gICAgfSk7XG5cbiAgICBldmVudC5ydW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3R0bGUgYW4gZXZlbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudCBpbiBxdWV1ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dCByZXNwb25zZSBmcm9tIGZpcmVkIGV2ZW50XG4gICAqL1xuICB0aHJvdHRsZShldmVudCwgZXZ0KSB7XG4gICAgbGV0IGV2ZW50cyA9IHRoaXM7XG5cbiAgICBpZiAoIWV2ZW50LnJ1bm5pbmcpIHtcbiAgICAgIGV2ZW50LnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBldmVudHMucnVuQ2FsbGJhY2tzKGV2ZW50LCBldnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoZXZlbnRzLnJ1bkNhbGxiYWNrcy5iaW5kKGV2ZW50KSwgNjYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmNvbnN0IGFuaW1hdGUgPSB7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBhbiBlbGVtZW50XG4gICAqIEBwYXJhbSAge1t0eXBlXX0gIGVsZW0gICAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gcHJvcGVydHkgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXRTdHlsZTogKGVsZW0sIHByb3BlcnR5ID0gZmFsc2UpID0+IHtcbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0sIG51bGwpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHtcbiAgICAgIHN0eWxlID0gZWxlbS5jdXJyZW50U3R5bGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnR5ID8gc3R5bGVbcHJvcGVydHldIDogc3R5bGU7XG4gIH0sXG5cbiAgZmFkZU91dDogKGVsZW0sIGR1cmF0aW9uID0gMjUwKSA9PiB7XG4gICAgbGV0IGluY3JlbWVudCA9IDEgLyAoZHVyYXRpb24gLyA2MCk7XG4gICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAoZnVuY3Rpb24gZmFkZSgpIHtcbiAgICAgIGxldCB2YWwgPSBOdW1iZXIoZWxlbS5zdHlsZS5vcGFjaXR5KSAtIGluY3JlbWVudDtcbiAgICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IHZhbDtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZhZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9LFxuXG4gIHNsaWRlRG93bjogKGVsZW0sIGR1cmF0aW9uID0gMjUwLCBjYiA9IGZhbHNlKSA9PiB7XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBjb25zdCBzdHlsZSA9IGFuaW1hdGUuZ2V0U3R5bGUoZWxlbSk7XG4gICAgbGV0IG92ZXJGbG93QmFjayA9IHN0eWxlLm92ZXJmbG93O1xuICAgIGVsZW0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBsZXQgaGVpZ2h0ID0gcGFyc2VJbnQoc3R5bGUuaGVpZ2h0LCAxMCk7XG4gICAgbGV0IGluY3JlbWVudCA9IGhlaWdodCAvIChkdXJhdGlvbiAvIDYwKTtcbiAgICBlbGVtLnN0eWxlLmhlaWdodCA9ICcwcHgnO1xuICAgIChmdW5jdGlvbiBzbGlkZURvd24oKSB7XG4gICAgICBsZXQgY3VySGVpZ2h0ID0gcGFyc2VGbG9hdChlbGVtLnN0eWxlLmhlaWdodCk7XG4gICAgICBsZXQgdmFsID0gY3VySGVpZ2h0ICsgaW5jcmVtZW50O1xuICAgICAgaWYgKGN1ckhlaWdodCA8IGhlaWdodCkge1xuICAgICAgICBlbGVtLnN0eWxlLmhlaWdodCA9ICh2YWwgKyAncHgnKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNsaWRlRG93bik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gb3ZlckZsb3dCYWNrO1xuICAgICAgICAvLyByZXNldCBoZWlnaHQgdG8gYmUgdXNlZCBieSBzbGlkZVVwXG4gICAgICAgIC8vIGVsZW0uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgIGNiKGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfSxcblxuICBzbGlkZVVwOiAoZWxlbSwgZHVyYXRpb24gPSAyNTAsIGNiID0gZmFsc2UpID0+IHtcbiAgICBsZXQgc3R5bGUgPSBhbmltYXRlLmdldFN0eWxlKGVsZW0pO1xuICAgIGxldCBoZWlnaHQgPSBwYXJzZUludChzdHlsZS5oZWlnaHQpO1xuICAgIGxldCBvdmVyRmxvd0JhY2sgPSBzdHlsZS5vdmVyZmxvdztcbiAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgZWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgIGxldCBkZWZNaW5IZWlnaHQgPSBzdHlsZS5taW5IZWlnaHQ7XG4gICAgZWxlbS5zdHlsZS5taW5IZWlnaHQgPSAnYXV0byc7XG4gICAgbGV0IGluY3JlbWVudCA9IHBhcnNlRmxvYXQoaGVpZ2h0IC8gKGR1cmF0aW9uIC8gNjApKS50b0ZpeGVkKDIpO1xuXG4gICAgKGZ1bmN0aW9uIHNsaWRlVXAoKSB7XG4gICAgICBsZXQgY3VySGVpZ2h0ID0gcGFyc2VJbnQoZWxlbS5zdHlsZS5oZWlnaHQsIDEwKTtcbiAgICAgIGxldCB2YWwgPSAoY3VySGVpZ2h0IC0gaW5jcmVtZW50KTtcbiAgICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICAgIGVsZW0uc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4JztcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNsaWRlVXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5zdHlsZS5vdmVyZmxvdyA9IG92ZXJGbG93QmFjaztcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBlbGVtLnN0eWxlLm1pbkhlaWdodCA9IGRlZk1pbkhlaWdodDtcbiAgICAgICAgZGVsZXRlIGVsZW0uc3R5bGUuaGVpZ2h0O1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICBjYihlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKCk7XG4gIH0sXG5cbiAgc2xpZGVUb2dnbGU6IChlbGVtLCBkdXJhdGlvbiA9IDI1MCkgPT4ge1xuICAgIGxldCBpc0hpZGRlbiA9IChhbmltYXRlLmdldFN0eWxlKGVsZW0sICdkaXNwbGF5JykgPT09ICdub25lJyk7XG5cbiAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgIGFuaW1hdGUuc2xpZGVEb3duKGVsZW0sIGR1cmF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0ZS5zbGlkZVVwKGVsZW0sIGR1cmF0aW9uKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gYW5pbWF0aW9uLnRyYW5zbGF0ZVggPSAoZGlzdGFuY2UsIGR1cmF0aW9uID0gMjUwKSA9PiB7XG4gIC8vICAgdmFyIGluY3JlbWVudCA9IGRpc3RhbmNlIC8gKGR1cmF0aW9uIC8gNjApO1xuICAvLyAgIChmdW5jdGlvbiB0cmFuc2xhdGUoKSB7XG4gIC8vICAgICB2YXIgdmFsID0gTnVtYmVyKGVsZW0uc3R5bGUub3BhY2l0eSkgLSBpbmNyZW1lbnQ7XG4gIC8vICAgICBpZiAodmFsID4gMCkge1xuICAvLyAgICAgICBlbGVtLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkaXN0YW5jZX1weCwgMClgO1xuICAvLyAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodHJhbnNsYXRlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KSgpO1xuICAvLyB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhbmltYXRlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vYW5pbWF0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU1BOzs7OztBQVNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUdBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoR0E7QUFDQTtBQTRHQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar defaults = {\n  type: \'field\'\n};\n\nvar Panels = function () {\n  function Panels(options) {\n    _classCallCheck(this, Panels);\n\n    var _this = this;\n    _this.opts = Object.assign({}, defaults, options);\n\n    _this.labels = _this.panelNav();\n    var panels = _this.panelsWrap();\n\n    _this.panels = panels.childNodes;\n    _this.currentPanel = _this.panels[0];\n    _this.nav = _this.navActions();\n    if (_this.opts.type === \'field\') {\n      setTimeout(_this.setPanelsHeight.bind(_this), 100);\n    }\n\n    _this.panelDisplay = \'slider\';\n\n    return {\n      content: [_this.labels, panels],\n      nav: _this.nav,\n      actions: {\n        resize: _this.resizePanels.bind(_this)\n      }\n    };\n  }\n\n  Panels.prototype.resizePanels = function resizePanels() {\n    var panelsWrap = this.panelsWrap;\n    var column = panelsWrap.parentElement.parentElement;\n    var width = parseInt(_dom2.default.getStyle(column, \'width\'));\n    var isTabbed = width > 390;\n    this.panelDisplay = isTabbed ? \'tabbed\' : \'slider\';\n    panelsWrap.parentElement.classList.toggle(\'tabbed-panels\', isTabbed);\n    var panelStyle = panelsWrap.style;\n    var activePanelHeight = _dom2.default.getStyle(this.currentPanel, \'height\');\n    return panelStyle.height = activePanelHeight;\n  };\n\n  Panels.prototype.setPanelsHeight = function setPanelsHeight() {\n    var field = document.getElementById(this.opts.id);\n    this.slideToggle = field.querySelector(\'.field-edit\');\n\n    this.slideToggle.style.display = \'block\';\n    this.slideToggle.style.position = \'absolute\';\n    this.slideToggle.style.opacity = 0;\n\n    this.resizePanels();\n\n    this.slideToggle.style.display = \'none\';\n    this.slideToggle.style.position = \'relative\';\n    this.slideToggle.style.opacity = 1;\n    this.slideToggle.style.height = \'auto\';\n  };\n\n  Panels.prototype.panelsWrap = function panelsWrap() {\n    this.panelsWrap = _dom2.default.create({\n      tag: \'div\',\n      attrs: {\n        className: \'panels\'\n      },\n      content: this.opts.panels\n    });\n\n    this.panelsWrap = this.panelsWrap;\n\n    if (this.opts.type === \'field\') {\n      this.sortableProperties(this.panelsWrap);\n    }\n\n    return this.panelsWrap;\n  };\n\n  Panels.prototype.sortableProperties = function sortableProperties(panels) {\n    var _this = this;\n    var groups = panels.getElementsByClassName(\'field-edit-group\');\n\n    return _helpers2.default.forEach(groups, function (group, index) {\n      group.fieldID = _this.opts.id;\n      if (group.isSortable) {\n        _sortablejs2.default.create(group, {\n          animation: 150,\n          group: {\n            name: \'edit-\' + group.editGroup,\n            pull: true, put: [\'properties\']\n          },\n          sort: true,\n          handle: \'.prop-order\',\n          onSort: function onSort(evt) {\n            _this.propertySave(evt.to);\n            _this.resizePanels();\n          }\n        });\n      }\n    });\n  };\n\n  Panels.prototype.propertySave = function propertySave(group) {\n    var field = _dom2.default.fields.get(this.opts.id);\n    _data.data.save(group.editGroup, group, false);\n    return field.instance.updatePreview();\n  };\n\n  Panels.prototype.panelNav = function panelNav() {\n    var _this2 = this;\n\n    var _this = this;\n    var panelNavLabels = {\n      tag: \'div\',\n      attrs: {\n        className: \'panel-labels\'\n      },\n      content: {\n        tag: \'div\',\n        content: []\n      }\n    };\n    var panels = this.opts.panels;\n\n    for (var i = 0; i < panels.length; i++) {\n      var panelLabel = {\n        tag: \'h5\',\n        action: {\n          click: function click(evt) {\n            var index = _helpers2.default.indexOfNode(evt.target, evt.target.parentElement);\n            _this.currentPanel = _this.panels[index];\n            var labels = evt.target.parentElement.childNodes;\n            _this.nav.refresh(index);\n            _dom2.default.removeClasses(labels, \'active-tab\');\n            evt.target.classList.add(\'active-tab\');\n          }\n        },\n        content: panels[i].config.label\n      };\n      delete panels[i].config.label;\n\n      if (i === 0) {\n        panelLabel.className = \'active-tab\';\n      }\n\n      panelNavLabels.content.content.push(panelLabel);\n    }\n\n    var next = {\n      tag: \'button\',\n      attrs: {\n        className: \'next-group\',\n        title: _mi18n2.default.get(\'controlGroups.nextGroup\'),\n        type: \'button\'\n      },\n      dataset: {\n        toggle: \'tooltip\',\n        placement: \'top\'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.nextGroup(e);\n        }\n      },\n      content: _dom2.default.icon(\'triangle-right\')\n    };\n    var prev = {\n      tag: \'button\',\n      attrs: {\n        className: \'prev-group\',\n        title: _mi18n2.default.get(\'controlGroups.prevGroup\'),\n        type: \'button\'\n      },\n      dataset: {\n        toggle: \'tooltip\',\n        placement: \'top\'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.prevGroup(e);\n        }\n      },\n      content: _dom2.default.icon(\'triangle-left\')\n    };\n\n    return _dom2.default.create({\n      tag: \'nav\',\n      attrs: {\n        className: \'panel-nav\'\n      },\n      content: [prev, panelNavLabels, next]\n    });\n  };\n\n  Panels.prototype.navActions = function navActions() {\n    var _this3 = this;\n\n    var _this = this;\n    var action = {};\n    var groupParent = this.currentPanel.parentElement;\n    var firstControlNav = this.labels.querySelector(\'.panel-labels\').firstChild;\n    var siblingGroups = this.currentPanel.parentElement.childNodes;\n    var index = _helpers2.default.indexOfNode(this.currentPanel, groupParent);\n    var offset = {};\n\n    var groupChange = function groupChange(newIndex) {\n      _this3.currentPanel = siblingGroups[newIndex];\n      _this3.panelsWrap.style.height = _dom2.default.getStyle(_this3.currentPanel, \'height\');\n      if (_this3.opts.type === \'field\') {\n        _this3.slideToggle.style.height = \'auto\';\n      }\n      return _this3.currentPanel;\n    };\n\n    var translateX = function translateX(offset) {\n      if (_this.panelDisplay !== \'tabbed\') {\n        firstControlNav.style.transform = \'translateX(-\' + offset.nav + \'px)\';\n      } else {\n        firstControlNav.removeAttribute(\'style\');\n      }\n      groupParent.style.transform = \'translateX(-\' + offset.panel + \'px)\';\n    };\n\n    action.refresh = function (newIndex) {\n      if (newIndex !== undefined) {\n        index = newIndex;\n        groupChange(newIndex);\n      }\n      _this.resizePanels();\n      offset = {\n        nav: firstControlNav.offsetWidth * index,\n        panel: groupParent.offsetWidth * index\n      };\n      translateX(offset);\n    };\n\n    action.nextGroup = function () {\n      var newIndex = index + 1;\n      if (newIndex !== siblingGroups.length) {\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index++;\n      } else {\n        var origOffset = {\n          nav: firstControlNav.style.transform,\n          panel: groupParent.style.transform\n        };\n        offset = {\n          nav: firstControlNav.offsetWidth * index + 10,\n          panel: groupParent.offsetWidth * index + 10\n        };\n        translateX(offset);\n        setTimeout(function () {\n          firstControlNav.style.transform = origOffset.nav;\n          groupParent.style.transform = origOffset.panel;\n        }, 150);\n      }\n\n      return _this3.currentPanel;\n    };\n\n    action.prevGroup = function () {\n      if (index !== 0) {\n        var newIndex = index - 1;\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index--;\n      } else {\n        var curTranslate = [firstControlNav.style.transform, groupParent.style.transform];\n        var nudge = \'translateX(10px)\';\n        firstControlNav.style.transform = nudge;\n        groupParent.style.transform = nudge;\n        setTimeout(function () {\n          firstControlNav.style.transform = curTranslate[0];\n          groupParent.style.transform = curTranslate[1];\n        }, 150);\n      }\n    };\n\n    return action;\n  };\n\n  return Panels;\n}();\n\nexports.default = Panels;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tcG9uZW50cy9wYW5lbHMuanM/YWQxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaCBmcm9tICcuLi9jb21tb24vaGVscGVycyc7XG5pbXBvcnQgZG9tIGZyb20gJy4uL2NvbW1vbi9kb20nO1xuaW1wb3J0IHtkYXRhfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICB0eXBlOiAnZmllbGQnXG59O1xuXG4vKipcbiAqIEVkaXQgYW5kIGNvbnRyb2wgc2xpZGluZyBwYW5lbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuZWxzIHtcbiAvKipcbiAqIFBhbmVscyBpbml0aWFsIHNldHVwXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgUGFuZWxzIGNvbmZpZ1xuICogQHJldHVybiB7T2JqZWN0fSBQYW5lbHNcbiAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgX3RoaXMubGFiZWxzID0gX3RoaXMucGFuZWxOYXYoKTtcbiAgICBsZXQgcGFuZWxzID0gX3RoaXMucGFuZWxzV3JhcCgpO1xuXG4gICAgX3RoaXMucGFuZWxzID0gcGFuZWxzLmNoaWxkTm9kZXM7XG4gICAgX3RoaXMuY3VycmVudFBhbmVsID0gX3RoaXMucGFuZWxzWzBdO1xuICAgIF90aGlzLm5hdiA9IF90aGlzLm5hdkFjdGlvbnMoKTtcbiAgICBpZiAoX3RoaXMub3B0cy50eXBlID09PSAnZmllbGQnKSB7XG4gICAgICBzZXRUaW1lb3V0KF90aGlzLnNldFBhbmVsc0hlaWdodC5iaW5kKF90aGlzKSwgMTAwKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wYW5lbERpc3BsYXkgPSAnc2xpZGVyJztcblxuICAgIHJldHVybiB7XG4gICAgICBjb250ZW50OiBbX3RoaXMubGFiZWxzLCBwYW5lbHNdLFxuICAgICAgbmF2OiBfdGhpcy5uYXYsXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHJlc2l6ZTogX3RoaXMucmVzaXplUGFuZWxzLmJpbmQoX3RoaXMpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIHBhbmVsIGFmdGVyIGl0cyBjb250ZW50cyBjaGFuZ2UgaW4gaGVpZ2h0XG4gICAqIEByZXR1cm4ge1N0cmluZ30gcGFuZWwncyBoZWlnaHQgaW4gcGl4ZWxzXG4gICAqL1xuICByZXNpemVQYW5lbHMoKSB7XG4gICAgbGV0IHBhbmVsc1dyYXAgPSB0aGlzLnBhbmVsc1dyYXA7XG4gICAgbGV0IGNvbHVtbiA9IHBhbmVsc1dyYXAucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KGRvbS5nZXRTdHlsZShjb2x1bW4sICd3aWR0aCcpKTtcbiAgICBsZXQgaXNUYWJiZWQgPSAod2lkdGggPiAzOTApO1xuICAgIHRoaXMucGFuZWxEaXNwbGF5ID0gaXNUYWJiZWQgPyAndGFiYmVkJyA6ICdzbGlkZXInO1xuICAgIHBhbmVsc1dyYXAucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCd0YWJiZWQtcGFuZWxzJywgaXNUYWJiZWQpO1xuICAgIGxldCBwYW5lbFN0eWxlID0gcGFuZWxzV3JhcC5zdHlsZTtcbiAgICBsZXQgYWN0aXZlUGFuZWxIZWlnaHQgPSBkb20uZ2V0U3R5bGUodGhpcy5jdXJyZW50UGFuZWwsICdoZWlnaHQnKTtcbiAgICByZXR1cm4gcGFuZWxTdHlsZS5oZWlnaHQgPSBhY3RpdmVQYW5lbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFuZWwgaGVpZ2h0IHNvIHdlIGNhbiBhbmltYXRlIGl0IHdpdGggY3NzXG4gICAqL1xuICBzZXRQYW5lbHNIZWlnaHQoKSB7XG4gICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRzLmlkKTtcbiAgICB0aGlzLnNsaWRlVG9nZ2xlID0gZmllbGQucXVlcnlTZWxlY3RvcignLmZpZWxkLWVkaXQnKTtcblxuICAgIC8vIHRlbXAgc3R5bGVzXG4gICAgdGhpcy5zbGlkZVRvZ2dsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgdGhpcy5yZXNpemVQYW5lbHMoKTtcblxuICAgIC8vIHJlc2V0IHN0eWxlc1xuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgYSBwYW5lbCBhbmQgbWFrZSBwcm9wZXJ0aWVzIHNvcnRhYmxlXG4gICAqIGlmIHRoZSBwYW5lbCBiZWxvbmdzIHRvIGEgZmllbGRcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudFxuICAgKi9cbiAgcGFuZWxzV3JhcCgpIHtcbiAgICB0aGlzLnBhbmVsc1dyYXAgPSBkb20uY3JlYXRlKHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6ICdwYW5lbHMnXG4gICAgICB9LFxuICAgICAgY29udGVudDogdGhpcy5vcHRzLnBhbmVsc1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYW5lbHNXcmFwID0gdGhpcy5wYW5lbHNXcmFwO1xuXG4gICAgaWYgKHRoaXMub3B0cy50eXBlID09PSAnZmllbGQnKSB7XG4gICAgICB0aGlzLnNvcnRhYmxlUHJvcGVydGllcyh0aGlzLnBhbmVsc1dyYXApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnBhbmVsc1dyYXA7XG4gIH1cblxuICAvKipcbiAgICogU29ydGFibGUgcGFuZWwgcHJvcGVydGllc1xuICAgKiBAcGFyYW0gIHtBcnJheX0gcGFuZWxzXG4gICAqIEByZXR1cm4ge0FycmF5fSBwYW5lbCBncm91cHNcbiAgICovXG4gIHNvcnRhYmxlUHJvcGVydGllcyhwYW5lbHMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cHMgPSBwYW5lbHMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZmllbGQtZWRpdC1ncm91cCcpO1xuXG4gICAgcmV0dXJuIGguZm9yRWFjaChncm91cHMsIChncm91cCwgaW5kZXgpID0+IHtcbiAgICAgIGdyb3VwLmZpZWxkSUQgPSBfdGhpcy5vcHRzLmlkO1xuICAgICAgaWYgKGdyb3VwLmlzU29ydGFibGUpIHtcbiAgICAgICAgU29ydGFibGUuY3JlYXRlKGdyb3VwLCB7XG4gICAgICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICAgICAgZ3JvdXA6IHtcbiAgICAgICAgICAgIG5hbWU6ICdlZGl0LScgKyBncm91cC5lZGl0R3JvdXAsXG4gICAgICAgICAgICBwdWxsOiB0cnVlLCBwdXQ6IFsncHJvcGVydGllcyddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb3J0OiB0cnVlLFxuICAgICAgICAgIGhhbmRsZTogJy5wcm9wLW9yZGVyJyxcbiAgICAgICAgICBvblNvcnQ6IGV2dCA9PiB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wZXJ0eVNhdmUoZXZ0LnRvKTtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZVBhbmVscygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIGZpZWxkcycgcHJvcGVydHlcbiAgICogQHBhcmFtICB7T2JqZWN0fSBncm91cCBwcm9wZXJ0eSBncm91cFxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgIERPTSBub2RlIGZvciB1cGRhdGVkIHByb3BlcnR5IHByZXZpZXdcbiAgICovXG4gIHByb3BlcnR5U2F2ZShncm91cCkge1xuICAgIGNvbnN0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQodGhpcy5vcHRzLmlkKTtcbiAgICBkYXRhLnNhdmUoZ3JvdXAuZWRpdEdyb3VwLCBncm91cCwgZmFsc2UpO1xuICAgIHJldHVybiBmaWVsZC5pbnN0YW5jZS51cGRhdGVQcmV2aWV3KCk7XG4gIH1cblxuICAvKipcbiAgICogUGFuZWwgbmF2aWdhdGlvbiwgdGFicyBhbmQgYXJyb3cgYnV0dG9ucyBmb3Igc2xpZGVyXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIG9iamVjdCBmb3IgcGFuZWwgbmF2aWdhdGlvbiB3cmFwcGVyXG4gICAqL1xuICBwYW5lbE5hdigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBwYW5lbE5hdkxhYmVscyA9IHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdwYW5lbC1sYWJlbHMnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGNvbnRlbnQ6IFtdXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgbGV0IHBhbmVscyA9IHRoaXMub3B0cy5wYW5lbHM7IC8vIG1ha2UgbmV3IGFycmF5XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHBhbmVsTGFiZWwgPSB7XG4gICAgICAgIHRhZzogJ2g1JyxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBoLmluZGV4T2ZOb2RlKGV2dC50YXJnZXQsIGV2dC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50UGFuZWwgPSBfdGhpcy5wYW5lbHNbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGxhYmVscyA9IGV2dC50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgX3RoaXMubmF2LnJlZnJlc2goaW5kZXgpO1xuICAgICAgICAgICAgZG9tLnJlbW92ZUNsYXNzZXMobGFiZWxzLCAnYWN0aXZlLXRhYicpO1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtdGFiJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBwYW5lbHNbaV0uY29uZmlnLmxhYmVsXG4gICAgICB9O1xuICAgICAgZGVsZXRlIHBhbmVsc1tpXS5jb25maWcubGFiZWw7XG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHBhbmVsTGFiZWwuY2xhc3NOYW1lID0gJ2FjdGl2ZS10YWInO1xuICAgICAgfVxuXG4gICAgICBwYW5lbE5hdkxhYmVscy5jb250ZW50LmNvbnRlbnQucHVzaChwYW5lbExhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgbmV4dCA9IHtcbiAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICduZXh0LWdyb3VwJyxcbiAgICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NvbnRyb2xHcm91cHMubmV4dEdyb3VwJyksXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YXNldDoge1xuICAgICAgICAgIHRvZ2dsZTogJ3Rvb2x0aXAnLFxuICAgICAgICAgIHBsYWNlbWVudDogJ3RvcCdcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IChlKSA9PiB0aGlzLm5hdi5uZXh0R3JvdXAoZSlcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogZG9tLmljb24oJ3RyaWFuZ2xlLXJpZ2h0JylcbiAgICAgIH07XG4gICAgbGV0IHByZXYgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncHJldi1ncm91cCcsXG4gICAgICAgICAgdGl0bGU6IGkxOG4uZ2V0KCdjb250cm9sR3JvdXBzLnByZXZHcm91cCcpLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICB0b2dnbGU6ICd0b29sdGlwJyxcbiAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiAoZSkgPT4gdGhpcy5uYXYucHJldkdyb3VwKGUpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCd0cmlhbmdsZS1sZWZ0JylcbiAgICAgIH07XG5cbiAgICByZXR1cm4gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICduYXYnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiAncGFuZWwtbmF2J1xuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IFtwcmV2LCBwYW5lbE5hdkxhYmVscywgbmV4dF1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVycyBmb3IgbmF2aWdhdGluZyBiZXR3ZWVuIHBhbmVsIGdyb3Vwc1xuICAgKiBAdG9kbyByZWZhY3RvciB0byB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGluc3RlYWQgb2YgY3NzIHRyYW5zaXRpb25zXG4gICAqIEByZXR1cm4ge09iamVjdH0gYWN0aW9ucyB0aGF0IGNvbnRyb2wgcGFuZWwgZ3JvdXBzXG4gICAqL1xuICBuYXZBY3Rpb25zKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFjdGlvbiA9IHt9O1xuICAgIGxldCBncm91cFBhcmVudCA9IHRoaXMuY3VycmVudFBhbmVsLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IGZpcnN0Q29udHJvbE5hdiA9IHRoaXMubGFiZWxzLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1sYWJlbHMnKS5maXJzdENoaWxkO1xuICAgIGxldCBzaWJsaW5nR3JvdXBzID0gdGhpcy5jdXJyZW50UGFuZWwucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGxldCBpbmRleCA9IGguaW5kZXhPZk5vZGUodGhpcy5jdXJyZW50UGFuZWwsIGdyb3VwUGFyZW50KTtcbiAgICBsZXQgb2Zmc2V0ID0ge307XG5cbiAgICBjb25zdCBncm91cENoYW5nZSA9IG5ld0luZGV4ID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFBhbmVsID0gc2libGluZ0dyb3Vwc1tuZXdJbmRleF07XG4gICAgICB0aGlzLnBhbmVsc1dyYXAuc3R5bGUuaGVpZ2h0ID0gZG9tLmdldFN0eWxlKHRoaXMuY3VycmVudFBhbmVsLCAnaGVpZ2h0Jyk7XG4gICAgICBpZiAodGhpcy5vcHRzLnR5cGUgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgdGhpcy5zbGlkZVRvZ2dsZS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFuZWw7XG4gICAgfTtcblxuICAgIGNvbnN0IHRyYW5zbGF0ZVggPSBvZmZzZXQgPT4ge1xuICAgICAgaWYgKF90aGlzLnBhbmVsRGlzcGxheSAhPT0gJ3RhYmJlZCcpIHtcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke29mZnNldC5uYXZ9cHgpYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0Q29udHJvbE5hdi5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtvZmZzZXQucGFuZWx9cHgpYDtcbiAgICB9O1xuXG4gICAgYWN0aW9uLnJlZnJlc2ggPSBuZXdJbmRleCA9PiB7XG4gICAgICBpZiAobmV3SW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5yZXNpemVQYW5lbHMoKTtcbiAgICAgIG9mZnNldCA9IHtcbiAgICAgICAgbmF2OiBmaXJzdENvbnRyb2xOYXYub2Zmc2V0V2lkdGggKiBpbmRleCxcbiAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogaW5kZXhcbiAgICAgIH07XG4gICAgICB0cmFuc2xhdGVYKG9mZnNldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNsaWRlcyBwYW5lbCB0byB0aGUgbmV4dCBncm91cFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY3VycmVudCBncm91cCBhZnRlciBuYXZpZ2F0aW9uXG4gICAgICovXG4gICAgYWN0aW9uLm5leHRHcm91cCA9ICgpID0+IHtcbiAgICAgIGxldCBuZXdJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgIGlmIChuZXdJbmRleCAhPT0gc2libGluZ0dyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgb2Zmc2V0ID0ge1xuICAgICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogbmV3SW5kZXgsXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogbmV3SW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgb3JpZ09mZnNldCA9IHtcbiAgICAgICAgICBuYXY6IGZpcnN0Q29udHJvbE5hdi5zdHlsZS50cmFuc2Zvcm0sXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybVxuICAgICAgICB9O1xuICAgICAgICBvZmZzZXQgPSB7XG4gICAgICAgICAgbmF2OiAoZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogaW5kZXgpICsgMTAsXG4gICAgICAgICAgcGFuZWw6IChncm91cFBhcmVudC5vZmZzZXRXaWR0aCAqIGluZGV4KSArIDEwXG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zbGF0ZVgob2Zmc2V0KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdPZmZzZXQubmF2O1xuICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdPZmZzZXQucGFuZWw7XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYW5lbDtcbiAgICB9O1xuXG4gICAgYWN0aW9uLnByZXZHcm91cCA9ICgpID0+IHtcbiAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICBsZXQgbmV3SW5kZXggPSAoaW5kZXggLSAxKTtcbiAgICAgICAgb2Zmc2V0ID0ge1xuICAgICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogbmV3SW5kZXgsXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogbmV3SW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY3VyVHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybVxuICAgICAgICAgIF07XG4gICAgICAgIGxldCBudWRnZSA9ICd0cmFuc2xhdGVYKDEwcHgpJztcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IG51ZGdlO1xuICAgICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBudWRnZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGN1clRyYW5zbGF0ZVswXTtcbiAgICAgICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBjdXJUcmFuc2xhdGVbMV07XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL3BhbmVscy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBREE7QUFDQTtBQU1BO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSEE7QUFPQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUdBO0FBZEE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQU9BO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFoVUEiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(/*! ../sass/formeo.scss */ 19);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _helpers = __webpack_require__(/*! ./common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ./common/data */ 3);\n\nvar _events = __webpack_require__(/*! ./common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _actions = __webpack_require__(/*! ./common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ./common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _controls = __webpack_require__(/*! ./components/controls */ 13);\n\nvar _stage = __webpack_require__(/*! ./components/stage */ 16);\n\nvar _stage2 = _interopRequireDefault(_stage);\n\nvar _utils = __webpack_require__(/*! ./common/utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar formeo = {\n  get formData() {\n    return _data.data.json;\n  },\n  updateFormData: function updateFormData(fieldData, path, newValue) {\n    _helpers2.default.set(fieldData, path, newValue);\n  },\n  getFormHtml: function getFormHtml(renderTarget, output) {\n    var el = (0, _utils.escapeHtml)(renderTarget);\n    if (output) {\n      output.innerHTML = el;\n    }\n    return el.innerHTML;\n  }\n};\nvar opts = {};\n\nvar Formeo = function () {\n  function Formeo(options, userFormData) {\n    _classCallCheck(this, Formeo);\n\n    var defaults = {\n      allowEdit: true,\n      dataType: \'json\',\n      debug: false,\n      sessionStorage: false,\n      container: \'.formeo-wrap\',\n      prefix: \'formeo-\',\n\n      iconFontFallback: null,\n      events: {},\n      actions: {},\n      controls: {},\n      config: {\n        rows: {},\n        columns: {},\n        fields: {}\n      },\n      i18n: {\n        locale: \'zh-CN\',\n        langs: [\'zh-CN\'],\n        preloaded: {\n          \'en-US\': {\n            \'action.add.attrs.attr\': \'What attribute would you like to add?\',\n            \'action.add.attrs.value\': \'Default Value\',\n            \'addOption\': \'Add Option\',\n            \'allFieldsRemoved\': \'All fields were removed.\',\n            \'allowSelect\': \'Allow Select\',\n            \'attribute\': \'Attribute\',\n            \'attributes\': \'Attributes\',\n            \'attrs.class\': \'Class\',\n            \'attrs.className\': \'Class\',\n            \'attrs.required\': \'Required Field\',\n            \'attrs.type\': \'Type\',\n            \'attrs.id\': \'Id\',\n            \'attrs.title\': \'Title\',\n            \'attrs.style\': \'Style\',\n            \'attrs.dir\': \'Direction\',\n            \'autocomplete\': \'Autocomplete\',\n            \'button\': \'Button\',\n            \'cannotBeEmpty\': \'This field cannot be empty\',\n            \'checkbox\': \'Checkbox\',\n            \'checkboxes\': \'Checkboxes\',\n            \'checkboxGroup\': \'Checkbox Group\',\n            \'className\': \'Class\',\n            \'class\': \'Class\',\n            \'clear\': \'Clear\',\n            \'clearAllMessage\': \'Are you sure you want to clear all fields?\',\n            \'close\': \'Close\',\n            \'column\': \'Column\',\n            \'commonFields\': \'Common Fields\',\n            \'confirmClearAll\': \'Are you sure you want to remove all fields?\',\n            \'content\': \'Content\',\n            \'control\': \'Control\',\n            \'controlGroups.nextGroup\': \'Next Group\',\n            \'controlGroups.prevGroup\': \'Previous Group\',\n            \'copy\': \'Copy To Clipboard\',\n            \'danger\': \'Danger\',\n            \'description\': \'Help Text\',\n            \'descriptionField\': \'Description\',\n            \'devMode\': \'Developer Mode\',\n            \'divider\': \'Divider\',\n            \'editing.row\': \'Editing Row\',\n            \'editNames\': \'Edit Names\',\n            \'editorTitle\': \'Form Elements\',\n            \'editXML\': \'Edit XML\',\n            \'en-US\': \'English\',\n            \'field\': \'Field\',\n            \'fieldNonEditable\': \'This field cannot be edited.\',\n            \'fieldRemoveWarning\': \'Are you sure you want to remove this field?\',\n            \'fileUpload\': \'File Upload\',\n            \'formUpdated\': \'Form Updated\',\n            \'getStarted\': \'Drag a field from the right to this area\',\n            \'group\': \'Group\',\n            \'grouped\': \'Grouped\',\n            \'header\': \'Header\',\n            \'hidden\': \'Hidden Input\',\n            \'hide\': \'Edit\',\n            \'htmlElements\': \'HTML Elements\',\n            \'info\': \'Info\',\n            \'input.date\': \'Date\',\n            \'input.text\': \'Text\',\n            \'label\': \'Label\',\n            \'labelCount\': \'{label} {count}\',\n            \'labelEmpty\': \'Field Label cannot be empty\',\n            \'layout\': \'Layout\',\n            \'limitRole\': \'Limit access to one or more of the following roles:\',\n            \'mandatory\': \'Mandatory\',\n            \'maxlength\': \'Max Length\',\n            \'meta.group\': \'Group\',\n            \'meta.icon\': \'Ico\',\n            \'meta.label\': \'Label\',\n            \'minOptionMessage\': \'This field requires a minimum of 2 options\',\n            \'name\': \'Name\',\n            \'no\': \'No\',\n            \'number\': \'Number\',\n            \'off\': \'Off\',\n            \'on\': \'On\',\n            \'option\': \'Option\',\n            \'optional\': \'optional\',\n            \'optionEmpty\': \'Option value required\',\n            \'optionLabel\': \'Option {count}\',\n            \'options\': \'Options\',\n            \'panelEditButtons.attrs\': \'+ Attribute\',\n            \'panelEditButtons.options\': \'+ Option\',\n            \'panelLabels.attrs\': \'Attrs\',\n            \'panelLabels.config\': \'Config\',\n            \'panelLabels.meta\': \'Meta\',\n            \'panelLabels.options\': \'Options\',\n            \'paragraph\': \'Paragraph\',\n            \'placeholder\': \'Placeholder\',\n            \'placeholder.className\': \'space separated classes\',\n            \'placeholder.email\': \'Enter you email\',\n            \'placeholder.label\': \'Label\',\n            \'placeholder.password\': \'Enter your password\',\n            \'placeholder.placeholder\': \'Placeholder\',\n            \'placeholder.text\': \'Enter some Text\',\n            \'placeholder.textarea\': \'Enter a lot of text\',\n            \'placeholder.value\': \'Value\',\n            \'preview\': \'Preview\',\n            \'primary\': \'Primary\',\n            \'radio\': \'Radio\',\n            \'radioGroup\': \'Radio Group\',\n            \'remove\': \'Remove\',\n            \'removeMessage\': \'Remove Element\',\n            \'required\': \'Required\',\n            \'reset\': \'Reset\',\n            \'richText\': \'Rich Text Editor\',\n            \'roles\': \'Access\',\n            \'row\': \'Row\',\n            \'row.makeInputGroup\': \'Make this row an input group.\',\n\n            \'row.makeInputGroupDesc\': \'Input Groups enable users to add sets of inputs at a time.\',\n            \'row.settings.fieldsetWrap\': \'Wrap row in a &lt;fieldset&gt; tag\',\n            \'row.settings.fieldsetWrap.aria\': \'Wrap Row in Fieldset\',\n            \'save\': \'Save\',\n            \'secondary\': \'Secondary\',\n            \'select\': \'Select\',\n            \'selectColor\': \'Select Color\',\n            \'selectionsMessage\': \'Allow Multiple Selections\',\n            \'selectOptions\': \'Options\',\n            \'separator\': \'Separator\',\n            \'settings\': \'Settings\',\n            \'size\': \'Size\',\n            \'sizes\': \'Sizes\',\n            \'sizes.lg\': \'Large\',\n            \'sizes.m\': \'Default\',\n            \'sizes.sm\': \'Small\',\n            \'sizes.xs\': \'Extra Small\',\n            \'style\': \'Style\',\n            \'styles\': \'Styles\',\n            \'styles.btn\': \'Button Style\',\n            \'styles.btn.danger\': \'Danger\',\n            \'styles.btn.default\': \'Default\',\n            \'styles.btn.info\': \'Info\',\n            \'styles.btn.primary\': \'Primary\',\n            \'styles.btn.success\': \'Success\',\n            \'styles.btn.warning\': \'Warning\',\n            \'subtype\': \'Type\',\n            \'success\': \'Success\',\n            \'text\': \'Text Field\',\n            \'textarea\': \'Textarea\',\n            \'toggle\': \'Toggle\',\n            \'ungrouped\': \'Un-Grouped\',\n            \'viewXML\': \'</>\',\n            \'warning\': \'Warning\',\n            \'yes\': \'Yes\'\n          }\n        }\n      }\n    };\n\n    var formeoLocale = window.sessionStorage.getItem(\'formeo-locale\');\n    if (formeoLocale) {\n      defaults.i18n.locale = formeoLocale;\n    }\n\n    var _this = this;\n\n    _this.container = options.container || defaults.container;\n    if (typeof _this.container === \'string\') {\n      _this.container = document.querySelector(_this.container);\n    }\n\n    delete options.container;\n\n    opts = _helpers2.default.merge(defaults, options);\n\n    _data.data.init(opts, userFormData);\n    _events2.default.init(opts.events);\n    _actions2.default.init(opts.actions);\n\n    _this.loadResources().then(function () {\n      _dom2.default.setConfig = opts.config;\n      formeo.render = function (renderTarget) {\n        return _dom2.default.renderForm.call(_dom2.default, renderTarget);\n      };\n      if (opts.allowEdit) {\n        formeo.edit = _this.init.bind(_this);\n        _this.init.call(_this);\n      }\n    });\n\n    return formeo;\n  }\n\n  Formeo.prototype.loadResources = function loadResources() {\n    var promises = [];\n\n    if (opts.style) {\n      promises.push(_helpers2.default.ajax(opts.style, _helpers2.default.insertStyle));\n    }\n\n    if (opts.svgSprite) {\n      promises.push(_helpers2.default.ajax(opts.svgSprite, _helpers2.default.insertIcons));\n    }\n\n    return window.Promise.all(promises);\n  };\n\n  Formeo.prototype.init = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = this;\n              _context.next = 3;\n              return _mi18n2.default.init(opts.i18n);\n\n            case 3:\n              _this.formID = _data.formData.id;\n              formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n              _this.stages = _this.buildStages();\n              formeo.i18n = {\n                setLang: function setLang(formeoLocale) {\n                  window.sessionStorage.setItem(\'formeo-locale\', formeoLocale);\n                  var loadLang = _mi18n2.default.setCurrent.call(_mi18n2.default, formeoLocale);\n                  loadLang.then(function () {\n                    _this.stages = _this.buildStages();\n                    formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n                    _this.render();\n                  }, function (err) {\n                    err.message = \'There was an error retrieving the language files\';\n                    console.error(err);\n                  });\n                }\n              };\n\n              _this.render();\n\n              return _context.abrupt(\'return\', formeo);\n\n            case 9:\n            case \'end\':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function init() {\n      return _ref.apply(this, arguments);\n    }\n\n    return init;\n  }();\n\n  Formeo.prototype.buildStages = function buildStages() {\n    var stages = [];\n    var createStage = function createStage(stageID) {\n      return new _stage2.default(opts, stageID);\n    };\n    if (_data.formData.stages.size) {\n      _data.formData.stages.forEach(function (stageConf, stageID) {\n        stages.push(createStage(stageID));\n      });\n    } else {\n      stages.push(createStage());\n    }\n\n    return stages;\n  };\n\n  Formeo.prototype.render = function render() {\n    var _this = this;\n    var controls = formeo.controls.element;\n\n    var elemConfig = {\n      tag: \'div\',\n      attrs: {\n        className: \'formeo formeo-editor\',\n        id: _this.formID\n      },\n      content: [_this.stages, controls]\n    };\n\n    if (_mi18n2.default.current.dir) {\n      elemConfig.attrs.dir = _mi18n2.default.current.dir;\n      _dom2.default.dir = _mi18n2.default.current.dir;\n    }\n\n    var formeoElem = _dom2.default.create(elemConfig);\n\n    _this.container.innerHTML = \'\';\n    _this.container.appendChild(formeoElem);\n\n    _this.stages.forEach(function (stageWrap) {\n      var stage = stageWrap.childNodes[0];\n      stage.style.minHeight = _dom2.default.getStyle(controls, \'height\');\n    });\n\n    _events2.default.formeoLoaded = new CustomEvent(\'formeoLoaded\', {\n      detail: {\n        formeo: formeo\n      }\n    });\n\n    document.dispatchEvent(_events2.default.formeoLoaded);\n  };\n\n  return Formeo;\n}();\n\nif (window !== undefined) {\n  window.Formeo = Formeo;\n}\n\nexports.default = Formeo;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2Zvcm1lby5qcz8xNTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCAnLi4vc2Fzcy9mb3JtZW8uc2Nzcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQgaCBmcm9tICcuL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGF9IGZyb20gJy4vY29tbW9uL2RhdGEnO1xuaW1wb3J0IGV2ZW50cyBmcm9tICcuL2NvbW1vbi9ldmVudHMnO1xuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9jb21tb24vYWN0aW9ucyc7XG5pbXBvcnQgZG9tIGZyb20gJy4vY29tbW9uL2RvbSc7XG5pbXBvcnQge0NvbnRyb2xzfSBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbHMnO1xuaW1wb3J0IFN0YWdlIGZyb20gJy4vY29tcG9uZW50cy9zdGFnZSc7XG5pbXBvcnQge2VzY2FwZUh0bWx9IGZyb20gJy4vY29tbW9uL3V0aWxzJztcblxuLy8gU2ltcGxlIG9iamVjdCBjb25maWcgZm9yIHRoZSBtYWluIHBhcnQgb2YgZm9ybWVvXG5jb25zdCBmb3JtZW8gPSB7XG4gIGdldCBmb3JtRGF0YSgpIHtcbiAgICByZXR1cm4gZGF0YS5qc29uO1xuICB9LFxuICB1cGRhdGVGb3JtRGF0YTogZnVuY3Rpb24oZmllbGREYXRhLCBwYXRoLCBuZXdWYWx1ZSkge1xuICAgIGguc2V0KGZpZWxkRGF0YSwgcGF0aCwgbmV3VmFsdWUpO1xuICB9LFxuICBnZXRGb3JtSHRtbDogZnVuY3Rpb24ocmVuZGVyVGFyZ2V0LCBvdXRwdXQpIHtcbiAgICBsZXQgZWwgPSBlc2NhcGVIdG1sKHJlbmRlclRhcmdldCk7XG4gICAgaWYob3V0cHV0KSB7XG4gICAgICBvdXRwdXQuaW5uZXJIVE1MID0gZWw7XG4gICAgfVxuICAgIHJldHVybiBlbC5pbm5lckhUTUw7XG4gIH1cbn07XG5sZXQgb3B0cyA9IHt9O1xuXG4vKipcbiAqIE1haW4gY2xhc3NcbiAqL1xuY2xhc3MgRm9ybWVvIHtcbiAgLyoqXG4gICAqIFtjb25zdHJ1Y3RvciBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zICBmb3JtZW8gb3B0aW9uc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fSAgIHVzZXJGb3JtRGF0YSBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgZm9ybWVvIHJlZmVyZW5jZXMgYW5kIGFjdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHVzZXJGb3JtRGF0YSkge1xuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgYWxsb3dFZGl0OiB0cnVlLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgIHNlc3Npb25TdG9yYWdlOiBmYWxzZSxcbiAgICAgIGNvbnRhaW5lcjogJy5mb3JtZW8td3JhcCcsXG4gICAgICBwcmVmaXg6ICdmb3JtZW8tJyxcbiAgICAgIC8vIHN2Z1Nwcml0ZTogbnVsbCwgLy8gY2hhbmdlIHRvIG51bGxcbiAgICAgIGljb25Gb250RmFsbGJhY2s6IG51bGwsIC8vICdnbHlwaGljb25zJyB8fCAnZm9udC1hd2Vzb21lJyB8fCAnZm9udGVsbG8nXG4gICAgICBldmVudHM6IHt9LFxuICAgICAgYWN0aW9uczoge30sXG4gICAgICBjb250cm9sczoge30sXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgcm93czoge30sXG4gICAgICAgIGNvbHVtbnM6IHt9LFxuICAgICAgICBmaWVsZHM6IHt9XG4gICAgICB9LFxuICAgICAgaTE4bjoge1xuICAgICAgICBsb2NhbGU6ICd6aC1DTicsXG4gICAgICAgIGxhbmdzOiBbXG4gICAgICAgICAgJ3poLUNOJ1xuICAgICAgICBdLFxuICAgICAgICBwcmVsb2FkZWQ6IHtcbiAgICAgICAgICAnZW4tVVMnOiB7XG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy5hdHRyJzogJ1doYXQgYXR0cmlidXRlIHdvdWxkIHlvdSBsaWtlIHRvIGFkZD8nLFxuICAgICAgICAgICAgJ2FjdGlvbi5hZGQuYXR0cnMudmFsdWUnOiAnRGVmYXVsdCBWYWx1ZScsXG4gICAgICAgICAgICAnYWRkT3B0aW9uJzogJ0FkZCBPcHRpb24nLFxuICAgICAgICAgICAgJ2FsbEZpZWxkc1JlbW92ZWQnOiAnQWxsIGZpZWxkcyB3ZXJlIHJlbW92ZWQuJyxcbiAgICAgICAgICAgICdhbGxvd1NlbGVjdCc6ICdBbGxvdyBTZWxlY3QnLFxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSc6ICdBdHRyaWJ1dGUnLFxuICAgICAgICAgICAgJ2F0dHJpYnV0ZXMnOiAnQXR0cmlidXRlcycsXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3MnOiAnQ2xhc3MnLFxuICAgICAgICAgICAgJ2F0dHJzLmNsYXNzTmFtZSc6ICdDbGFzcycsXG4gICAgICAgICAgICAnYXR0cnMucmVxdWlyZWQnOiAnUmVxdWlyZWQgRmllbGQnLFxuICAgICAgICAgICAgJ2F0dHJzLnR5cGUnOiAnVHlwZScsXG4gICAgICAgICAgICAnYXR0cnMuaWQnOiAnSWQnLFxuICAgICAgICAgICAgJ2F0dHJzLnRpdGxlJzogJ1RpdGxlJyxcbiAgICAgICAgICAgICdhdHRycy5zdHlsZSc6ICdTdHlsZScsXG4gICAgICAgICAgICAnYXR0cnMuZGlyJzogJ0RpcmVjdGlvbicsXG4gICAgICAgICAgICAnYXV0b2NvbXBsZXRlJzogJ0F1dG9jb21wbGV0ZScsXG4gICAgICAgICAgICAnYnV0dG9uJzogJ0J1dHRvbicsXG4gICAgICAgICAgICAnY2Fubm90QmVFbXB0eSc6ICdUaGlzIGZpZWxkIGNhbm5vdCBiZSBlbXB0eScsXG4gICAgICAgICAgICAnY2hlY2tib3gnOiAnQ2hlY2tib3gnLFxuICAgICAgICAgICAgJ2NoZWNrYm94ZXMnOiAnQ2hlY2tib3hlcycsXG4gICAgICAgICAgICAnY2hlY2tib3hHcm91cCc6ICdDaGVja2JveCBHcm91cCcsXG4gICAgICAgICAgICAnY2xhc3NOYW1lJzogJ0NsYXNzJyxcbiAgICAgICAgICAgICdjbGFzcyc6ICdDbGFzcycsXG4gICAgICAgICAgICAnY2xlYXInOiAnQ2xlYXInLFxuICAgICAgICAgICAgJ2NsZWFyQWxsTWVzc2FnZSc6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgYWxsIGZpZWxkcz8nLFxuICAgICAgICAgICAgJ2Nsb3NlJzogJ0Nsb3NlJyxcbiAgICAgICAgICAgICdjb2x1bW4nOiAnQ29sdW1uJyxcbiAgICAgICAgICAgICdjb21tb25GaWVsZHMnOiAnQ29tbW9uIEZpZWxkcycsXG4gICAgICAgICAgICAnY29uZmlybUNsZWFyQWxsJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGZpZWxkcz8nLFxuICAgICAgICAgICAgJ2NvbnRlbnQnOiAnQ29udGVudCcsXG4gICAgICAgICAgICAnY29udHJvbCc6ICdDb250cm9sJyxcbiAgICAgICAgICAgICdjb250cm9sR3JvdXBzLm5leHRHcm91cCc6ICdOZXh0IEdyb3VwJyxcbiAgICAgICAgICAgICdjb250cm9sR3JvdXBzLnByZXZHcm91cCc6ICdQcmV2aW91cyBHcm91cCcsXG4gICAgICAgICAgICAnY29weSc6ICdDb3B5IFRvIENsaXBib2FyZCcsXG4gICAgICAgICAgICAnZGFuZ2VyJzogJ0RhbmdlcicsXG4gICAgICAgICAgICAnZGVzY3JpcHRpb24nOiAnSGVscCBUZXh0JyxcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbkZpZWxkJzogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICdkZXZNb2RlJzogJ0RldmVsb3BlciBNb2RlJyxcbiAgICAgICAgICAgICdkaXZpZGVyJzogJ0RpdmlkZXInLFxuICAgICAgICAgICAgJ2VkaXRpbmcucm93JzogJ0VkaXRpbmcgUm93JyxcbiAgICAgICAgICAgICdlZGl0TmFtZXMnOiAnRWRpdCBOYW1lcycsXG4gICAgICAgICAgICAnZWRpdG9yVGl0bGUnOiAnRm9ybSBFbGVtZW50cycsXG4gICAgICAgICAgICAnZWRpdFhNTCc6ICdFZGl0IFhNTCcsXG4gICAgICAgICAgICAnZW4tVVMnOiAnRW5nbGlzaCcsXG4gICAgICAgICAgICAnZmllbGQnOiAnRmllbGQnLFxuICAgICAgICAgICAgJ2ZpZWxkTm9uRWRpdGFibGUnOiAnVGhpcyBmaWVsZCBjYW5ub3QgYmUgZWRpdGVkLicsXG4gICAgICAgICAgICAnZmllbGRSZW1vdmVXYXJuaW5nJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBmaWVsZD8nLFxuICAgICAgICAgICAgJ2ZpbGVVcGxvYWQnOiAnRmlsZSBVcGxvYWQnLFxuICAgICAgICAgICAgJ2Zvcm1VcGRhdGVkJzogJ0Zvcm0gVXBkYXRlZCcsXG4gICAgICAgICAgICAnZ2V0U3RhcnRlZCc6ICdEcmFnIGEgZmllbGQgZnJvbSB0aGUgcmlnaHQgdG8gdGhpcyBhcmVhJyxcbiAgICAgICAgICAgICdncm91cCc6ICdHcm91cCcsXG4gICAgICAgICAgICAnZ3JvdXBlZCc6ICdHcm91cGVkJyxcbiAgICAgICAgICAgICdoZWFkZXInOiAnSGVhZGVyJyxcbiAgICAgICAgICAgICdoaWRkZW4nOiAnSGlkZGVuIElucHV0JyxcbiAgICAgICAgICAgICdoaWRlJzogJ0VkaXQnLFxuICAgICAgICAgICAgJ2h0bWxFbGVtZW50cyc6ICdIVE1MIEVsZW1lbnRzJyxcbiAgICAgICAgICAgICdpbmZvJzogJ0luZm8nLFxuICAgICAgICAgICAgJ2lucHV0LmRhdGUnOiAnRGF0ZScsXG4gICAgICAgICAgICAnaW5wdXQudGV4dCc6ICdUZXh0JyxcbiAgICAgICAgICAgICdsYWJlbCc6ICdMYWJlbCcsXG4gICAgICAgICAgICAnbGFiZWxDb3VudCc6ICd7bGFiZWx9IHtjb3VudH0nLFxuICAgICAgICAgICAgJ2xhYmVsRW1wdHknOiAnRmllbGQgTGFiZWwgY2Fubm90IGJlIGVtcHR5JyxcbiAgICAgICAgICAgICdsYXlvdXQnOiAnTGF5b3V0JyxcbiAgICAgICAgICAgICdsaW1pdFJvbGUnOiAnTGltaXQgYWNjZXNzIHRvIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmcgcm9sZXM6JyxcbiAgICAgICAgICAgICdtYW5kYXRvcnknOiAnTWFuZGF0b3J5JyxcbiAgICAgICAgICAgICdtYXhsZW5ndGgnOiAnTWF4IExlbmd0aCcsXG4gICAgICAgICAgICAnbWV0YS5ncm91cCc6ICdHcm91cCcsXG4gICAgICAgICAgICAnbWV0YS5pY29uJzogJ0ljbycsXG4gICAgICAgICAgICAnbWV0YS5sYWJlbCc6ICdMYWJlbCcsXG4gICAgICAgICAgICAnbWluT3B0aW9uTWVzc2FnZSc6ICdUaGlzIGZpZWxkIHJlcXVpcmVzIGEgbWluaW11bSBvZiAyIG9wdGlvbnMnLFxuICAgICAgICAgICAgJ25hbWUnOiAnTmFtZScsXG4gICAgICAgICAgICAnbm8nOiAnTm8nLFxuICAgICAgICAgICAgJ251bWJlcic6ICdOdW1iZXInLFxuICAgICAgICAgICAgJ29mZic6ICdPZmYnLFxuICAgICAgICAgICAgJ29uJzogJ09uJyxcbiAgICAgICAgICAgICdvcHRpb24nOiAnT3B0aW9uJyxcbiAgICAgICAgICAgICdvcHRpb25hbCc6ICdvcHRpb25hbCcsXG4gICAgICAgICAgICAnb3B0aW9uRW1wdHknOiAnT3B0aW9uIHZhbHVlIHJlcXVpcmVkJyxcbiAgICAgICAgICAgICdvcHRpb25MYWJlbCc6ICdPcHRpb24ge2NvdW50fScsXG4gICAgICAgICAgICAnb3B0aW9ucyc6ICdPcHRpb25zJyxcbiAgICAgICAgICAgICdwYW5lbEVkaXRCdXR0b25zLmF0dHJzJzogJysgQXR0cmlidXRlJyxcbiAgICAgICAgICAgICdwYW5lbEVkaXRCdXR0b25zLm9wdGlvbnMnOiAnKyBPcHRpb24nLFxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLmF0dHJzJzogJ0F0dHJzJyxcbiAgICAgICAgICAgICdwYW5lbExhYmVscy5jb25maWcnOiAnQ29uZmlnJyxcbiAgICAgICAgICAgICdwYW5lbExhYmVscy5tZXRhJzogJ01ldGEnLFxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLm9wdGlvbnMnOiAnT3B0aW9ucycsXG4gICAgICAgICAgICAncGFyYWdyYXBoJzogJ1BhcmFncmFwaCcsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAnUGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLmNsYXNzTmFtZSc6ICdzcGFjZSBzZXBhcmF0ZWQgY2xhc3NlcycsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIuZW1haWwnOiAnRW50ZXIgeW91IGVtYWlsJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5sYWJlbCc6ICdMYWJlbCcsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIucGFzc3dvcmQnOiAnRW50ZXIgeW91ciBwYXNzd29yZCcsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIucGxhY2Vob2xkZXInOiAnUGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnRleHQnOiAnRW50ZXIgc29tZSBUZXh0JyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci50ZXh0YXJlYSc6ICdFbnRlciBhIGxvdCBvZiB0ZXh0JyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci52YWx1ZSc6ICdWYWx1ZScsXG4gICAgICAgICAgICAncHJldmlldyc6ICdQcmV2aWV3JyxcbiAgICAgICAgICAgICdwcmltYXJ5JzogJ1ByaW1hcnknLFxuICAgICAgICAgICAgJ3JhZGlvJzogJ1JhZGlvJyxcbiAgICAgICAgICAgICdyYWRpb0dyb3VwJzogJ1JhZGlvIEdyb3VwJyxcbiAgICAgICAgICAgICdyZW1vdmUnOiAnUmVtb3ZlJyxcbiAgICAgICAgICAgICdyZW1vdmVNZXNzYWdlJzogJ1JlbW92ZSBFbGVtZW50JyxcbiAgICAgICAgICAgICdyZXF1aXJlZCc6ICdSZXF1aXJlZCcsXG4gICAgICAgICAgICAncmVzZXQnOiAnUmVzZXQnLFxuICAgICAgICAgICAgJ3JpY2hUZXh0JzogJ1JpY2ggVGV4dCBFZGl0b3InLFxuICAgICAgICAgICAgJ3JvbGVzJzogJ0FjY2VzcycsXG4gICAgICAgICAgICAncm93JzogJ1JvdycsXG4gICAgICAgICAgICAncm93Lm1ha2VJbnB1dEdyb3VwJzogJ01ha2UgdGhpcyByb3cgYW4gaW5wdXQgZ3JvdXAuJyxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgJ3Jvdy5tYWtlSW5wdXRHcm91cERlc2MnOiAnSW5wdXQgR3JvdXBzIGVuYWJsZSB1c2VycyB0byBhZGQgc2V0cyBvZiBpbnB1dHMgYXQgYSB0aW1lLicsXG4gICAgICAgICAgICAncm93LnNldHRpbmdzLmZpZWxkc2V0V3JhcCc6ICdXcmFwIHJvdyBpbiBhICZsdDtmaWVsZHNldCZndDsgdGFnJyxcbiAgICAgICAgICAgICdyb3cuc2V0dGluZ3MuZmllbGRzZXRXcmFwLmFyaWEnOiAnV3JhcCBSb3cgaW4gRmllbGRzZXQnLFxuICAgICAgICAgICAgJ3NhdmUnOiAnU2F2ZScsXG4gICAgICAgICAgICAnc2Vjb25kYXJ5JzogJ1NlY29uZGFyeScsXG4gICAgICAgICAgICAnc2VsZWN0JzogJ1NlbGVjdCcsXG4gICAgICAgICAgICAnc2VsZWN0Q29sb3InOiAnU2VsZWN0IENvbG9yJyxcbiAgICAgICAgICAgICdzZWxlY3Rpb25zTWVzc2FnZSc6ICdBbGxvdyBNdWx0aXBsZSBTZWxlY3Rpb25zJyxcbiAgICAgICAgICAgICdzZWxlY3RPcHRpb25zJzogJ09wdGlvbnMnLFxuICAgICAgICAgICAgJ3NlcGFyYXRvcic6ICdTZXBhcmF0b3InLFxuICAgICAgICAgICAgJ3NldHRpbmdzJzogJ1NldHRpbmdzJyxcbiAgICAgICAgICAgICdzaXplJzogJ1NpemUnLFxuICAgICAgICAgICAgJ3NpemVzJzogJ1NpemVzJyxcbiAgICAgICAgICAgICdzaXplcy5sZyc6ICdMYXJnZScsXG4gICAgICAgICAgICAnc2l6ZXMubSc6ICdEZWZhdWx0JyxcbiAgICAgICAgICAgICdzaXplcy5zbSc6ICdTbWFsbCcsXG4gICAgICAgICAgICAnc2l6ZXMueHMnOiAnRXh0cmEgU21hbGwnLFxuICAgICAgICAgICAgJ3N0eWxlJzogJ1N0eWxlJyxcbiAgICAgICAgICAgICdzdHlsZXMnOiAnU3R5bGVzJyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuJzogJ0J1dHRvbiBTdHlsZScsXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi5kYW5nZXInOiAnRGFuZ2VyJyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmRlZmF1bHQnOiAnRGVmYXVsdCcsXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi5pbmZvJzogJ0luZm8nLFxuICAgICAgICAgICAgJ3N0eWxlcy5idG4ucHJpbWFyeSc6ICdQcmltYXJ5JyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLnN1Y2Nlc3MnOiAnU3VjY2VzcycsXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi53YXJuaW5nJzogJ1dhcm5pbmcnLFxuICAgICAgICAgICAgJ3N1YnR5cGUnOiAnVHlwZScsXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ICdTdWNjZXNzJyxcbiAgICAgICAgICAgICd0ZXh0JzogJ1RleHQgRmllbGQnLFxuICAgICAgICAgICAgJ3RleHRhcmVhJzogJ1RleHRhcmVhJyxcbiAgICAgICAgICAgICd0b2dnbGUnOiAnVG9nZ2xlJyxcbiAgICAgICAgICAgICd1bmdyb3VwZWQnOiAnVW4tR3JvdXBlZCcsXG4gICAgICAgICAgICAndmlld1hNTCc6ICc8Lz4nLFxuICAgICAgICAgICAgJ3dhcm5pbmcnOiAnV2FybmluZycsXG4gICAgICAgICAgICAneWVzJzogJ1llcydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGZvcm1lb0xvY2FsZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmb3JtZW8tbG9jYWxlJyk7XG4gICAgaWYgKGZvcm1lb0xvY2FsZSkge1xuICAgICAgZGVmYXVsdHMuaTE4bi5sb2NhbGUgPSBmb3JtZW9Mb2NhbGU7XG4gICAgfVxuXG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8IGRlZmF1bHRzLmNvbnRhaW5lcjtcbiAgICBpZiAodHlwZW9mIF90aGlzLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIF90aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoX3RoaXMuY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYGNvbnRhaW5lcmAgcHJvcGVydHkgYmVmb3JlIGV4dGVuZGluZyBiZWNhdXNlIGNvbnRhaW5lclxuICAgIC8vIG1heSBiZSBFbGVtZW50XG4gICAgZGVsZXRlIG9wdGlvbnMuY29udGFpbmVyO1xuXG4gICAgb3B0cyA9IGgubWVyZ2UoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgZGF0YS5pbml0KG9wdHMsIHVzZXJGb3JtRGF0YSk7XG4gICAgZXZlbnRzLmluaXQob3B0cy5ldmVudHMpO1xuICAgIGFjdGlvbnMuaW5pdChvcHRzLmFjdGlvbnMpO1xuXG4gICAgLy8gTG9hZCByZW1vdGUgcmVzb3VyY2VzIHN1Y2ggYXMgY3NzIGFuZCBzdmcgc3ByaXRlXG4gICAgX3RoaXMubG9hZFJlc291cmNlcygpLnRoZW4oKCkgPT4ge1xuICAgICAgZG9tLnNldENvbmZpZyA9IG9wdHMuY29uZmlnO1xuICAgICAgZm9ybWVvLnJlbmRlciA9IHJlbmRlclRhcmdldCA9PiBkb20ucmVuZGVyRm9ybS5jYWxsKGRvbSwgcmVuZGVyVGFyZ2V0KTtcbiAgICAgIGlmIChvcHRzLmFsbG93RWRpdCkge1xuICAgICAgICBmb3JtZW8uZWRpdCA9IF90aGlzLmluaXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmluaXQuY2FsbChfdGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybWVvO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcmVtb3RlIHJlc291cmNlc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhc3luY2hyb25vdXNseSBsb2FkZWQgcmVtb3RlIHJlc291cmNlc1xuICAgKi9cbiAgbG9hZFJlc291cmNlcygpIHtcbiAgICBsZXQgcHJvbWlzZXMgPSBbXTtcblxuICAgIGlmIChvcHRzLnN0eWxlKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKGguYWpheChvcHRzLnN0eWxlLCBoLmluc2VydFN0eWxlKSk7XG4gICAgfVxuXG4gICAgLy8gQWpheCBsb2FkIHN2Z1Nwcml0ZSBhbmQgaW5qZWN0IGludG8gbWFya3VwLlxuICAgIGlmIChvcHRzLnN2Z1Nwcml0ZSkge1xuICAgICAgcHJvbWlzZXMucHVzaChoLmFqYXgob3B0cy5zdmdTcHJpdGUsIGguaW5zZXJ0SWNvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93LlByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtZW8gaW5pdGlhbGl6ZXJcbiAgICogQHJldHVybiB7T2JqZWN0fSBSZWZlcmVuY2VzIHRvIGZvcm1lbyBpbnN0YW5jZSxcbiAgICogZG9tIGVsZW1lbnRzLCBhY3Rpb25zIGV2ZW50cyBhbmQgbW9yZS5cbiAgICovXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBhd2FpdCBpMThuLmluaXQob3B0cy5pMThuKTtcbiAgICBfdGhpcy5mb3JtSUQgPSBmb3JtRGF0YS5pZDtcbiAgICBmb3JtZW8uY29udHJvbHMgPSBuZXcgQ29udHJvbHMob3B0cy5jb250cm9scywgX3RoaXMuZm9ybUlEKTtcbiAgICBfdGhpcy5zdGFnZXMgPSBfdGhpcy5idWlsZFN0YWdlcygpO1xuICAgIGZvcm1lby5pMThuID0ge1xuICAgICAgc2V0TGFuZzogZm9ybWVvTG9jYWxlID0+IHtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2Zvcm1lby1sb2NhbGUnLCBmb3JtZW9Mb2NhbGUpO1xuICAgICAgICBsZXQgbG9hZExhbmcgPSBpMThuLnNldEN1cnJlbnQuY2FsbChpMThuLCBmb3JtZW9Mb2NhbGUpO1xuICAgICAgICBsb2FkTGFuZy50aGVuKCgpID0+IHtcbiAgICAgICAgICBfdGhpcy5zdGFnZXMgPSBfdGhpcy5idWlsZFN0YWdlcygpO1xuICAgICAgICAgIGZvcm1lby5jb250cm9scyA9IG5ldyBDb250cm9scyhvcHRzLmNvbnRyb2xzLCBfdGhpcy5mb3JtSUQpO1xuICAgICAgICAgIF90aGlzLnJlbmRlcigpO1xuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGVyci5tZXNzYWdlID0gJ1RoZXJlIHdhcyBhbiBlcnJvciByZXRyaWV2aW5nIHRoZSBsYW5ndWFnZSBmaWxlcyc7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyKCk7XG5cbiAgICByZXR1cm4gZm9ybWVvO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBzdGFnZXMgd2Ugd2lsbCBkcmFnIG91dCBlbGVtZW50cyB0b1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0YWdlcyBtYXBcbiAgICovXG4gIGJ1aWxkU3RhZ2VzKCkge1xuICAgIGxldCBzdGFnZXMgPSBbXTtcbiAgICBjb25zdCBjcmVhdGVTdGFnZSA9IHN0YWdlSUQgPT4gbmV3IFN0YWdlKG9wdHMsIHN0YWdlSUQpO1xuICAgIGlmIChmb3JtRGF0YS5zdGFnZXMuc2l6ZSkge1xuICAgICAgZm9ybURhdGEuc3RhZ2VzLmZvckVhY2goKHN0YWdlQ29uZiwgc3RhZ2VJRCkgPT4ge1xuICAgICAgICBzdGFnZXMucHVzaChjcmVhdGVTdGFnZShzdGFnZUlEKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhZ2VzLnB1c2goY3JlYXRlU3RhZ2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWdlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIGZvcm1lbyBzZWN0aW9uc1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNvbnRyb2xzID0gZm9ybWVvLmNvbnRyb2xzLmVsZW1lbnQ7XG5cbiAgICBsZXQgZWxlbUNvbmZpZyA9IHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdmb3JtZW8gZm9ybWVvLWVkaXRvcicsXG4gICAgICAgICAgaWQ6IF90aGlzLmZvcm1JRFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBbX3RoaXMuc3RhZ2VzLCBjb250cm9sc11cbiAgICAgIH07XG5cbiAgICBpZiAoaTE4bi5jdXJyZW50LmRpcikge1xuICAgICAgZWxlbUNvbmZpZy5hdHRycy5kaXIgPSBpMThuLmN1cnJlbnQuZGlyO1xuICAgICAgZG9tLmRpciA9IGkxOG4uY3VycmVudC5kaXI7XG4gICAgfVxuXG4gICAgbGV0IGZvcm1lb0VsZW0gPSBkb20uY3JlYXRlKGVsZW1Db25maWcpO1xuXG4gICAgX3RoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIF90aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtZW9FbGVtKTtcblxuICAgIF90aGlzLnN0YWdlcy5mb3JFYWNoKHN0YWdlV3JhcCA9PiB7XG4gICAgICBsZXQgc3RhZ2UgPSBzdGFnZVdyYXAuY2hpbGROb2Rlc1swXTtcbiAgICAgIHN0YWdlLnN0eWxlLm1pbkhlaWdodCA9IGRvbS5nZXRTdHlsZShjb250cm9scywgJ2hlaWdodCcpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRzLmZvcm1lb0xvYWRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvTG9hZGVkJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGZvcm1lbzogZm9ybWVvXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9Mb2FkZWQpO1xuICB9XG59XG5cbmlmICh3aW5kb3cgIT09IHVuZGVmaW5lZCkge1xuICB3aW5kb3cuRm9ybWVvID0gRm9ybWVvO1xufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtZW87XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2Zvcm1lby5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBZUE7QUFDQTtBQUlBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoSkE7QUFEQTtBQUxBO0FBakJBO0FBQ0E7QUE0S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7Ozs7Ozs7O0FBQ0E7O0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global, process) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  "use strict";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === "function" && Symbol.iterator || "@@iterator";\n\n  var inModule = typeof module === "object";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we\'re in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don\'t bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we\'re in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === "object" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, "next");\n    var invokeThrow = invoke.bind(generator, "throw");\n    var invokeReturn = invoke.bind(generator, "return");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === "return" ||\n              (method === "throw" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator["return"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === "throw") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = "throw";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === "return") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === "throw") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = "throw";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // "next" with an undefined arg.\n          method = "next";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === "next") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = "next";\n            arg = undefined;\n          }\n\n        } else if (method === "return") {\n          context.abrupt("return", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === "next") {\n              // Deliberately forget the last sent value so that we don\'t\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = "throw";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = record.arg;\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === "object" ? global :\n  typeof window === "object" ? window :\n  typeof self === "object" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 23), __webpack_require__(/*! ./../process/browser.js */ 20)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9iYWJlbC1yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanM/YzI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBodHRwczovL3Jhdy5naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL21hc3Rlci9MSUNFTlNFIGZpbGUuIEFuXG4gKiBhZGRpdGlvbmFsIGdyYW50IG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW5cbiAqIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9XG4gICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKChvdXRlckZuIHx8IEdlbmVyYXRvcikucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gbmV3IEF3YWl0QXJndW1lbnQoYXJnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBBd2FpdEFyZ3VtZW50KGFyZykge1xuICAgIHRoaXMuYXJnID0gYXJnO1xuICB9XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICAvLyBUaGlzIGludm9rZSBmdW5jdGlvbiBpcyB3cml0dGVuIGluIGEgc3R5bGUgdGhhdCBhc3N1bWVzIHNvbWVcbiAgICAvLyBjYWxsaW5nIGZ1bmN0aW9uIChvciBQcm9taXNlKSB3aWxsIGhhbmRsZSBleGNlcHRpb25zLlxuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IGdlbmVyYXRvclttZXRob2RdKGFyZyk7XG4gICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50XG4gICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLmFyZykudGhlbihpbnZva2VOZXh0LCBpbnZva2VUaHJvdylcbiAgICAgICAgOiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGhvd2V2ZXIsIHRoZVxuICAgICAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgICAvLyB0aHJvd24gYmFjayBpbnRvIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIGFzIGlzIHRoZSBjYXNlXG4gICAgICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAgIC8vIGFsbG93cyB0aGUgY29uc3VtZXIgdG8gZGVjaWRlIHdoYXQgdG8gZG8gd2l0aCB0aGUgeWllbGRlZFxuICAgICAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgICAgLy8gYXdhaXQsIGJ5IGNvbnRyYXN0LCB0aGVyZSBpcyBubyBvcHBvcnR1bml0eSB0byBleGFtaW5lIHRoZVxuICAgICAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgICAvLyBsZXQgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBoYW5kbGUgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZG9tYWluKSB7XG4gICAgICBpbnZva2UgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSk7XG4gICAgfVxuXG4gICAgdmFyIGludm9rZU5leHQgPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwibmV4dFwiKTtcbiAgICB2YXIgaW52b2tlVGhyb3cgPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwidGhyb3dcIik7XG4gICAgdmFyIGludm9rZVJldHVybiA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJyZXR1cm5cIik7XG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZXNvbHZlKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHxcbiAgICAgICAgICAgICAgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiICYmIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIC8vIEEgcmV0dXJuIG9yIHRocm93ICh3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gdGhyb3dcbiAgICAgICAgICAgIC8vIG1ldGhvZCkgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICAgIHZhciByZXR1cm5NZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5NZXRob2QpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKHJldHVybk1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG4gICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJldHVybiBtZXRob2QgdGhyZXcgYW4gZXhjZXB0aW9uLCBsZXQgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBwcmV2YWlsIG92ZXIgdGhlIG9yaWdpbmFsIHJldHVybiBvciB0aHJvdy5cbiAgICAgICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggdGhlIG91dGVyIHJldHVybiwgbm93IHRoYXQgdGhlIGRlbGVnYXRlXG4gICAgICAgICAgICAgIC8vIGl0ZXJhdG9yIGhhcyBiZWVuIHRlcm1pbmF0ZWQuXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChcbiAgICAgICAgICAgIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0sXG4gICAgICAgICAgICBkZWxlZ2F0ZS5pdGVyYXRvcixcbiAgICAgICAgICAgIGFyZ1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGNvbnRleHQuX3NlbnQgPSBhcmc7XG5cbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkWWllbGQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGFyZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuZGVsZWdhdGUgJiYgbWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG4gICAgICAgIHJldHVybiAhIWNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbiAgLy8gQW1vbmcgdGhlIHZhcmlvdXMgdHJpY2tzIGZvciBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbFxuICAvLyBvYmplY3QsIHRoaXMgc2VlbXMgdG8gYmUgdGhlIG1vc3QgcmVsaWFibGUgdGVjaG5pcXVlIHRoYXQgZG9lcyBub3RcbiAgLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzXG4pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9iYWJlbC1yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Column = function () {\n  function Column(dataID) {\n    _classCallCheck(this, Column);\n\n    var _this = this;\n    var columnDefaults = void 0;\n\n    var columnID = _this.columnID = dataID || (0, _utils.uuid)();\n    _this.columnData = _data.formData.columns.get(columnID);\n\n    columnDefaults = {\n      fields: [],\n      id: columnID,\n      config: {},\n      className: []\n    };\n\n    _data.formData.columns.set(columnID, _helpers2.default.merge(columnDefaults, _this.columnData));\n\n    var resizeHandle = {\n      tag: \'li\',\n      className: \'resize-x-handle\',\n      action: {\n        mousedown: _this.resize,\n        touchstart: _this.resize\n      },\n      content: [_dom2.default.icon(\'triangle-down\'), _dom2.default.icon(\'triangle-up\')]\n    };\n    var editWindow = {\n      tag: \'li\',\n      className: \'column-edit group-config\'\n    };\n\n    var column = {\n      tag: \'ul\',\n      className: [\'stage-columns\', \'empty-columns\'],\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'column\')\n      },\n      action: {\n        mouseup: function mouseup(evt) {\n          var column = evt.target.parentElement;\n          if (column.resizing) {\n            column.resizing = false;\n            column.parentElement.classList.remove(\'resizing-columns\');\n          }\n        }\n      },\n      id: _this.columnID,\n      content: [_dom2.default.actionButtons(_this.columnID), editWindow, resizeHandle],\n      fType: \'columns\'\n    };\n\n    column = _dom2.default.create(column);\n    this.processConfig(column);\n\n    _events2.default.columnResized = new CustomEvent(\'columnResized\', {\n      detail: {\n        column: column,\n        instance: _this\n      }\n    });\n\n    var sortable = this.sortable = _sortablejs2.default.create(column, {\n      animation: 150,\n      fallbackClass: \'field-moving\',\n      forceFallback: true,\n      group: {\n        name: \'columns\',\n        pull: true,\n        put: [\'columns\', \'controls\'],\n        revertClone: true\n      },\n      sort: true,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      onRemove: _this.onRemove,\n\n      onMove: function onMove(evt) {\n        if (evt.from !== evt.to) {\n          evt.from.classList.remove(\'hovering-column\');\n        }\n        if (evt.related.parentElement.fType === \'columns\') {\n          evt.related.parentElement.classList.add(\'hovering-column\');\n        }\n      },\n      draggable: \'.stage-fields\'\n    });\n\n    _dom2.default.columns.set(columnID, { column: column, sortable: sortable });\n\n    return column;\n  }\n\n  Column.prototype.onSort = function onSort(evt) {\n    return _data.data.saveFieldOrder(evt.target);\n  };\n\n  Column.prototype.processConfig = function processConfig(column) {\n    var _this = this;\n    var columnData = _data.formData.columns.get(_this.columnID);\n    if (columnData.config.width) {\n      column.dataset.colWidth = columnData.config.width;\n      column.style.width = columnData.config.width;\n      column.style.float = \'left\';\n    }\n  };\n\n  Column.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromColumn = from.fType === \'columns\';\n    var fromControl = from.fType === \'controlGroup\';\n\n    if (fromControl) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], \'meta\');\n      if (meta.group !== \'layout\') {\n        var field = _dom2.default.addField(to.id, item.id);\n        to.insertBefore(field, to.childNodes[evt.newIndex]);\n        _data.data.saveFieldOrder(to);\n        _data.data.save(\'fields\', to.id);\n      } else {\n        if (meta.id === \'layout-column\') {\n          var row = to.parentElement;\n          _dom2.default.addColumn(row.id);\n          _dom2.default.columnWidths(row);\n        }\n      }\n\n      _dom2.default.remove(evt.item);\n    }\n\n    _dom2.default.fieldOrderClass(to);\n\n    if (fromColumn) {\n      _dom2.default.fieldOrderClass(from);\n    }\n\n    _dom2.default.emptyClass(evt.to);\n\n    _data.data.save();\n\n    to.classList.remove(\'hovering-column\');\n  };\n\n  Column.prototype.onRemove = function onRemove(evt) {\n    if (evt.from.parent) {\n      _dom2.default.columnWidths(evt.from.parentElement);\n      _data.data.saveColumnOrder(evt.from.parentElement);\n    }\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Column.prototype.onEnd = function onEnd(evt) {\n    var to = evt.to,\n        from = evt.from;\n\n\n    if (from.classList.contains(\'empty-columns\')) {\n      _dom2.default.removeEmpty(evt.from);\n      return;\n    }\n\n    _dom2.default.fieldOrderClass(to);\n    _dom2.default.fieldOrderClass(from);\n\n    if (from.parent) {\n      _dom2.default.columnWidths(from.parentElement);\n    }\n\n    _data.data.save();\n\n    if (to) {\n      to.classList.remove(\'hovering-column\');\n    }\n  };\n\n  Column.prototype.resize = function resize(evt) {\n    var resize = {};\n    var column = evt.target.parentElement;\n    var sibling = column.nextSibling || column.previousSibling;\n    var row = column.parentElement;\n    var rowStyle = _dom2.default.getStyle(row);\n    var rowPadding = parseFloat(rowStyle.paddingLeft) + parseFloat(rowStyle.paddingRight);\n    var colWidthPercent = void 0;\n    var sibWidthPercent = void 0;\n\n    function setWidths(evt) {\n      var clientX = void 0;\n      if (evt.type === \'touchmove\') {\n        clientX = evt.touches[0].clientX;\n      } else {\n        clientX = evt.clientX;\n      }\n      var newColWidth = resize.colStartWidth + clientX - resize.startX;\n      var newSibWidth = resize.sibStartWidth - clientX + resize.startX;\n\n      var percent = function percent(width) {\n        return width / resize.rowWidth * 100;\n      };\n      colWidthPercent = parseFloat(percent(newColWidth));\n      sibWidthPercent = parseFloat(percent(newSibWidth));\n\n      column.dataset.colWidth = (0, _utils.numToPercent)(colWidthPercent.toFixed(1));\n      sibling.dataset.colWidth = (0, _utils.numToPercent)(sibWidthPercent.toFixed(1));\n\n      column.style.width = (0, _utils.numToPercent)(colWidthPercent);\n      sibling.style.width = (0, _utils.numToPercent)(sibWidthPercent);\n    }\n\n    resize.move = function (evt) {\n      setWidths(evt);\n      resize.resized = true;\n    };\n\n    resize.stop = function () {\n      window.removeEventListener(\'mousemove\', resize.move);\n      window.removeEventListener(\'mouseup\', resize.stop);\n      window.removeEventListener(\'touchmove\', resize.move);\n      window.removeEventListener(\'touchend\', resize.stop);\n      if (!resize.resized) {\n        return;\n      }\n      var columnData = _data.formData.columns.get(column.id);\n      var sibColumnData = _data.formData.columns.get(sibling.id);\n      var row = column.parentElement;\n      row.querySelector(\'.column-preset\').value = \'custom\';\n      row.classList.remove(\'resizing-columns\');\n      columnData.config.width = column.dataset.colWidth;\n      sibColumnData.config.width = sibling.dataset.colWidth;\n      resize.resized = false;\n      _data.data.save();\n    };\n\n    resize.start = function (evt) {\n      if (evt.type === \'touchstart\') {\n        resize.startX = evt.touches[0].clientX;\n      } else {\n        resize.startX = evt.clientX;\n      }\n      row.classList.add(\'resizing-columns\');\n\n      var reg = /\\bcol-\\w+-\\d+/g;\n      column.className.replace(reg, \'\');\n      sibling.className.replace(reg, \'\');\n\n      resize.colStartWidth = column.offsetWidth || _dom2.default.getStyle(column, \'width\');\n\n      resize.sibStartWidth = sibling.offsetWidth || _dom2.default.getStyle(sibling, \'width\');\n      resize.rowWidth = row.offsetWidth - rowPadding;\n\n      window.addEventListener(\'mouseup\', resize.stop, false);\n      window.addEventListener(\'mousemove\', resize.move, false);\n      window.addEventListener(\'touchend\', resize.stop, false);\n      window.addEventListener(\'touchmove\', resize.move, false);\n    }(evt);\n  };\n\n  return Column;\n}();\n\nexports.default = Column;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29sdW1uLmpzP2NjMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YSwgcmVnaXN0ZXJlZEZpZWxkcyBhcyByRmllbGRzfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XG5pbXBvcnQgaCBmcm9tICcuLi9jb21tb24vaGVscGVycyc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uL2NvbW1vbi9ldmVudHMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCB7dXVpZCwgbnVtVG9QZXJjZW50fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIFNldHVwIENvbHVtbiBlbGVtZW50c1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW4ge1xuICAvKipcbiAgICogU2V0IGRlZmF1bHRzIGFuZC9vciBsb2FkIGV4aXN0aW5nIGNvbHVtbnNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBkYXRhSUQgY29sdW1uSWRcbiAgICogQHJldHVybiB7T2JqZWN0fSBDb2x1bW4gY29uZmlnIG9iamVjdFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YUlEKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29sdW1uRGVmYXVsdHM7XG5cbiAgICBsZXQgY29sdW1uSUQgPSBfdGhpcy5jb2x1bW5JRCA9IGRhdGFJRCB8fCB1dWlkKCk7XG4gICAgX3RoaXMuY29sdW1uRGF0YSA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbklEKTtcblxuICAgIGNvbHVtbkRlZmF1bHRzID0ge1xuICAgICAgZmllbGRzOiBbXSxcbiAgICAgIGlkOiBjb2x1bW5JRCxcbiAgICAgIGNvbmZpZzoge30sXG4gICAgICBjbGFzc05hbWU6IFtdXG4gICAgfTtcblxuICAgIGZvcm1EYXRhLmNvbHVtbnMuc2V0KGNvbHVtbklELCBoLm1lcmdlKGNvbHVtbkRlZmF1bHRzLCBfdGhpcy5jb2x1bW5EYXRhKSk7XG5cbiAgICBsZXQgcmVzaXplSGFuZGxlID0ge1xuICAgICAgICB0YWc6ICdsaScsXG4gICAgICAgIGNsYXNzTmFtZTogJ3Jlc2l6ZS14LWhhbmRsZScsXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIG1vdXNlZG93bjogX3RoaXMucmVzaXplLFxuICAgICAgICAgIHRvdWNoc3RhcnQ6IF90aGlzLnJlc2l6ZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBbZG9tLmljb24oJ3RyaWFuZ2xlLWRvd24nKSwgZG9tLmljb24oJ3RyaWFuZ2xlLXVwJyldXG4gICAgICB9O1xuICAgIGxldCBlZGl0V2luZG93ID0ge1xuICAgICAgICB0YWc6ICdsaScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2NvbHVtbi1lZGl0IGdyb3VwLWNvbmZpZydcbiAgICAgIH07XG5cbiAgICBsZXQgY29sdW1uID0ge1xuICAgICAgdGFnOiAndWwnLFxuICAgICAgY2xhc3NOYW1lOiBbJ3N0YWdlLWNvbHVtbnMnLCAnZW1wdHktY29sdW1ucyddLFxuICAgICAgZGF0YXNldDoge1xuICAgICAgICBob3ZlclRhZzogaTE4bi5nZXQoJ2NvbHVtbicpXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIG1vdXNldXA6IChldnQpID0+IHtcbiAgICAgICAgICBsZXQgY29sdW1uID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGlmIChjb2x1bW4ucmVzaXppbmcpIHtcbiAgICAgICAgICAgIGNvbHVtbi5yZXNpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29sdW1uLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmVzaXppbmctY29sdW1ucycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlkOiBfdGhpcy5jb2x1bW5JRCxcbiAgICAgIGNvbnRlbnQ6IFtkb20uYWN0aW9uQnV0dG9ucyhfdGhpcy5jb2x1bW5JRCksIGVkaXRXaW5kb3csIHJlc2l6ZUhhbmRsZV0sXG4gICAgICBmVHlwZTogJ2NvbHVtbnMnXG4gICAgfTtcblxuICAgIGNvbHVtbiA9IGRvbS5jcmVhdGUoY29sdW1uKTtcbiAgICB0aGlzLnByb2Nlc3NDb25maWcoY29sdW1uKTtcblxuICAgIGV2ZW50cy5jb2x1bW5SZXNpemVkID0gbmV3IEN1c3RvbUV2ZW50KCdjb2x1bW5SZXNpemVkJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgaW5zdGFuY2U6IF90aGlzXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgc29ydGFibGUgPSB0aGlzLnNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKGNvbHVtbiwge1xuICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICBmYWxsYmFja0NsYXNzOiAnZmllbGQtbW92aW5nJyxcbiAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXG4gICAgICBncm91cDoge1xuICAgICAgICBuYW1lOiAnY29sdW1ucycsXG4gICAgICAgIHB1bGw6IHRydWUsXG4gICAgICAgIHB1dDogWydjb2x1bW5zJywgJ2NvbnRyb2xzJ10sXG4gICAgICAgIHJldmVydENsb25lOiB0cnVlXG4gICAgICB9LFxuICAgICAgc29ydDogdHJ1ZSxcbiAgICAgIG9uRW5kOiBfdGhpcy5vbkVuZCxcbiAgICAgIG9uQWRkOiBfdGhpcy5vbkFkZCxcbiAgICAgIG9uU29ydDogX3RoaXMub25Tb3J0LFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLFxuICAgICAgLy8gQXR0ZW1wdCB0byBkcmFnIGEgZmlsdGVyZWQgZWxlbWVudFxuICAgICAgb25Nb3ZlOiAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQuZnJvbSAhPT0gZXZ0LnRvKSB7XG4gICAgICAgICAgZXZ0LmZyb20uY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctY29sdW1uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2dC5yZWxhdGVkLnBhcmVudEVsZW1lbnQuZlR5cGUgPT09ICdjb2x1bW5zJykge1xuICAgICAgICAgIGV2dC5yZWxhdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaG92ZXJpbmctY29sdW1uJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2UtZmllbGRzJ1xuICAgIH0pO1xuXG4gICAgZG9tLmNvbHVtbnMuc2V0KGNvbHVtbklELCB7Y29sdW1uLCBzb3J0YWJsZX0pO1xuXG4gICAgcmV0dXJuIGNvbHVtbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2x1bW4gc29ydGVkIGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHNvcnQgZXZlbnQgZGF0YVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IENvbHVtbiBvcmRlciwgYXJyYXkgb2YgY29sdW1uIGlkc1xuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIHJldHVybiBkYXRhLnNhdmVGaWVsZE9yZGVyKGV2dC50YXJnZXQpO1xuICAgIC8vIGRhdGEuc2F2ZSgnY29sdW1uJywgZXZ0LnRhcmdldC5pZCk7XG4gICAgLy8gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBjb2x1bW4gY29uZmlndXJhdGlvbiBkYXRhXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29sdW1uXG4gICAqL1xuICBwcm9jZXNzQ29uZmlnKGNvbHVtbikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNvbHVtbkRhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChfdGhpcy5jb2x1bW5JRCk7XG4gICAgaWYgKGNvbHVtbkRhdGEuY29uZmlnLndpZHRoKSB7XG4gICAgICBjb2x1bW4uZGF0YXNldC5jb2xXaWR0aCA9IGNvbHVtbkRhdGEuY29uZmlnLndpZHRoO1xuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gY29sdW1uRGF0YS5jb25maWcud2lkdGg7XG4gICAgICBjb2x1bW4uc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IHdoZW4gY29sdW1uIGlzIGFkZGVkXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0XG4gICAqL1xuICBvbkFkZChldnQpIHtcbiAgICBsZXQge2Zyb20sIGl0ZW0sIHRvfSA9IGV2dDtcbiAgICBsZXQgZnJvbUNvbHVtbiA9IGZyb20uZlR5cGUgPT09ICdjb2x1bW5zJztcbiAgICBsZXQgZnJvbUNvbnRyb2wgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcblxuICAgIGlmIChmcm9tQ29udHJvbCkge1xuICAgICAgbGV0IG1ldGEgPSBoLmdldChyRmllbGRzW2l0ZW0uaWRdLCAnbWV0YScpO1xuICAgICAgaWYgKG1ldGEuZ3JvdXAgIT09ICdsYXlvdXQnKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvbS5hZGRGaWVsZCh0by5pZCwgaXRlbS5pZCk7XG4gICAgICAgIHRvLmluc2VydEJlZm9yZShmaWVsZCwgdG8uY2hpbGROb2Rlc1tldnQubmV3SW5kZXhdKTtcbiAgICAgICAgZGF0YS5zYXZlRmllbGRPcmRlcih0byk7XG4gICAgICAgIGRhdGEuc2F2ZSgnZmllbGRzJywgdG8uaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xuICAgICAgICAgIGxldCByb3cgPSB0by5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgICAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZG9tLnJlbW92ZShldnQuaXRlbSk7XG4gICAgICAvLyBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICB9XG5cbiAgICBkb20uZmllbGRPcmRlckNsYXNzKHRvKTtcblxuICAgIGlmIChmcm9tQ29sdW1uKSB7XG4gICAgICBkb20uZmllbGRPcmRlckNsYXNzKGZyb20pO1xuICAgIH1cblxuICAgIGRvbS5lbXB0eUNsYXNzKGV2dC50byk7XG5cbiAgICBkYXRhLnNhdmUoKTtcblxuICAgIHRvLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLWNvbHVtbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IHdoZW4gZmllbGQgaXMgcmVtb3ZlZCBmcm9tIGNvbHVtblxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgaWYgKGV2dC5mcm9tLnBhcmVudCkge1xuICAgICAgZG9tLmNvbHVtbldpZHRocyhldnQuZnJvbS5wYXJlbnRFbGVtZW50KTtcbiAgICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKGV2dC5mcm9tLnBhcmVudEVsZW1lbnQpO1xuICAgIH1cbiAgICBkb20uZW1wdHlDbGFzcyhldnQuZnJvbSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gZHJhZ2dpbmcgZW5kc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25FbmQoZXZ0KSB7XG4gICAgbGV0IHt0bywgZnJvbX0gPSBldnQ7XG5cbiAgICBpZiAoZnJvbS5jbGFzc0xpc3QuY29udGFpbnMoJ2VtcHR5LWNvbHVtbnMnKSkge1xuICAgICAgZG9tLnJlbW92ZUVtcHR5KGV2dC5mcm9tKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb20uZmllbGRPcmRlckNsYXNzKHRvKTtcbiAgICBkb20uZmllbGRPcmRlckNsYXNzKGZyb20pO1xuXG4gICAgaWYgKGZyb20ucGFyZW50KSB7XG4gICAgICBkb20uY29sdW1uV2lkdGhzKGZyb20ucGFyZW50RWxlbWVudCk7XG4gICAgfVxuXG4gICAgZGF0YS5zYXZlKCk7XG5cbiAgICBpZiAodG8pIHtcbiAgICAgIHRvLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLWNvbHVtbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29sdW1uIHJlc2l6aW5nXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHJlc2l6ZSBldmVudFxuICAgKi9cbiAgcmVzaXplKGV2dCkge1xuICAgIGxldCByZXNpemUgPSB7fTtcbiAgICBsZXQgY29sdW1uID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCBzaWJsaW5nID0gY29sdW1uLm5leHRTaWJsaW5nIHx8IGNvbHVtbi5wcmV2aW91c1NpYmxpbmc7XG4gICAgbGV0IHJvdyA9IGNvbHVtbi5wYXJlbnRFbGVtZW50O1xuICAgIGxldCByb3dTdHlsZSA9IGRvbS5nZXRTdHlsZShyb3cpO1xuICAgIGxldCByb3dQYWRkaW5nID0gcGFyc2VGbG9hdChyb3dTdHlsZS5wYWRkaW5nTGVmdCkgK1xuICAgIHBhcnNlRmxvYXQocm93U3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICBsZXQgY29sV2lkdGhQZXJjZW50O1xuICAgIGxldCBzaWJXaWR0aFBlcmNlbnQ7XG5cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd2lkdGggYmVmb3JlIHJlc2l6aW5nIHNvIHRoZSBjb2x1bW5cbiAgICAgKiBkb2VzIG5vdCByZXNpemUgbmVhciB3aW5kb3cgZWRnZXNcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpZHRocyhldnQpIHtcbiAgICAgIGxldCBjbGllbnRYO1xuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgICAgICBjbGllbnRYID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWVudFggPSBldnQuY2xpZW50WDtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdDb2xXaWR0aCA9IChyZXNpemUuY29sU3RhcnRXaWR0aCArIGNsaWVudFggLSByZXNpemUuc3RhcnRYKTtcbiAgICAgIGxldCBuZXdTaWJXaWR0aCA9IChyZXNpemUuc2liU3RhcnRXaWR0aCAtIGNsaWVudFggKyByZXNpemUuc3RhcnRYKTtcblxuICAgICAgY29uc3QgcGVyY2VudCA9IHdpZHRoID0+ICh3aWR0aCAvIHJlc2l6ZS5yb3dXaWR0aCAqIDEwMCk7XG4gICAgICBjb2xXaWR0aFBlcmNlbnQgPSBwYXJzZUZsb2F0KHBlcmNlbnQobmV3Q29sV2lkdGgpKTtcbiAgICAgIHNpYldpZHRoUGVyY2VudCA9IHBhcnNlRmxvYXQocGVyY2VudChuZXdTaWJXaWR0aCkpO1xuXG4gICAgICBjb2x1bW4uZGF0YXNldC5jb2xXaWR0aCA9IG51bVRvUGVyY2VudChjb2xXaWR0aFBlcmNlbnQudG9GaXhlZCgxKSk7XG4gICAgICBzaWJsaW5nLmRhdGFzZXQuY29sV2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50LnRvRml4ZWQoMSkpO1xuXG4gICAgICBjb2x1bW4uc3R5bGUud2lkdGggPSBudW1Ub1BlcmNlbnQoY29sV2lkdGhQZXJjZW50KTtcbiAgICAgIHNpYmxpbmcuc3R5bGUud2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50KTtcbiAgICB9XG5cbiAgICByZXNpemUubW92ZSA9IGV2dCA9PiB7XG4gICAgICBzZXRXaWR0aHMoZXZ0KTtcbiAgICAgIHJlc2l6ZS5yZXNpemVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmVzaXplLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemUubW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHJlc2l6ZS5zdG9wKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCByZXNpemUubW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCByZXNpemUuc3RvcCk7XG4gICAgICBpZiAoIXJlc2l6ZS5yZXNpemVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBjb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKTtcbiAgICAgIGxldCBzaWJDb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoc2libGluZy5pZCk7XG4gICAgICBsZXQgcm93ID0gY29sdW1uLnBhcmVudEVsZW1lbnQ7XG4gICAgICByb3cucXVlcnlTZWxlY3RvcignLmNvbHVtbi1wcmVzZXQnKS52YWx1ZSA9ICdjdXN0b20nO1xuICAgICAgcm93LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2l6aW5nLWNvbHVtbnMnKTtcbiAgICAgIGNvbHVtbkRhdGEuY29uZmlnLndpZHRoID0gY29sdW1uLmRhdGFzZXQuY29sV2lkdGg7XG4gICAgICBzaWJDb2x1bW5EYXRhLmNvbmZpZy53aWR0aCA9IHNpYmxpbmcuZGF0YXNldC5jb2xXaWR0aDtcbiAgICAgIHJlc2l6ZS5yZXNpemVkID0gZmFsc2U7XG4gICAgICBkYXRhLnNhdmUoKTtcbiAgICB9O1xuXG4gICAgcmVzaXplLnN0YXJ0ID0gKGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgcmVzaXplLnN0YXJ0WCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNpemUuc3RhcnRYID0gZXZ0LmNsaWVudFg7XG4gICAgICB9XG4gICAgICByb3cuY2xhc3NMaXN0LmFkZCgncmVzaXppbmctY29sdW1ucycpO1xuXG4gICAgICAvLyByZW1vdmUgYm9vdHN0cmFwIGNvbHVtbiBjbGFzc2VzIHNpbmNlIHdlIGFyZSBjdXN0b20gc2l6aW5nXG4gICAgICBsZXQgcmVnID0gL1xcYmNvbC1cXHcrLVxcZCsvZztcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUucmVwbGFjZShyZWcsICcnKTtcbiAgICAgIHNpYmxpbmcuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCAnJyk7XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgcmVzaXplLmNvbFN0YXJ0V2lkdGggPSBjb2x1bW4ub2Zmc2V0V2lkdGggfHwgZG9tLmdldFN0eWxlKGNvbHVtbiwgJ3dpZHRoJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIHJlc2l6ZS5zaWJTdGFydFdpZHRoID0gc2libGluZy5vZmZzZXRXaWR0aCB8fCBkb20uZ2V0U3R5bGUoc2libGluZywgJ3dpZHRoJyk7XG4gICAgICByZXNpemUucm93V2lkdGggPSByb3cub2Zmc2V0V2lkdGggLSByb3dQYWRkaW5nOyAvLyBjb21wZW5zYXRlIGZvciBwYWRkaW5nXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgcmVzaXplLnN0b3AsIGZhbHNlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemUubW92ZSwgZmFsc2UpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcmVzaXplLnN0b3AsIGZhbHNlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCByZXNpemUubW92ZSwgZmFsc2UpO1xuICAgIH0pKGV2dCk7XG4gIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL2NvbHVtbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBakJBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQXJTQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.Controls = undefined;\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 2);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar opts = {};\n\nvar Controls = exports.Controls = function () {\n  function Controls(controlOptions, formID) {\n    _classCallCheck(this, Controls);\n\n    var _this = this;\n    this.formID = formID;\n    var _controlOptions$group = controlOptions.groupOrder,\n        groupOrder = _controlOptions$group === undefined ? [] : _controlOptions$group;\n\n    this.groupOrder = (0, _utils.unique)(groupOrder.concat([\'common\', \'html\', \'layout\']));\n    this.cPosition = {};\n    var defaultElements = [{\n      tag: \'div\',\n      config: {\n        label: _mi18n2.default.get(\'column\')\n      },\n      meta: {\n        group: \'layout\',\n        icon: \'columns\',\n        id: \'layout-column\'\n      }\n    }, {\n      tag: \'div\',\n      config: {\n        label: _mi18n2.default.get(\'row\')\n      },\n      meta: {\n        group: \'layout\',\n        icon: \'rows\',\n        id: \'layout-row\'\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'text\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'input.text\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'text-input\',\n        id: \'text-input\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'date\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'input.date\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'calendar\',\n        id: \'date-input\'\n      }\n    }, {\n      tag: \'button\',\n      attrs: {\n        className: [{ label: _mi18n2.default.get(\'grouped\'), value: \'f-btn-group\' }, { label: _mi18n2.default.get(\'ungrouped\'), value: \'f-field-group\' }]\n      },\n      config: {\n        label: _mi18n2.default.get(\'button\'),\n        hideLabel: true,\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'button\',\n        id: \'button\'\n      },\n      options: [{\n        label: _mi18n2.default.get(\'button\'),\n        type: [{ label: _mi18n2.default.get(\'button\'), value: \'button\', selected: true }, { label: _mi18n2.default.get(\'reset\'), value: \'reset\' }, { label: _mi18n2.default.get(\'submit\'), value: \'submit\' }],\n        className: [{\n          label: _mi18n2.default.get(\'default\'),\n          value: \'\',\n          selected: true\n        }, {\n          label: _mi18n2.default.get(\'primary\'),\n          value: \'primary\'\n        }, {\n          label: _mi18n2.default.get(\'danger\'),\n          value: \'error\' }, {\n          label: _mi18n2.default.get(\'success\'),\n          value: \'success\' }, {\n          label: _mi18n2.default.get(\'warning\'),\n          value: \'warning\'\n        }]\n      }]\n    }, {\n      tag: \'select\',\n      config: {\n        label: _mi18n2.default.get(\'select\')\n      },\n      attrs: {\n        required: false,\n        className: \'\'\n      },\n      meta: {\n        group: \'common\',\n        icon: \'select\',\n        id: \'select\'\n      },\n      options: [1, 2, 3, 4].map(function (i) {\n        return {\n          label: _mi18n2.default.get(\'labelCount\', {\n            label: _mi18n2.default.get(\'option\'),\n            count: i\n          }),\n          value: \'option-\' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: \'textarea\',\n      config: {\n        label: _mi18n2.default.get(\'textarea\')\n      },\n\n      meta: {\n        group: \'common\',\n        icon: \'textarea\',\n        id: \'textarea\'\n      },\n      attrs: {\n        required: false\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'checkbox\',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get(\'checkbox\') + \'/\' + _mi18n2.default.get(\'group\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'checkbox\',\n        id: \'checkbox\'\n      },\n      options: [{\n        label: _mi18n2.default.get(\'labelCount\', {\n          label: _mi18n2.default.get(\'checkbox\'),\n          count: 1\n        }),\n        value: \'checkbox-1\',\n        selected: true\n      }]\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'radio\',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get(\'radioGroup\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'radio-group\',\n        id: \'radio\'\n      },\n      options: [1, 2, 3].map(function (i) {\n        return {\n          label: _mi18n2.default.get(\'labelCount\', { label: _mi18n2.default.get(\'radio\'), count: i }),\n          value: \'radio-\' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: \'h1\',\n      attrs: {\n        tag: [{ value: \'h1\', label: \'H1\' }, { value: \'h2\', label: \'H2\' }, { value: \'h3\', label: \'H3\' }, { value: \'h4\', label: \'H4\' }],\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'header\'),\n        editable: true,\n        hideLabel: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'header\',\n        id: \'header\'\n      },\n      content: _mi18n2.default.get(\'header\')\n    }, {\n      tag: \'p\',\n      attrs: {\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'paragraph\'),\n        hideLabel: true,\n        editable: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'paragraph\',\n        id: \'paragraph\'\n      },\n\n      content: \'Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment.\'\n    }, {\n      tag: \'hr\',\n      config: {\n        label: _mi18n2.default.get(\'separator\'),\n        hideLabel: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'divider\',\n        id: \'divider\'\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'file\',\n        required: false\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'fileUpload\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'upload\',\n        id: \'upload\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'number\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'number\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'hash\',\n        id: \'number\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'hidden\',\n        value: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'hidden\'),\n        hideLabel: true\n      },\n      meta: {\n        group: \'common\',\n        icon: \'hidden\',\n        id: \'hidden\'\n      },\n      fMap: \'attrs.value\'\n    }];\n\n    this.defaults = {\n      sortable: true,\n      elementOrder: {},\n      groups: [{\n        id: \'layout\',\n        label: _mi18n2.default.get(\'layout\'),\n        elementOrder: [\'row\', \'column\']\n      }, {\n        id: \'common\',\n        label: _mi18n2.default.get(\'commonFields\'),\n        elementOrder: [\'button\', \'checkbox\']\n      }],\n      disable: {\n        groups: [],\n        elements: []\n      },\n      elements: []\n    };\n\n    opts = _helpers2.default.merge(this.defaults, controlOptions);\n\n    opts.elements = opts.elements.concat(defaultElements);\n\n    this.controlEvents = {\n      focus: function focus(evt) {\n        var currentGroup = (0, _utils.closestFtype)(evt.target);\n        _this.panels.nav.refresh(_helpers2.default.indexOfNode(currentGroup));\n      },\n      click: function click(evt) {\n        return _this.addElement(evt.target.parentElement.id);\n      }\n    };\n\n    this.buildDOM();\n  }\n\n  Controls.prototype.applyControlEvents = function applyControlEvents(evt) {\n    var item = evt.item;\n\n    var control = document.getElementById(item.id);\n    var button = control.querySelector(\'button\');\n    var actions = Object.keys(this.controlEvents);\n    for (var i = actions.length - 1; i >= 0; i--) {\n      var event = actions[i];\n      button.addEventListener(event, this.controlEvents[event]);\n    }\n  };\n\n  Controls.prototype.prepElement = function prepElement(elem) {\n    var _this = this;\n    var dataID = (0, _utils.uuid)();\n    var button = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\'\n      },\n      content: [elem.config.label],\n      action: _this.controlEvents\n    };\n    var elementControl = {\n      tag: \'li\',\n      className: [\'field-control\', elem.meta.group + \'-control\', elem.meta.id + \'-control\'],\n      id: dataID,\n      cPosition: {},\n      content: button\n    };\n\n    if (elem.meta.icon) {\n      button.content.unshift(_dom2.default.icon(elem.meta.icon));\n    }\n\n    _data.registeredFields[dataID] = _data.registeredFields[elem.meta.id] = elem;\n    return elementControl;\n  };\n\n  Controls.prototype.groupElements = function groupElements() {\n    var _this2 = this;\n\n    var _this = this;\n    var groups = opts.groups.slice();\n    var elements = opts.elements.slice();\n    var allGroups = [];\n    var usedElementIds = [];\n\n    groups = _helpers2.default.orderObjectsBy(groups, this.groupOrder, \'id\');\n\n    groups = groups.filter(function (group) {\n      return (0, _utils.match)(group.id, opts.disable.groups);\n    });\n\n    allGroups = _helpers2.default.map(groups, function (i) {\n      var group = {\n        tag: \'ul\',\n        attrs: {\n          className: \'control-group\',\n          id: _this.formID + \'-\' + groups[i].id + \'-control-group\'\n        },\n        fType: \'controlGroup\',\n        config: {\n          label: groups[i].label || \'\'\n        }\n      };\n\n      if (opts.elementOrder[groups[i].id]) {\n        var userOrder = opts.elementOrder[groups[i].id];\n        var newOrder = (0, _utils.unique)(userOrder.concat(groups[i].elementOrder));\n        groups[i].elementOrder = newOrder;\n      }\n      elements = _helpers2.default.orderObjectsBy(elements, groups[i].elementOrder, \'meta.id\');\n\n      group.content = elements.filter(function (field) {\n        var fieldId = field.meta.id || \'\';\n        var filters = [(0, _utils.match)(fieldId, opts.disable.elements), field.meta.group === groups[i].id, !_helpers2.default.inArray(field.meta.id, usedElementIds)];\n\n        var shouldFilter = true;\n        shouldFilter = filters.every(function (val) {\n          return val === true;\n        });\n        if (shouldFilter) {\n          usedElementIds.push(fieldId);\n        }\n\n        return shouldFilter;\n      }).map(function (field) {\n        return _this.prepElement.call(_this2, field);\n      });\n\n      return group;\n    });\n\n    return allGroups;\n  };\n\n  Controls.prototype.formActions = function formActions() {\n    var btnTemplate = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\'\n      }\n    };\n\n    var clearBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon(\'bin\'), _mi18n2.default.get(\'clear\')],\n      className: [\'clear-form\'],\n      attrs: {\n        title: _mi18n2.default.get(\'clearAll\')\n      },\n      action: {\n        click: function click(evt) {\n          if (_data.formData.rows.size) {\n            _events2.default.confirmClearAll = new CustomEvent(\'confirmClearAll\', {\n              detail: {\n                confirmationMessage: _mi18n2.default.get(\'confirmClearAll\'),\n                clearAllAction: _dom2.default.clearForm.bind(_dom2.default),\n                btnCoords: _dom2.default.coords(evt.target),\n                rows: _dom2.default.rows,\n                rowCount: _dom2.default.rows.size\n              }\n            });\n\n            document.dispatchEvent(_events2.default.confirmClearAll);\n          } else {\n            alert(\'There are no fields to clear\');\n          }\n        }\n      }\n    });\n\n    var saveBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon(\'floppy-disk\'), _mi18n2.default.get(\'save\')],\n      attrs: {\n        title: _mi18n2.default.get(\'save\')\n      },\n      className: [\'save-form\'],\n      action: {\n        click: function click(evt) {\n          _data.data.save();\n        }\n      }\n    });\n    var formActions = {\n      tag: \'div\',\n      className: \'form-actions f-btn-group\',\n\n      content: [clearBtn, saveBtn]\n    };\n\n    return formActions;\n  };\n\n  Controls.prototype.buildDOM = function buildDOM() {\n    if (this.element) {\n      return this.element;\n    }\n    var _this = this;\n    var groupedFields = this.groupElements();\n    var formActions = this.formActions();\n    _this.panels = new _panels2.default({ panels: groupedFields, type: \'controls\' });\n    var groupsWrapClasses = [\'control-groups\', \'panels-wrap\', \'panel-count-\' + groupedFields.length];\n    var groupsWrap = _dom2.default.create({\n      tag: \'div\',\n      className: groupsWrapClasses,\n      content: _this.panels.content\n    });\n\n    var element = _dom2.default.create({\n      tag: \'div\',\n      className: this.formID + \'-controls formeo-controls\',\n      content: [groupsWrap, formActions]\n    });\n    var groups = element.getElementsByClassName(\'control-group\');\n\n    this.element = element;\n    this.groups = groups;\n    this.currentGroup = groups[0];\n\n    this.actions = {\n      filter: function filter(term) {\n        var cpContent = _this.panels.content[1];\n        var filtering = term !== \'\';\n        var filteredTerm = groupsWrap.querySelector(\'.filtered-term\');\n        var fields = cpContent.querySelectorAll(\'.field-control\');\n\n        _helpers2.default.toggleElementsByStr(fields, term);\n\n        if (filtering) {\n          var filteredStr = \'Filtering \\\'\' + term + \'\\\'\';\n\n          element.classList.add(\'filtered\');\n\n          if (filteredTerm) {\n            filteredTerm.textContent = filteredStr;\n          } else {\n            filteredTerm = _dom2.default.create({\n              tag: \'h5\',\n              className: \'filtered-term\',\n              content: filteredStr\n            });\n            groupsWrap.insertBefore(filteredTerm, groupsWrap.firstChild);\n          }\n        } else if (filteredTerm) {\n          element.classList.remove(\'filtered\');\n          filteredTerm.remove();\n        }\n      },\n      addElement: _this.addElement,\n      addGroup: function addGroup(group) {\n        return console.log(group);\n      }\n    };\n\n    var _loop = function _loop(i) {\n      var storeID = \'formeo-controls-\' + groups[i];\n      if (!opts.sortable) {\n        localStorage.removeItem(storeID);\n      }\n      _sortablejs2.default.create(groups[i], {\n        animation: 150,\n        forceFallback: true,\n        fallbackClass: \'control-moving\',\n        fallbackOnBody: true,\n        group: {\n          name: \'controls\',\n          pull: \'clone\',\n          put: false\n        },\n        onRemove: _this.applyControlEvents.bind(_this),\n        sort: opts.sortable,\n        store: {\n          get: function get(sortable) {\n            var order = localStorage.getItem(storeID);\n            return order ? order.split(\'|\') : [];\n          },\n\n          set: function set(sortable) {\n            var order = sortable.toArray();\n            localStorage.setItem(storeID, order.join(\'|\'));\n          }\n        }\n      });\n    };\n\n    for (var i = groups.length - 1; i >= 0; i--) {\n      _loop(i);\n    }\n\n    return element;\n  };\n\n  Controls.prototype.addElement = function addElement(id) {\n    var row = _dom2.default.addRow();\n    var meta = _helpers2.default.get(_data.registeredFields[id], \'meta\');\n    if (meta.group !== \'layout\') {\n      var column = _dom2.default.addColumn(row.id);\n      _dom2.default.addField(column.id, id);\n    } else if (meta.id === \'layout-column\') {\n      _dom2.default.addColumn(row.id);\n    }\n\n    _data.data.saveColumnOrder(row);\n    _dom2.default.columnWidths(row);\n    _data.data.save();\n  };\n\n  return Controls;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29udHJvbHMuanM/OWRlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vY29tbW9uL2V2ZW50cyc7XG5pbXBvcnQge21hdGNoLCB1bmlxdWUsIHV1aWQsIGNsb3Nlc3RGdHlwZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XG5pbXBvcnQgUGFuZWxzIGZyb20gJy4vcGFuZWxzJztcblxubGV0IG9wdHMgPSB7fTtcblxuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbHMge1xuICAvKipcbiAgICogU2V0dXAgZGVmYXVsdHMgYW5kIHJldHVybiBDb250cm9scyBET01cbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250cm9sT3B0aW9uc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1JRFxuICAgKi9cbiAgY29uc3RydWN0b3IoY29udHJvbE9wdGlvbnMsIGZvcm1JRCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5mb3JtSUQgPSBmb3JtSUQ7XG4gICAgbGV0IHtncm91cE9yZGVyID0gW119ID0gY29udHJvbE9wdGlvbnM7XG4gICAgdGhpcy5ncm91cE9yZGVyID0gdW5pcXVlKGdyb3VwT3JkZXIuY29uY2F0KFtcbiAgICAgICdjb21tb24nLFxuICAgICAgJ2h0bWwnLFxuICAgICAgJ2xheW91dCcsXG4gICAgXSkpO1xuICAgIHRoaXMuY1Bvc2l0aW9uID0ge307XG4gICAgY29uc3QgZGVmYXVsdEVsZW1lbnRzID0gW3tcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdjb2x1bW4nKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdsYXlvdXQnLFxuICAgICAgICAgIGljb246ICdjb2x1bW5zJyxcbiAgICAgICAgICBpZDogJ2xheW91dC1jb2x1bW4nXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdyb3cnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdsYXlvdXQnLFxuICAgICAgICAgIGljb246ICdyb3dzJyxcbiAgICAgICAgICBpZDogJ2xheW91dC1yb3cnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2lucHV0LnRleHQnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICd0ZXh0LWlucHV0JyxcbiAgICAgICAgICBpZDogJ3RleHQtaW5wdXQnXG4gICAgICAgIH0sXG4gICAgICAgIGZNYXA6ICdhdHRycy52YWx1ZSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2lucHV0LmRhdGUnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICdjYWxlbmRhcicsXG4gICAgICAgICAgaWQ6ICdkYXRlLWlucHV0J1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBbXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdncm91cGVkJyksIHZhbHVlOiAnZi1idG4tZ3JvdXAnfSxcbiAgICAgICAgICAgIHtsYWJlbDogaTE4bi5nZXQoJ3VuZ3JvdXBlZCcpLCB2YWx1ZTogJ2YtZmllbGQtZ3JvdXAnfSxcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnYnV0dG9uJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ2J1dHRvbicsXG4gICAgICAgICAgaWQ6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFt7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSxcbiAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSwgdmFsdWU6ICdidXR0b24nLCBzZWxlY3RlZDogdHJ1ZX0sXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdyZXNldCcpLCB2YWx1ZTogJ3Jlc2V0J30sXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdzdWJtaXQnKSwgdmFsdWU6ICdzdWJtaXQnfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2RlZmF1bHQnKSxcbiAgICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdwcmltYXJ5JyksXG4gICAgICAgICAgICAgIHZhbHVlOiAncHJpbWFyeSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnZGFuZ2VyJyksXG4gICAgICAgICAgICAgIHZhbHVlOiAnZXJyb3InfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzdWNjZXNzJyksXG4gICAgICAgICAgICAgIHZhbHVlOiAnc3VjY2Vzcyd9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ3dhcm5pbmcnKSxcbiAgICAgICAgICAgICAgdmFsdWU6ICd3YXJuaW5nJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfV1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnc2VsZWN0JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzZWxlY3QnKVxuICAgICAgICB9LFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ3NlbGVjdCcsXG4gICAgICAgICAgaWQ6ICdzZWxlY3QnXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFsxLCAyLCAzLCA0XS5tYXAoaSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdvcHRpb24nKSxcbiAgICAgICAgICAgICAgY291bnQ6IGlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmFsdWU6ICdvcHRpb24tJyArIGksXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICd0ZXh0YXJlYScsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgndGV4dGFyZWEnKVxuICAgICAgICB9LFxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBiZWdpbm5pbmcgb2YgYWN0aW9ucyBiZWluZyBzdXBwb3J0ZWQgZm9yIHJlbmRlclxuICAgICAgICAvLyBlZGl0b3IgZmllbGQgYWN0aW9ucyBzaG91bGQgYmUgaW4gY29uZmlnLmFjdGlvblxuICAgICAgICAvLyBhY3Rpb246IHtcbiAgICAgICAgLy8gICBtb3VzZWRvd246IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAvLyAgICAgbGV0IHt0YXJnZXR9ID0gZXZ0O1xuICAgICAgICAvLyAgICAgbGV0IHN0YXJ0SGVpZ2h0ID0gdGFyZ2V0LnN0eWxlLmhlaWdodDtcbiAgICAgICAgLy8gICAgIGNvbnN0IG9uTW91c2V1cCA9IGV2dCA9PiB7XG4gICAgICAgIC8vICAgICAgIGxldCB7dGFyZ2V0fSA9IGV2dDtcbiAgICAgICAgLy8gICAgICAgbGV0IGVuZEhlaWdodCA9IHRhcmdldC5zdHlsZS5oZWlnaHQ7XG4gICAgICAgIC8vICAgICAgIGlmIChzdGFydEhlaWdodCAhPT0gZW5kSGVpZ2h0KSB7XG4gICAgICAgIC8vICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgLy8gICAgICAgICBsZXQgZmllbGRJRCA9IGNsb3Nlc3QodGFyZ2V0LCAnLnN0YWdlLWZpZWxkcycpLmlkO1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGZpZWxkID0gZC5maWVsZHMuZ2V0KGZpZWxkSUQpLmluc3RhbmNlO1xuICAgICAgICAvLyAgICAgICAgIGZpZWxkLmFkZEF0dHJpYnV0ZSgnc3R5bGUnLCBgaGVpZ2h0OiAke2VuZEhlaWdodH1gKTtcbiAgICAgICAgLy8gICAgICAgfVxuICAgICAgICAvLyAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2V1cCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNldXApO1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAndGV4dGFyZWEnLFxuICAgICAgICAgIGlkOiAndGV4dGFyZWEnXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnY2hlY2tib3gnKSArICcvJyArIGkxOG4uZ2V0KCdncm91cCcpLFxuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ2NoZWNrYm94JyxcbiAgICAgICAgICBpZDogJ2NoZWNrYm94J1xuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnY2hlY2tib3gnKSxcbiAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdmFsdWU6ICdjaGVja2JveC0xJyxcbiAgICAgICAgICBzZWxlY3RlZDogdHJ1ZVxuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ3JhZGlvJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdyYWRpb0dyb3VwJyksXG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ11cbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAncmFkaW8tZ3JvdXAnLFxuICAgICAgICAgIGlkOiAncmFkaW8nXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFsxLCAyLCAzXS5tYXAoaSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtsYWJlbDogaTE4bi5nZXQoJ3JhZGlvJyksIGNvdW50OiBpfSksXG4gICAgICAgICAgICB2YWx1ZTogJ3JhZGlvLScgKyBpLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaDEnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHRhZzogW1xuICAgICAgICAgICAge3ZhbHVlOiAnaDEnLCBsYWJlbDogJ0gxJ30sXG4gICAgICAgICAgICB7dmFsdWU6ICdoMicsIGxhYmVsOiAnSDInfSxcbiAgICAgICAgICAgIHt2YWx1ZTogJ2gzJywgbGFiZWw6ICdIMyd9LFxuICAgICAgICAgICAge3ZhbHVlOiAnaDQnLCBsYWJlbDogJ0g0J31cbiAgICAgICAgICBdLFxuICAgICAgICAgIGNsYXNzTmFtZTogJydcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdoZWFkZXInKSxcbiAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnaHRtbCcsXG4gICAgICAgICAgaWNvbjogJ2hlYWRlcicsXG4gICAgICAgICAgaWQ6ICdoZWFkZXInXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGkxOG4uZ2V0KCdoZWFkZXInKVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdwJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgncGFyYWdyYXBoJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxuICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdodG1sJyxcbiAgICAgICAgICBpY29uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICBpZDogJ3BhcmFncmFwaCdcbiAgICAgICAgfSxcbiAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29udGVudDogJ0xldmVyYWdlIGFnaWxlIGZyYW1ld29ya3MgdG8gcHJvdmlkZSBhIHJvYnVzdCBzeW5vcHNpcyBmb3IgaGlnaCBsZXZlbCBvdmVydmlld3MuIEl0ZXJhdGl2ZSBhcHByb2FjaGVzIHRvIGNvcnBvcmF0ZSBzdHJhdGVneSBmb3N0ZXIgY29sbGFib3JhdGl2ZSB0aGlua2luZyB0byBmdXJ0aGVyIHRoZSBvdmVyYWxsIHZhbHVlIHByb3Bvc2l0aW9uLiBPcmdhbmljYWxseSBncm93IHRoZSBob2xpc3RpYyB3b3JsZCB2aWV3IG9mIGRpc3J1cHRpdmUgaW5ub3ZhdGlvbiB2aWEgd29ya3BsYWNlIGRpdmVyc2l0eSBhbmQgZW1wb3dlcm1lbnQuJ1xuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdocicsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnc2VwYXJhdG9yJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2h0bWwnLFxuICAgICAgICAgIGljb246ICdkaXZpZGVyJyxcbiAgICAgICAgICBpZDogJ2RpdmlkZXInXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddLFxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnZmlsZVVwbG9hZCcpXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ3VwbG9hZCcsXG4gICAgICAgICAgaWQ6ICd1cGxvYWQnXG4gICAgICAgIH0sXG4gICAgICAgIGZNYXA6ICdhdHRycy52YWx1ZSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbnVtYmVyJyksXG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ11cbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAnaGFzaCcsXG4gICAgICAgICAgaWQ6ICdudW1iZXInXG4gICAgICAgIH0sXG4gICAgICAgIGZNYXA6ICdhdHRycy52YWx1ZSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2hpZGRlbicpLFxuICAgICAgICAgIGhpZGVMYWJlbDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAnaGlkZGVuJyxcbiAgICAgICAgICBpZDogJ2hpZGRlbidcbiAgICAgICAgfSxcbiAgICAgICAgZk1hcDogJ2F0dHJzLnZhbHVlJ1xuICAgICAgfV07XG5cbiAgICB0aGlzLmRlZmF1bHRzID0ge1xuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICBlbGVtZW50T3JkZXI6IHt9LFxuICAgICAgZ3JvdXBzOiBbe1xuICAgICAgICBpZDogJ2xheW91dCcsXG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGF5b3V0JyksXG4gICAgICAgIGVsZW1lbnRPcmRlcjogW1xuICAgICAgICAgICdyb3cnLFxuICAgICAgICAgICdjb2x1bW4nXG4gICAgICAgIF1cbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdjb21tb24nLFxuICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2NvbW1vbkZpZWxkcycpLFxuICAgICAgICBlbGVtZW50T3JkZXI6IFtcbiAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICdjaGVja2JveCcsXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAvLyB7XG4gICAgICAvLyAgIGlkOiAnaHRtbCcsXG4gICAgICAvLyAgIGxhYmVsOiAn5a2X5q61JyxcbiAgICAgIC8vICAgZWxlbWVudE9yZGVyOiBbXG4gICAgICAvLyAgICAgJ+Wnk+WQjScsXG4gICAgICAvLyAgICAgJ+iBjOS9jSdcbiAgICAgIC8vICAgXVxuICAgICAgLy8gfVxuICAgIF0sXG4gICAgICBkaXNhYmxlOiB7XG4gICAgICAgIGdyb3VwczogW10sXG4gICAgICAgIGVsZW1lbnRzOiBbXVxuICAgICAgfSxcbiAgICAgIGVsZW1lbnRzOiBbXVxuICAgIH07XG5cbiAgICBvcHRzID0gaC5tZXJnZSh0aGlzLmRlZmF1bHRzLCBjb250cm9sT3B0aW9ucyk7XG5cbiAgICBvcHRzLmVsZW1lbnRzID0gb3B0cy5lbGVtZW50cy5jb25jYXQoZGVmYXVsdEVsZW1lbnRzKTtcblxuICAgIHRoaXMuY29udHJvbEV2ZW50cyA9IHtcbiAgICAgIGZvY3VzOiBldnQgPT4ge1xuICAgICAgICAgIGxldCBjdXJyZW50R3JvdXAgPSBjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCk7XG4gICAgICAgICAgX3RoaXMucGFuZWxzLm5hdi5yZWZyZXNoKGguaW5kZXhPZk5vZGUoY3VycmVudEdyb3VwKSk7XG4gICAgICAgIH0sXG4gICAgICBjbGljazogZXZ0ID0+IF90aGlzLmFkZEVsZW1lbnQoZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LmlkKVxuICAgICAgLy8gbW91c2Vkb3duOiBldnQgPT4ge1xuICAgICAgLy8gICBsZXQgcG9zaXRpb24gPSBfdGhpcy5jUG9zaXRpb247XG4gICAgICAvLyAgIHBvc2l0aW9uLnggPSBldnQuY2xpZW50WDtcbiAgICAgIC8vICAgcG9zaXRpb24ueSA9IGV2dC5jbGllbnRZO1xuICAgICAgLy8gfSxcbiAgICAgIC8vIG1vdXNldXA6IGV2dCA9PiB7XG4gICAgICAvLyAgIGxldCBwb3NpdGlvbiA9IF90aGlzLmNQb3NpdGlvbjtcbiAgICAgIC8vICAgaWYgKGNsaWNrZWQoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZLCBwb3NpdGlvbiwgZXZ0LmJ1dHRvbikpIHtcbiAgICAgIC8vICAgICBfdGhpcy5hZGRFbGVtZW50KGV2dC50YXJnZXQucGFyZW50RWxlbWVudC5pZCk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH1cbiAgICB9O1xuXG4gICAgdGhpcy5idWlsZERPTSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYWdnaW5nIGZvcm0gdGhlIGNvbnRyb2wgYmFyIGNsZWFycyBlbGVtZW50XG4gICAqIGV2ZW50cyBsZXRzIGFkZCB0aGVtIGJhY2sgYWZ0ZXIgZHJhZy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICovXG4gIGFwcGx5Q29udHJvbEV2ZW50cyhldnQpIHtcbiAgICBsZXQge2l0ZW19ID0gZXZ0O1xuICAgIGxldCBjb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbS5pZCk7XG4gICAgbGV0IGJ1dHRvbiA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG4gICAgbGV0IGFjdGlvbnMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xFdmVudHMpO1xuICAgIGZvciAobGV0IGkgPSBhY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgZXZlbnQgPSBhY3Rpb25zW2ldO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuY29udHJvbEV2ZW50c1tldmVudF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBjb250cm9sIGNvbmZpZyBmb3IgVUkgYW5kIGJpbmQgYWN0aW9uc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cbiAgICogQHJldHVybiB7T2JqZWN0fSBlbGVtZW50Q29udHJvbFxuICAgKi9cbiAgcHJlcEVsZW1lbnQoZWxlbSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGRhdGFJRCA9IHV1aWQoKTtcbiAgICBsZXQgYnV0dG9uID0ge1xuICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICB9LFxuICAgICAgY29udGVudDogW2VsZW0uY29uZmlnLmxhYmVsXSxcbiAgICAgIGFjdGlvbjogX3RoaXMuY29udHJvbEV2ZW50cyxcbiAgICB9O1xuICAgIGxldCBlbGVtZW50Q29udHJvbCA9IHtcbiAgICAgIHRhZzogJ2xpJyxcbiAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAnZmllbGQtY29udHJvbCcsXG4gICAgICAgIGAke2VsZW0ubWV0YS5ncm91cH0tY29udHJvbGAsXG4gICAgICAgIGAke2VsZW0ubWV0YS5pZH0tY29udHJvbGAsXG4gICAgICBdLFxuICAgICAgaWQ6IGRhdGFJRCxcbiAgICAgIGNQb3NpdGlvbjoge30sXG4gICAgICBjb250ZW50OiBidXR0b25cbiAgICB9O1xuXG4gICAgaWYgKGVsZW0ubWV0YS5pY29uKSB7XG4gICAgICBidXR0b24uY29udGVudC51bnNoaWZ0KGRvbS5pY29uKGVsZW0ubWV0YS5pY29uKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGZpZWxkIHRvIHRoZSByZWdpc3RlciBieSB1dWlkIGFuZCBtZXRhIGlkXG4gICAgckZpZWxkc1tkYXRhSURdID0gckZpZWxkc1tlbGVtLm1ldGEuaWRdID0gZWxlbTtcbiAgICByZXR1cm4gZWxlbWVudENvbnRyb2w7XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgZWxlbWVudHMgaW50byB0aGVpciByZXNwZWN0aXZlIGNvbnRyb2wgZ3JvdXBcbiAgICogQHJldHVybiB7QXJyYXl9IGFsbEdyb3Vwc1xuICAgKi9cbiAgZ3JvdXBFbGVtZW50cygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cHMgPSBvcHRzLmdyb3Vwcy5zbGljZSgpO1xuICAgIGxldCBlbGVtZW50cyA9IG9wdHMuZWxlbWVudHMuc2xpY2UoKTtcbiAgICBsZXQgYWxsR3JvdXBzID0gW107XG4gICAgbGV0IHVzZWRFbGVtZW50SWRzID0gW107XG5cbiAgICAvLyBBcHBseSBvcmRlciB0byBHcm91cHNcbiAgICBncm91cHMgPSBoLm9yZGVyT2JqZWN0c0J5KGdyb3VwcywgdGhpcy5ncm91cE9yZGVyLCAnaWQnKTtcblxuICAgIC8vIHJlbW92ZSBkaXNhYmxlZCBncm91cHNcbiAgICBncm91cHMgPSBncm91cHMuZmlsdGVyKGdyb3VwID0+IG1hdGNoKGdyb3VwLmlkLCBvcHRzLmRpc2FibGUuZ3JvdXBzKSk7XG5cbiAgICAvLyBjcmVhdGUgZ3JvdXAgY29uZmlnXG4gICAgYWxsR3JvdXBzID0gaC5tYXAoZ3JvdXBzLCAoaSkgPT4ge1xuICAgICAgbGV0IGdyb3VwID0ge1xuICAgICAgICB0YWc6ICd1bCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1ncm91cCcsXG4gICAgICAgICAgaWQ6IF90aGlzLmZvcm1JRCArICctJyArIGdyb3Vwc1tpXS5pZCArICctY29udHJvbC1ncm91cCdcbiAgICAgICAgfSxcbiAgICAgICAgZlR5cGU6ICdjb250cm9sR3JvdXAnLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBsYWJlbDogZ3JvdXBzW2ldLmxhYmVsIHx8ICcnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFwcGx5IG9yZGVyIHRvIGVsZW1lbnRzXG4gICAgICBpZiAob3B0cy5lbGVtZW50T3JkZXJbZ3JvdXBzW2ldLmlkXSkge1xuICAgICAgICBsZXQgdXNlck9yZGVyID0gb3B0cy5lbGVtZW50T3JkZXJbZ3JvdXBzW2ldLmlkXTtcbiAgICAgICAgbGV0IG5ld09yZGVyID0gdW5pcXVlKHVzZXJPcmRlci5jb25jYXQoZ3JvdXBzW2ldLmVsZW1lbnRPcmRlcikpO1xuICAgICAgICBncm91cHNbaV0uZWxlbWVudE9yZGVyID0gbmV3T3JkZXI7XG4gICAgICB9XG4gICAgICBlbGVtZW50cyA9IGgub3JkZXJPYmplY3RzQnkoZWxlbWVudHMsIGdyb3Vwc1tpXS5lbGVtZW50T3JkZXIsICdtZXRhLmlkJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRmlsbCBjb250cm9sIGdyb3VwcyB3aXRoIHRoZWlyIGZpZWxkc1xuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBmaWVsZCBGaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgRmlsdGVyZWQgYXJyYXkgb2YgRmllbGQgY29uZmlnIG9iamVjdHNcbiAgICAgICAqL1xuICAgICAgZ3JvdXAuY29udGVudCA9IGVsZW1lbnRzLmZpbHRlcihmaWVsZCA9PiB7XG4gICAgICAgIGxldCBmaWVsZElkID0gZmllbGQubWV0YS5pZCB8fCAnJztcbiAgICAgICAgbGV0IGZpbHRlcnMgPSBbXG4gICAgICAgICAgbWF0Y2goZmllbGRJZCwgb3B0cy5kaXNhYmxlLmVsZW1lbnRzKSxcbiAgICAgICAgICAoZmllbGQubWV0YS5ncm91cCA9PT0gZ3JvdXBzW2ldLmlkKSxcbiAgICAgICAgICAhaC5pbkFycmF5KGZpZWxkLm1ldGEuaWQsIHVzZWRFbGVtZW50SWRzKVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBzaG91bGRGaWx0ZXIgPSB0cnVlO1xuICAgICAgICBzaG91bGRGaWx0ZXIgPSBmaWx0ZXJzLmV2ZXJ5KHZhbCA9PiB2YWwgPT09IHRydWUpO1xuICAgICAgICBpZiAoc2hvdWxkRmlsdGVyKSB7XG4gICAgICAgICAgdXNlZEVsZW1lbnRJZHMucHVzaChmaWVsZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG91bGRGaWx0ZXI7XG4gICAgICB9KS5tYXAoZmllbGQgPT4gX3RoaXMucHJlcEVsZW1lbnQuY2FsbCh0aGlzLCBmaWVsZCkpO1xuXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsR3JvdXBzO1xuICB9XG5cbiAgLyoqXG4gICAqIFtmb3JtQWN0aW9ucyBkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBmb3JtQWN0aW9ucygpIHtcbiAgICBsZXQgYnRuVGVtcGxhdGUgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGxldCBjbGVhckJ0biA9IGgubWVyZ2UoYnRuVGVtcGxhdGUsIHtcbiAgICAgIGNvbnRlbnQ6IFtkb20uaWNvbignYmluJyksIGkxOG4uZ2V0KCdjbGVhcicpXSxcbiAgICAgIGNsYXNzTmFtZTogWydjbGVhci1mb3JtJ10sXG4gICAgICBhdHRyczoge1xuICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NsZWFyQWxsJylcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgaWYgKGZvcm1EYXRhLnJvd3Muc2l6ZSkge1xuICAgICAgICAgICAgZXZlbnRzLmNvbmZpcm1DbGVhckFsbCA9IG5ldyBDdXN0b21FdmVudCgnY29uZmlybUNsZWFyQWxsJywge1xuICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25NZXNzYWdlOiBpMThuLmdldCgnY29uZmlybUNsZWFyQWxsJyksXG4gICAgICAgICAgICAgICAgY2xlYXJBbGxBY3Rpb246IGRvbS5jbGVhckZvcm0uYmluZChkb20pLFxuICAgICAgICAgICAgICAgIGJ0bkNvb3JkczogZG9tLmNvb3JkcyhldnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICByb3dzOiBkb20ucm93cyxcbiAgICAgICAgICAgICAgICByb3dDb3VudDogZG9tLnJvd3Muc2l6ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuY29uZmlybUNsZWFyQWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIGFyZSBubyBmaWVsZHMgdG8gY2xlYXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBsZXQgc2V0dGluZ3NCdG4gPSBoLm1lcmdlKGJ0blRlbXBsYXRlLCB7XG4gICAgLy8gICBjb250ZW50OiBbZG9tLmljb24oJ3NldHRpbmdzJyksIGkxOG4uZ2V0KCdzZXR0aW5ncycpXSxcbiAgICAvLyAgIGF0dHJzOiB7XG4gICAgLy8gICAgIHRpdGxlOiBpMThuLmdldCgnc2V0dGluZ3MnKVxuICAgIC8vICAgfSxcbiAgICAvLyAgIGNsYXNzTmFtZTogWydidG4nLCAnYnRuLXNlY29uZGFyeScsICdlZGl0LXNldHRpbmdzJ10sXG4gICAgLy8gICBhY3Rpb246IHtcbiAgICAvLyAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgIC8vICAgICAgIGxldCBzdGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZvcm1JRCArICctc3RhZ2UnKTtcbiAgICAvLyAgICAgICBzdGFnZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpbmctc3RhZ2UnKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICAgIGxldCBzYXZlQnRuID0gaC5tZXJnZShidG5UZW1wbGF0ZSwge1xuICAgICAgY29udGVudDogW2RvbS5pY29uKCdmbG9wcHktZGlzaycpLCBpMThuLmdldCgnc2F2ZScpXSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHRpdGxlOiBpMThuLmdldCgnc2F2ZScpXG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBbJ3NhdmUtZm9ybSddLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiAoZXZ0KSA9PiB7XG4gICAgICAgICAgLy8gQHRvZG86IGNvbXBsZXRlIGFjdGlvbnMgY29ubmVjdGlvblxuICAgICAgICAgIC8vIGxldCBzYXZlRXZ0ID0ge1xuICAgICAgICAgIC8vICAgYWN0aW9uOiAoKSA9PiB7fSxcbiAgICAgICAgICAvLyAgIGNvb3JkczogZG9tLmNvb3JkcyhldnQudGFyZ2V0KSxcbiAgICAgICAgICAvLyAgIG1lc3NhZ2U6ICcnXG4gICAgICAgICAgLy8gfTtcblxuICAgICAgICAgIC8vIGFjdGlvbnMuY2xpY2suYnRuKHNhdmVFdnQpO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGZvcm1BY3Rpb25zID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tYWN0aW9ucyBmLWJ0bi1ncm91cCcsXG4gICAgICAvLyBjb250ZW50OiBbY2xlYXJCdG4sIHNldHRpbmdzQnRuLCBzYXZlQnRuXVxuICAgICAgY29udGVudDogW2NsZWFyQnRuLCBzYXZlQnRuXVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybUFjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWFya3VwIGZvciB0aGUgZm9ybSBjb250cm9scy9maWVsZHNcbiAgICogQHJldHVybiB7RE9NfVxuICAgKi9cbiAgYnVpbGRET00oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZ3JvdXBlZEZpZWxkcyA9IHRoaXMuZ3JvdXBFbGVtZW50cygpO1xuICAgIGxldCBmb3JtQWN0aW9ucyA9IHRoaXMuZm9ybUFjdGlvbnMoKTtcbiAgICBfdGhpcy5wYW5lbHMgPSBuZXcgUGFuZWxzKHtwYW5lbHM6IGdyb3VwZWRGaWVsZHMsIHR5cGU6ICdjb250cm9scyd9KTtcbiAgICBsZXQgZ3JvdXBzV3JhcENsYXNzZXMgPSBbXG4gICAgICAnY29udHJvbC1ncm91cHMnLFxuICAgICAgJ3BhbmVscy13cmFwJyxcbiAgICAgIGBwYW5lbC1jb3VudC0ke2dyb3VwZWRGaWVsZHMubGVuZ3RofWBcbiAgICBdO1xuICAgIGxldCBncm91cHNXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiBncm91cHNXcmFwQ2xhc3NlcyxcbiAgICAgIGNvbnRlbnQ6IF90aGlzLnBhbmVscy5jb250ZW50XG4gICAgfSk7XG5cbiAgICBsZXQgZWxlbWVudCA9IGRvbS5jcmVhdGUoe1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMuZm9ybUlEICsgJy1jb250cm9scyBmb3JtZW8tY29udHJvbHMnLFxuICAgICAgICBjb250ZW50OiBbZ3JvdXBzV3JhcCwgZm9ybUFjdGlvbnNdXG4gICAgICB9KTtcbiAgICBsZXQgZ3JvdXBzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb250cm9sLWdyb3VwJyk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZ3JvdXBzID0gZ3JvdXBzO1xuICAgIHRoaXMuY3VycmVudEdyb3VwID0gZ3JvdXBzWzBdO1xuXG4gICAgdGhpcy5hY3Rpb25zID0ge1xuICAgICAgZmlsdGVyOiAodGVybSkgPT4ge1xuICAgICAgICBsZXQgY3BDb250ZW50ID0gX3RoaXMucGFuZWxzLmNvbnRlbnRbMV07XG4gICAgICAgIGxldCBmaWx0ZXJpbmcgPSAodGVybSAhPT0gJycpO1xuICAgICAgICBsZXQgZmlsdGVyZWRUZXJtID0gZ3JvdXBzV3JhcC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyZWQtdGVybScpO1xuICAgICAgICBsZXQgZmllbGRzID0gY3BDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWVsZC1jb250cm9sJyk7XG5cbiAgICAgICAgaC50b2dnbGVFbGVtZW50c0J5U3RyKGZpZWxkcywgdGVybSk7XG5cbiAgICAgICAgaWYgKGZpbHRlcmluZykge1xuICAgICAgICAgIC8vIEB0b2RvIGNoYW5nZSB0byB1c2UgbGFuZ3VhZ2UgZmlsZVxuICAgICAgICAgIGxldCBmaWx0ZXJlZFN0ciA9IGBGaWx0ZXJpbmcgJyR7dGVybX0nYDtcblxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsdGVyZWQnKTtcblxuICAgICAgICAgIGlmIChmaWx0ZXJlZFRlcm0pIHtcbiAgICAgICAgICAgIGZpbHRlcmVkVGVybS50ZXh0Q29udGVudCA9IGZpbHRlcmVkU3RyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFRlcm0gPSBkb20uY3JlYXRlKHtcbiAgICAgICAgICAgICAgdGFnOiAnaDUnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmaWx0ZXJlZC10ZXJtJyxcbiAgICAgICAgICAgICAgY29udGVudDogZmlsdGVyZWRTdHJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzV3JhcC5pbnNlcnRCZWZvcmUoZmlsdGVyZWRUZXJtLCBncm91cHNXcmFwLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFRlcm0pIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcmVkJyk7XG4gICAgICAgICAgZmlsdGVyZWRUZXJtLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWRkRWxlbWVudDogX3RoaXMuYWRkRWxlbWVudCxcbiAgICAgIGFkZEdyb3VwOiAoZ3JvdXApID0+IGNvbnNvbGUubG9nKGdyb3VwKVxuICAgIH07XG5cbiAgICAvLyBNYWtlIGNvbnRyb2xzIHNvcnRhYmxlXG4gICAgZm9yIChsZXQgaSA9IGdyb3Vwcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHN0b3JlSUQgPSBgZm9ybWVvLWNvbnRyb2xzLSR7Z3JvdXBzW2ldfWA7XG4gICAgICBpZiAoIW9wdHMuc29ydGFibGUpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmVJRCk7XG4gICAgICB9XG4gICAgICBTb3J0YWJsZS5jcmVhdGUoZ3JvdXBzW2ldLCB7XG4gICAgICAgIGFuaW1hdGlvbjogMTUwLFxuICAgICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLFxuICAgICAgICBmYWxsYmFja0NsYXNzOiAnY29udHJvbC1tb3ZpbmcnLFxuICAgICAgICBmYWxsYmFja09uQm9keTogdHJ1ZSxcbiAgICAgICAgZ3JvdXA6IHtcbiAgICAgICAgICBuYW1lOiAnY29udHJvbHMnLFxuICAgICAgICAgIHB1bGw6ICdjbG9uZScsXG4gICAgICAgICAgcHV0OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBvblJlbW92ZTogX3RoaXMuYXBwbHlDb250cm9sRXZlbnRzLmJpbmQoX3RoaXMpLFxuICAgICAgICBzb3J0OiBvcHRzLnNvcnRhYmxlLFxuICAgICAgICBzdG9yZToge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEdldCB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gICAgICAgICAgICogQHBhcmFtICAge1NvcnRhYmxlfSAgc29ydGFibGVcbiAgICAgICAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBnZXQ6IHNvcnRhYmxlID0+IHtcbiAgICAgICAgICAgIGxldCBvcmRlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JlSUQpO1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVyID8gb3JkZXIuc3BsaXQoJ3wnKSA6IFtdO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTYXZlIHRoZSBvcmRlciBvZiBlbGVtZW50cy5cbiAgICAgICAgICAgKiBAcGFyYW0ge1NvcnRhYmxlfSAgc29ydGFibGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXQ6IHNvcnRhYmxlID0+IHtcbiAgICAgICAgICAgIGxldCBvcmRlciA9IHNvcnRhYmxlLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JlSUQsIG9yZGVyLmpvaW4oJ3wnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgYW4gZWxlbWVudCB0byB0aGUgc3RhZ2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIG9mIGVsZW1lbnRzXG4gICAqL1xuICBhZGRFbGVtZW50KGlkKSB7XG4gICAgbGV0IHJvdyA9IGRvbS5hZGRSb3coKTtcbiAgICBsZXQgbWV0YSA9IGguZ2V0KHJGaWVsZHNbaWRdLCAnbWV0YScpO1xuICAgIGlmIChtZXRhLmdyb3VwICE9PSAnbGF5b3V0Jykge1xuICAgICAgbGV0IGNvbHVtbiA9IGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGlkKTtcbiAgICB9IGVsc2UgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xuICAgICAgZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgIH1cblxuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHJvdyk7XG4gICAgZG9tLmNvbHVtbldpZHRocyhyb3cpO1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9jb250cm9scy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFMQTtBQVdBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUxBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBWEE7QUFpQkE7QUFDQTtBQUNBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQXZCQTtBQWxCQTtBQWdEQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQVFBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQTlCQTtBQWtDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQWZBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFNQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU5BO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBSEE7QUFpQkE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQS9CQTtBQUNBO0FBaUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFEQTtBQVBBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFGQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQURBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBTkE7QUFDQTtBQXVDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQVhBO0FBTkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBL0JBO0FBQ0E7QUEvQkE7QUFrRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQVpBO0FBdEVBO0FBQ0E7QUFnRUE7QUFBQTtBQXNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nvar _animation = __webpack_require__(/*! ../common/animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _actions = __webpack_require__(/*! ../common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Field = function () {\n  function Field(dataID) {\n    _classCallCheck(this, Field);\n\n    var _this = this;\n\n    var fieldData = _data.formData.fields.get(dataID) || (0, _utils.clone)(_data.registeredFields[dataID]);\n    _this.fieldID = fieldData.id || (0, _utils.uuid)();\n    _this.metaID = fieldData.meta.id;\n    fieldData.id = _this.fieldID;\n\n    _data.formData.fields.set(_this.fieldID, fieldData);\n    this.fieldData = fieldData;\n\n    var field = {\n      tag: \'li\',\n      attrs: {\n        className: \'stage-fields field-type-\' + fieldData.meta.id\n      },\n      id: _this.fieldID,\n      content: [_dom2.default.actionButtons(_this.fieldID, \'field\'), _this.fieldEdit()],\n      panelNav: _this.panelNav,\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'field\')\n      },\n      fType: \'fields\',\n      action: {\n        mouseenter: function mouseenter(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.add(\'hovering-field\');\n        },\n        mouseleave: function mouseleave(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.remove(\'hovering-field\');\n        }\n      }\n    };\n\n    field = _dom2.default.create(field);\n\n    _dom2.default.fields.set(_this.fieldID, {\n      field: field,\n      instance: _this\n    });\n\n    _this.preview = _dom2.default.create(_this.fieldPreview());\n    field.appendChild(_this.preview);\n\n    return field;\n  }\n\n  Field.prototype.updatePreview = function updatePreview() {\n    var _this = this;\n    var fieldData = _helpers2.default.copyObj(_data.formData.fields.get(_this.fieldID));\n    var newPreview = _dom2.default.create(fieldData, true);\n    _dom2.default.empty(_this.preview);\n    _this.preview.appendChild(newPreview);\n\n    return newPreview;\n  };\n\n  Field.prototype.editPanel = function editPanel(panelType) {\n    var _this = this;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var propType = void 0;\n    var panel = void 0;\n    var panelWrap = {\n      tag: \'div\',\n      className: \'f-panel-wrap\',\n      content: []\n    };\n\n    if (fieldData[panelType]) {\n      panel = {\n        tag: \'ul\',\n        attrs: {\n          className: [\'field-edit-group\', \'field-edit-\' + panelType]\n        },\n        editGroup: panelType,\n        isSortable: panelType === \'options\',\n        content: []\n      };\n      propType = _dom2.default.contentType(fieldData[panelType]);\n\n      panelWrap.content.push(panel);\n\n      var panelArray = void 0;\n      if (propType === \'array\') {\n        panelArray = fieldData[panelType];\n      } else {\n        panelArray = Object.keys(fieldData[panelType]);\n      }\n\n      _helpers2.default.forEach(panelArray, function (dataProp, i) {\n        var args = {\n          i: i,\n          dataProp: dataProp,\n          fieldData: fieldData,\n          panelType: panelType,\n          propType: propType\n        };\n        panel.content.push(_this.panelContent(args));\n      });\n    }\n\n    return panelWrap;\n  };\n\n  Field.prototype.panelContent = function panelContent(args) {\n    var _this = this;\n    var panelType = args.panelType,\n        dataProp = args.dataProp;\n\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    dataProp = typeof dataProp === \'string\' ? dataProp : args.i;\n    var id = (0, _utils.uuid)();\n    var propVal = fieldData[panelType][dataProp];\n    var inputs = {\n      tag: \'div\',\n      className: [\'prop-inputs\'],\n      content: _this.editPanelInputs(dataProp, propVal, panelType, id)\n    };\n    var property = {\n      tag: \'li\',\n      className: [panelType + \'-\' + dataProp + \'-wrap\', \'prop-wrap\'],\n      id: id,\n      content: []\n    };\n    var order = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'prop-order prop-control\'\n      },\n      content: _dom2.default.icon(\'move-vertical\')\n    };\n    var remove = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'prop-remove prop-control\'\n      },\n      action: {\n        click: function click(evt) {\n          _animation2.default.slideUp(document.getElementById(property.id), 250, function (elem) {\n            var parent = elem.parentElement;\n            var fieldData = _data.formData.fields.get(_this.fieldID);\n            var fieldPanelData = fieldData[panelType];\n            _dom2.default.remove(elem);\n            if (Array.isArray(fieldPanelData)) {\n              fieldPanelData.splice(dataProp, 1);\n            } else {\n              fieldPanelData[dataProp] = undefined;\n            }\n            _data.data.save(panelType, parent);\n            _dom2.default.empty(_this.preview);\n            var newPreview = _dom2.default.create(fieldData, true);\n            _this.preview.appendChild(newPreview);\n            _this.resizePanelWrap();\n          });\n        }\n      },\n      content: _dom2.default.icon(\'remove\')\n    };\n    var controls = {\n      tag: \'div\',\n      className: \'prop-controls\',\n      content: [remove]\n    };\n\n    if (args.propType === \'array\') {\n      inputs.className.push(\'f-input-group\');\n      controls.content.unshift(order);\n    }\n\n    property.propData = fieldData[panelType][dataProp];\n\n    if (this.isAllowedAttr(dataProp)) {\n      property.content.push(controls, inputs);\n    }\n\n    property.className.push(\'control-count-\' + controls.content.length);\n\n    return property;\n  };\n\n  Field.prototype.editPanelInputs = function editPanelInputs(prop, propVal, panelType, id) {\n    var _this = this;\n    var inputs = [];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var isOption = panelType === \'options\';\n    var processProperty = function processProperty(key, val) {\n      var propType = _dom2.default.contentType(val);\n      var propIsNum = typeof prop === \'number\';\n      var fMap = panelType + \'.\' + key;\n\n      if (propIsNum) {\n        fMap = panelType + \'[\' + prop + \'].\' + key;\n      }\n      var typeAttrs = function typeAttrs(key, val, type) {\n        var placeholder = _mi18n2.default.get(\'placeholder.\' + key) || _helpers2.default.capitalize(key);\n        var attrs = {\n          string: {\n            type: \'text\',\n            value: val,\n            placeholder: placeholder\n          },\n          boolean: {\n            get type() {\n              var boolType = \'checkbox\';\n              if (_this.fieldData.attrs) {\n                var attrType = _this.fieldData.attrs.type;\n                if (attrType === \'radio\' && key === \'selected\') {\n                  boolType = \'radio\';\n                }\n              }\n              return boolType;\n            },\n            value: val\n          },\n          number: {\n            type: \'number\',\n            value: val\n          },\n          array: {\n            className: \'\'\n          }\n        };\n        return attrs[type];\n      };\n      var inputLabel = function inputLabel(key) {\n        var labelKey = panelType + \'.\' + key;\n        return _mi18n2.default.get(labelKey) || _helpers2.default.capitalize(key);\n      };\n      var propertyInputs = {\n        array: function array(key, val) {\n          var select = {\n            fMap: fMap,\n            tag: \'select\',\n            id: prop + \'-\' + id,\n            attrs: typeAttrs(key, val, \'array\'),\n            config: {\n              label: inputLabel(key),\n              hideLabel: isOption\n            },\n            content: val.map(function (v) {\n              return {\n                tag: \'option\',\n                attrs: {\n                  value: v.value,\n                  selected: v.selected\n                },\n                content: v.label\n              };\n            }),\n            action: {\n              change: function change(evt) {\n                var values = [];\n                var propData = fieldData[panelType][prop];\n                var optionData = isOption ? propData[key] : propData;\n                var newValue = optionData.map(function (value) {\n                  var selected = value.selected,\n                      option = _objectWithoutProperties(value, [\'selected\']);\n\n                  values.push(option.value);\n                  return option;\n                });\n\n                var index = values.indexOf(evt.target.value);\n                newValue[index].selected = true;\n                _helpers2.default.set(fieldData, fMap, newValue);\n                _data.data.save();\n                _this.updatePreview();\n              }\n            }\n          };\n          return select;\n        },\n        string: function string(key, val) {\n          var input = {\n            fMap: fMap,\n            tag: \'input\',\n            id: prop + \'-\' + id,\n            attrs: typeAttrs(key, val, \'string\'),\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.value);\n                _this.updatePreview();\n                _data.data.save();\n              }\n            }\n          };\n\n          if (!propIsNum) {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        boolean: function boolean(key, val) {\n          var input = {\n            tag: \'input\',\n            attrs: typeAttrs(key, val, \'boolean\'),\n            fMap: fMap,\n            id: prop + \'-\' + id,\n            name: _this.fieldID + \'-selected\',\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.checked);\n                _this.updatePreview();\n              }\n            }\n          };\n\n          if (val) {\n            input.attrs.checked = val;\n          }\n\n          if (propIsNum) {\n            var addon = {\n              tag: \'span\',\n              className: \'f-addon\',\n              content: _dom2.default.checkbox(input)\n            };\n            input = addon;\n          } else {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        object: function object(objKey, objVal) {\n          var inputs = [];\n\n          for (var objProp in objVal) {\n            if (objVal.hasOwnProperty(objProp)) {\n              inputs.push(processProperty(objProp, objVal[objProp]));\n            }\n          }\n\n          return inputs;\n        }\n      };\n\n      propertyInputs.number = propertyInputs.string;\n\n      return propertyInputs[propType](key, val);\n    };\n\n    inputs.push(processProperty(prop, propVal));\n\n    return inputs;\n  };\n\n  Field.prototype.isAllowedAttr = function isAllowedAttr() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'type\';\n\n    var _this = this;\n    var allowed = true;\n    var disabledAttrs = _data.registeredFields[_this.metaID].config.disabledAttrs;\n    if (disabledAttrs) {\n      allowed = !_helpers2.default.inArray(attr, disabledAttrs);\n    }\n\n    return allowed;\n  };\n\n  Field.prototype.addAttribute = function addAttribute(attr, val) {\n    if (!this.isAllowedAttr(attr)) {\n      window.alert(\'Attribute "\' + attr + \'": not permitted\');\n    }\n\n    var _this = this;\n    var field = document.getElementById(_this.fieldID);\n    var editGroup = field.querySelector(\'.field-edit-attrs\');\n    var safeAttr = _helpers2.default.hyphenCase(attr);\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var labelKey = \'attrs.\' + safeAttr;\n\n    if (!_mi18n2.default.current[labelKey]) {\n      _mi18n2.default.put(labelKey, _helpers2.default.capitalize(attr));\n    }\n\n    if (typeof val === \'string\' && _helpers2.default.inArray(val, [\'true\', \'false\'])) {\n      val = JSON.parse(val);\n    }\n\n    fieldData.attrs[safeAttr] = val;\n\n    var args = {\n      dataObj: fieldData,\n      dataProp: safeAttr,\n      i: Object.keys(fieldData.attrs).length,\n      panelType: \'attrs\'\n    };\n\n    var existingAttr = editGroup.querySelector(\'.attrs-\' + safeAttr + \'-wrap\');\n    var newAttr = _dom2.default.create(_this.panelContent(args));\n    if (existingAttr) {\n      editGroup.replaceChild(newAttr, existingAttr);\n    } else {\n      editGroup.appendChild(newAttr);\n    }\n\n    _data.data.save(args.panelType, editGroup);\n    _this.updatePreview();\n    _this.resizePanelWrap();\n  };\n\n  Field.prototype.addOption = function addOption() {\n    var _this = this;\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var optionData = fieldData[\'options\'];\n    var editGroup = field.querySelector(\'.field-edit-options\');\n    var propData = (0, _utils.cleanObj)(optionData[optionData.length - 1]);\n    fieldData.options.push(propData);\n\n    var args = {\n      i: editGroup.childNodes.length,\n      dataProp: propData,\n      dataObj: fieldData,\n      panelType: \'options\',\n      propType: \'array\'\n    };\n\n    editGroup.appendChild(_dom2.default.create(_this.panelContent(args)));\n    _this.resizePanelWrap();\n\n    _data.data.save();\n    _dom2.default.empty(_this.preview);\n    var newPreview = _dom2.default.create(_data.formData.fields.get(_this.fieldID), true);\n    _this.preview.appendChild(newPreview);\n  };\n\n  Field.prototype.panelEditButtons = function panelEditButtons(type) {\n    var _this = this;\n    var addBtn = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'add-\' + type\n      },\n      content: _mi18n2.default.get(\'panelEditButtons.\' + type),\n      action: {\n        click: function click(evt) {\n          var addEvt = {\n            btnCoords: _dom2.default.coords(evt.target)\n          };\n\n          if (type === \'attrs\') {\n            addEvt.addAction = _this.addAttribute.bind(_this);\n            addEvt.message = {\n              attr: _mi18n2.default.get(\'action.add.attrs.attr\'),\n              value: _mi18n2.default.get(\'action.add.attrs.value\')\n            };\n          } else if (type === \'options\') {\n            addEvt.addAction = _this.addOption.bind(_this);\n          }\n\n          var eventType = _helpers2.default.capitalize(type);\n          var customEvt = new CustomEvent(\'onAdd\' + eventType, {\n            detail: addEvt\n          });\n\n          _actions2.default.add[type](addEvt);\n\n          document.dispatchEvent(customEvt);\n        }\n      }\n    };\n    var panelEditButtons = {\n      tag: \'div\',\n      attrs: {\n        className: \'panel-action-buttons\'\n      },\n      content: [addBtn]\n    };\n\n    return panelEditButtons;\n  };\n\n  Field.prototype.fieldEdit = function fieldEdit() {\n    var _this = this;\n    var panels = [];\n    var editable = [\'object\', \'array\'];\n    var noPanels = [\'config\', \'meta\', \'action\'];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var allowedPanels = Object.keys(fieldData).filter(function (elem) {\n      return !_helpers2.default.inArray(elem, noPanels);\n    });\n\n    var fieldEdit = {\n      tag: \'div\',\n      className: [\'field-edit\', \'slide-toggle\', \'panels-wrap\']\n    };\n\n    _helpers2.default.forEach(allowedPanels, function (panelType, i) {\n      var propType = _dom2.default.contentType(fieldData[panelType]);\n      if (_helpers2.default.inArray(propType, editable)) {\n        var panel = {\n          tag: \'div\',\n          attrs: {\n            className: \'f-panel \' + panelType + \'-panel\'\n          },\n          config: {\n            label: _mi18n2.default.get(\'panelLabels.\' + panelType) || \'\'\n          },\n          content: [_this.editPanel(panelType), _this.panelEditButtons(panelType)],\n          action: {}\n        };\n\n        panels.push(panel);\n      }\n    });\n\n    var panelsConfig = {\n      panels: panels,\n      id: _this.fieldID\n    };\n\n    if (panels.length) {\n      var editPanels = _this.panels = new _panels2.default(panelsConfig);\n      fieldEdit.className.push(\'panel-count-\' + panels.length);\n      fieldEdit.content = editPanels.content;\n      _this.panelNav = editPanels.nav;\n      _this.resizePanelWrap = editPanels.actions.resize;\n    } else {\n      setTimeout(function () {\n        var field = _dom2.default.fields.get(_this.fieldID).field;\n        var editToggle = field.querySelector(\'.item-edit-toggle\');\n        var fieldActions = field.querySelector(\'.field-actions\');\n        var actionButtons = fieldActions.getElementsByTagName(\'button\');\n        fieldActions.style.maxWidth = actionButtons.length * 24 + \'px\';\n        _dom2.default.remove(editToggle);\n      }, 0);\n    }\n\n    return fieldEdit;\n  };\n\n  Field.prototype.fieldPreview = function fieldPreview() {\n    var _this = this;\n    var fieldData = (0, _utils.clone)(_data.formData.fields.get(_this.fieldID));\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var togglePreviewEdit = function togglePreviewEdit(evt) {\n      var column = field.parentElement;\n      if (evt.target.contentEditable === \'true\') {\n        if (_helpers2.default.inArray(evt.type, [\'focus\', \'blur\'])) {\n          var isActive = document.activeElement === evt.target;\n          column.classList.toggle(\'editing-field-preview\', isActive);\n          _dom2.default.toggleSortable(field.parentElement, evt.type === \'focus\');\n        } else if (_helpers2.default.inArray(evt.type, [\'mousedown\', \'mouseup\'])) {\n          _dom2.default.toggleSortable(field.parentElement, evt.type === \'mousedown\');\n        }\n      }\n    };\n\n    fieldData.id = \'prev-\' + _this.fieldID;\n\n    var fieldPreview = {\n      tag: \'div\',\n      attrs: {\n        className: \'field-preview\'\n      },\n      content: _dom2.default.create(fieldData, true),\n      action: {\n        focus: togglePreviewEdit,\n        blur: togglePreviewEdit,\n        mousedown: togglePreviewEdit,\n        mouseup: togglePreviewEdit,\n        change: function change(evt) {\n          var target = evt.target;\n\n          if (target.fMap) {\n            var _fieldData = _data.formData.fields.get(_this.fieldID);\n            var checked = target.checked,\n                type = target.type,\n                fMap = target.fMap;\n\n            if (_helpers2.default.inArray(type, [\'checkbox\', \'radio\'])) {\n              var options = _fieldData.options;\n\n              if (type === \'radio\') {\n                options.forEach(function (option) {\n                  return option.selected = false;\n                });\n              }\n              _helpers2.default.set(_fieldData, fMap, checked);\n\n              _data.data.save();\n            }\n          }\n        },\n        click: function click(evt) {\n          if (evt.target.contentEditable === \'true\') {\n            evt.preventDefault();\n          }\n        },\n        input: function input(evt) {\n          var fieldData = _data.formData.fields.get(_this.fieldID);\n          var prop = \'content\';\n          if (evt.target.fMap) {\n            prop = evt.target.fMap;\n          }\n          if (evt.target.contentEditable === \'true\') {\n            _helpers2.default.set(fieldData, prop, evt.target.innerHTML);\n          } else {\n            _helpers2.default.set(fieldData, prop, evt.target.value);\n          }\n          _data.data.save(\'field\', _this.fieldID);\n        }\n      }\n    };\n\n    return fieldPreview;\n  };\n\n  return Field;\n}();\n\nexports.default = Field;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvZmllbGQuanM/MGNiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBhbmltYXRlIGZyb20gJy4uL2NvbW1vbi9hbmltYXRpb24nO1xuaW1wb3J0IGggZnJvbSAnLi4vY29tbW9uL2hlbHBlcnMnO1xuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi4vY29tbW9uL2FjdGlvbnMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCBQYW5lbHMgZnJvbSAnLi9wYW5lbHMnO1xuaW1wb3J0IHt1dWlkLCBjbG9uZSwgY2xlYW5PYmp9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogRWxlbWVudC9GaWVsZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGQge1xuXG4gIC8qKlxuICAgKiBTZXQgZGVmYXVsdHMgYW5kIGxvYWQgZmllbGREYXRhXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YUlEIGV4aXN0aW5nIGZpZWxkIElEXG4gICAqIEByZXR1cm4ge09iamVjdH0gZmllbGQgb2JqZWN0XG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhSUQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoZGF0YUlEKSB8fCBjbG9uZShyRmllbGRzW2RhdGFJRF0pO1xuICAgIF90aGlzLmZpZWxkSUQgPSBmaWVsZERhdGEuaWQgfHwgdXVpZCgpO1xuICAgIF90aGlzLm1ldGFJRCA9IGZpZWxkRGF0YS5tZXRhLmlkO1xuICAgIGZpZWxkRGF0YS5pZCA9IF90aGlzLmZpZWxkSUQ7XG5cbiAgICBmb3JtRGF0YS5maWVsZHMuc2V0KF90aGlzLmZpZWxkSUQsIGZpZWxkRGF0YSk7XG4gICAgdGhpcy5maWVsZERhdGEgPSBmaWVsZERhdGE7XG5cbiAgICBsZXQgZmllbGQgPSB7XG4gICAgICB0YWc6ICdsaScsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6IGBzdGFnZS1maWVsZHMgZmllbGQtdHlwZS0ke2ZpZWxkRGF0YS5tZXRhLmlkfWBcbiAgICAgIH0sXG4gICAgICBpZDogX3RoaXMuZmllbGRJRCxcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgZG9tLmFjdGlvbkJ1dHRvbnMoX3RoaXMuZmllbGRJRCwgJ2ZpZWxkJyksIC8vIGZpZWxkRWRpdCB3aW5kb3dcbiAgICAgICAgX3RoaXMuZmllbGRFZGl0KCksIC8vIGZpZWxkRWRpdCB3aW5kb3dcbiAgICAgIF0sXG4gICAgICBwYW5lbE5hdjogX3RoaXMucGFuZWxOYXYsXG4gICAgICBkYXRhc2V0OiB7XG4gICAgICAgIGhvdmVyVGFnOiBpMThuLmdldCgnZmllbGQnKVxuICAgICAgfSxcbiAgICAgIGZUeXBlOiAnZmllbGRzJyxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBtb3VzZWVudGVyOiBldnQgPT4ge1xuICAgICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2hvdmVyaW5nLWZpZWxkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbGVhdmU6IGV2dCA9PiB7XG4gICAgICAgICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMuZmllbGRJRCk7XG4gICAgICAgICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBmaWVsZCA9IGRvbS5jcmVhdGUoZmllbGQpO1xuXG4gICAgZG9tLmZpZWxkcy5zZXQoX3RoaXMuZmllbGRJRCwge1xuICAgICAgZmllbGQsXG4gICAgICBpbnN0YW5jZTogX3RoaXNcbiAgICB9KTtcblxuICAgIF90aGlzLnByZXZpZXcgPSBkb20uY3JlYXRlKF90aGlzLmZpZWxkUHJldmlldygpKTtcbiAgICBmaWVsZC5hcHBlbmRDaGlsZChfdGhpcy5wcmV2aWV3KTtcblxuICAgIHJldHVybiBmaWVsZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgZmllbGQncyBwcmV2aWV3XG4gICAqIEByZXR1cm4ge09iamVjdH0gZnJlc2ggcHJldmlld1xuICAgKi9cbiAgdXBkYXRlUHJldmlldygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBmaWVsZERhdGEgPSBoLmNvcHlPYmooZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKSk7XG4gICAgbGV0IG5ld1ByZXZpZXcgPSBkb20uY3JlYXRlKGZpZWxkRGF0YSwgdHJ1ZSk7XG4gICAgZG9tLmVtcHR5KF90aGlzLnByZXZpZXcpO1xuICAgIF90aGlzLnByZXZpZXcuYXBwZW5kQ2hpbGQobmV3UHJldmlldyk7XG5cbiAgICByZXR1cm4gbmV3UHJldmlldztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgdGhlIGVkaXQgcGFuZWwgZm9yIGF0dHJzLCBtZXRhIGFuZCBvcHRpb25zIGZvciBhIGZpZWxkcyhzKVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhbmVsVHlwZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGFPYmogICBmaWVsZCBjb25maWcgb2JqZWN0XG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgIGZvcm1lbyBET00gY29uZmlnIG9iamVjdFxuICAgKi9cbiAgZWRpdFBhbmVsKHBhbmVsVHlwZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgbGV0IHByb3BUeXBlO1xuICAgIGxldCBwYW5lbDtcbiAgICBsZXQgcGFuZWxXcmFwID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogJ2YtcGFuZWwtd3JhcCcsXG4gICAgICBjb250ZW50OiBbXVxuICAgIH07XG5cbiAgICBpZiAoZmllbGREYXRhW3BhbmVsVHlwZV0pIHtcbiAgICAgIHBhbmVsID0ge1xuICAgICAgICB0YWc6ICd1bCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBbXG4gICAgICAgICAgICAnZmllbGQtZWRpdC1ncm91cCcsXG4gICAgICAgICAgICAnZmllbGQtZWRpdC0nICsgcGFuZWxUeXBlXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBlZGl0R3JvdXA6IHBhbmVsVHlwZSxcbiAgICAgICAgaXNTb3J0YWJsZTogKHBhbmVsVHlwZSA9PT0gJ29wdGlvbnMnKSxcbiAgICAgICAgY29udGVudDogW11cbiAgICAgIH07XG4gICAgICBwcm9wVHlwZSA9IGRvbS5jb250ZW50VHlwZShmaWVsZERhdGFbcGFuZWxUeXBlXSk7XG5cbiAgICAgIHBhbmVsV3JhcC5jb250ZW50LnB1c2gocGFuZWwpO1xuXG4gICAgICBsZXQgcGFuZWxBcnJheTtcbiAgICAgIGlmIChwcm9wVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAvLyBsZXQgcHJvcHMgPSBPYmplY3Qua2V5cyhmaWVsZERhdGFbcGFuZWxUeXBlXVswXSk7XG4gICAgICAgIC8vIGxldCBwYW5lbExhYmVscyA9IHtcbiAgICAgICAgLy8gICB0YWc6ICdkaXYnLFxuICAgICAgICAvLyAgIGNsYXNzTmFtZTogJ2lucHV0LWdyb3VwJyxcbiAgICAgICAgLy8gICBjb250ZW50OiBwcm9wcy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgLy8gICAgIGxldCBsYWJlbCA9IHtcbiAgICAgICAgLy8gICAgICAgdGFnOiAnbGFiZWwnLFxuICAgICAgICAvLyAgICAgICBjbGFzc05hbWU6IFsncHJvcC1sYWJlbC0nICsgZWxlbV0sXG4gICAgICAgIC8vICAgICAgIGNvbnRlbnQ6IGguY2FwaXRhbGl6ZShlbGVtKVxuICAgICAgICAvLyAgICAgfTtcblxuICAgICAgICAvLyAgICAgaWYgKHR5cGVvZiBmaWVsZERhdGFbcGFuZWxUeXBlXVswXVtlbGVtXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIC8vICAgICAgIGxhYmVsLnRhZyA9ICdzcGFuJztcbiAgICAgICAgLy8gICAgICAgbGFiZWwuY2xhc3NOYW1lLnB1c2goJ2lucHV0LWdyb3VwLWFkZG9uJyk7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gICAgIHJldHVybiBsYWJlbDtcbiAgICAgICAgLy8gICB9KVxuICAgICAgICAvLyB9O1xuICAgICAgICAvLyBsZXQgbGFiZWxXcmFwID0ge1xuICAgICAgICAvLyAgIHRhZzogJ2hlYWRlcicsXG4gICAgICAgIC8vICAgY29udGVudDogcGFuZWxMYWJlbHMsXG4gICAgICAgIC8vICAgY2xhc3NOYW1lOiAncHJvcC1sYWJlbHMnXG4gICAgICAgIC8vIH07XG4gICAgICAgIC8vIHJlbW92aW5nIGxhYmVscyB1bnRpbCBmaW5kIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhlbS5cbiAgICAgICAgLy8gcGFuZWxXcmFwLmNvbnRlbnQudW5zaGlmdChsYWJlbFdyYXApO1xuICAgICAgICBwYW5lbEFycmF5ID0gZmllbGREYXRhW3BhbmVsVHlwZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYW5lbEFycmF5ID0gT2JqZWN0LmtleXMoZmllbGREYXRhW3BhbmVsVHlwZV0pO1xuICAgICAgfVxuXG4gICAgICBoLmZvckVhY2gocGFuZWxBcnJheSwgKGRhdGFQcm9wLCBpKSA9PiB7XG4gICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgIGksXG4gICAgICAgICAgZGF0YVByb3AsXG4gICAgICAgICAgZmllbGREYXRhLFxuICAgICAgICAgIHBhbmVsVHlwZSxcbiAgICAgICAgICBwcm9wVHlwZVxuICAgICAgICB9O1xuICAgICAgICBwYW5lbC5jb250ZW50LnB1c2goX3RoaXMucGFuZWxDb250ZW50KGFyZ3MpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYW5lbFdyYXA7XG4gIH1cblxuICAvKipcbiAgICogRmllbGQgcGFuZWwgY29udGVudHMsIGBhdHRyc2AsIGBvcHRpb25zYCwgYGNvbmZpZ2BcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhcmdzXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIHBhbmVsQ29udGVudChhcmdzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQge3BhbmVsVHlwZSwgZGF0YVByb3B9ID0gYXJncztcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcbiAgICBkYXRhUHJvcCA9ICh0eXBlb2YgZGF0YVByb3AgPT09ICdzdHJpbmcnKSA/IGRhdGFQcm9wIDogYXJncy5pO1xuICAgIGxldCBpZCA9IHV1aWQoKTtcbiAgICBsZXQgcHJvcFZhbCA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdW2RhdGFQcm9wXTtcbiAgICBsZXQgaW5wdXRzID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogWydwcm9wLWlucHV0cyddLFxuICAgICAgY29udGVudDogX3RoaXMuZWRpdFBhbmVsSW5wdXRzKGRhdGFQcm9wLCBwcm9wVmFsLCBwYW5lbFR5cGUsIGlkKVxuICAgIH07XG4gICAgbGV0IHByb3BlcnR5ID0ge1xuICAgICAgdGFnOiAnbGknLFxuICAgICAgY2xhc3NOYW1lOiBbYCR7cGFuZWxUeXBlfS0ke2RhdGFQcm9wfS13cmFwYCwgJ3Byb3Atd3JhcCddLFxuICAgICAgaWQ6IGlkLFxuICAgICAgY29udGVudDogW11cbiAgICB9O1xuICAgIGxldCBvcmRlciA9IHtcbiAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgY2xhc3NOYW1lOiAncHJvcC1vcmRlciBwcm9wLWNvbnRyb2wnLFxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCdtb3ZlLXZlcnRpY2FsJylcbiAgICB9O1xuICAgIGxldCByZW1vdmUgPSB7XG4gICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIGNsYXNzTmFtZTogJ3Byb3AtcmVtb3ZlIHByb3AtY29udHJvbCcsXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiAoZXZ0KSA9PiB7XG4gICAgICAgICAgYW5pbWF0ZS5zbGlkZVVwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb3BlcnR5LmlkKSwgMjUwLCBlbGVtID0+IHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBlbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcbiAgICAgICAgICAgIGxldCBmaWVsZFBhbmVsRGF0YSA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdO1xuICAgICAgICAgICAgZG9tLnJlbW92ZShlbGVtKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkUGFuZWxEYXRhKSkge1xuICAgICAgICAgICAgICBmaWVsZFBhbmVsRGF0YS5zcGxpY2UoZGF0YVByb3AsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmllbGRQYW5lbERhdGFbZGF0YVByb3BdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5zYXZlKHBhbmVsVHlwZSwgcGFyZW50KTtcbiAgICAgICAgICAgIGRvbS5lbXB0eShfdGhpcy5wcmV2aWV3KTtcbiAgICAgICAgICAgIGxldCBuZXdQcmV2aWV3ID0gZG9tLmNyZWF0ZShmaWVsZERhdGEsIHRydWUpO1xuICAgICAgICAgICAgX3RoaXMucHJldmlldy5hcHBlbmRDaGlsZChuZXdQcmV2aWV3KTtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29udGVudDogZG9tLmljb24oJ3JlbW92ZScpXG4gICAgfTtcbiAgICBsZXQgY29udHJvbHMgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiAncHJvcC1jb250cm9scycsXG4gICAgICBjb250ZW50OiBbcmVtb3ZlXVxuICAgIH07XG5cbiAgICBpZiAoYXJncy5wcm9wVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgaW5wdXRzLmNsYXNzTmFtZS5wdXNoKCdmLWlucHV0LWdyb3VwJyk7XG4gICAgICBjb250cm9scy5jb250ZW50LnVuc2hpZnQob3JkZXIpO1xuICAgIH1cblxuICAgIHByb3BlcnR5LnByb3BEYXRhID0gZmllbGREYXRhW3BhbmVsVHlwZV1bZGF0YVByb3BdO1xuXG4gICAgLy8gQ2hlY2tzIGlmIHRoZSBwcm9wZXJ0eSBpcyBhbGxvd2VkXG4gICAgaWYgKHRoaXMuaXNBbGxvd2VkQXR0cihkYXRhUHJvcCkpIHtcbiAgICAgIHByb3BlcnR5LmNvbnRlbnQucHVzaChjb250cm9scywgaW5wdXRzKTtcbiAgICB9XG5cbiAgICBwcm9wZXJ0eS5jbGFzc05hbWUucHVzaCgnY29udHJvbC1jb3VudC0nICsgY29udHJvbHMuY29udGVudC5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBpbnB1dHMgZm9yIGFuIGVkaXQgcGFuZWxcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwcm9wICAgICAgcHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IHByb3BWYWwgICBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhbmVsVHlwZSBhdHRycywgb3B0aW9ucywgY29uZmlnXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7QXJyYXl9IGVsZW1lbnQgY29uZmlnIGFycmF5XG4gICAqL1xuICBlZGl0UGFuZWxJbnB1dHMocHJvcCwgcHJvcFZhbCwgcGFuZWxUeXBlLCBpZCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlucHV0cyA9IFtdO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGNvbnN0IGlzT3B0aW9uID0gKHBhbmVsVHlwZSA9PT0gJ29wdGlvbnMnKTtcbiAgICBsZXQgcHJvY2Vzc1Byb3BlcnR5ID0gKGtleSwgdmFsKSA9PiB7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IGRvbS5jb250ZW50VHlwZSh2YWwpO1xuICAgICAgICBsZXQgcHJvcElzTnVtID0gKHR5cGVvZiBwcm9wID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGxldCBmTWFwID0gcGFuZWxUeXBlICsgJy4nICsga2V5O1xuXG4gICAgICAgIGlmIChwcm9wSXNOdW0pIHtcbiAgICAgICAgICBmTWFwID0gYCR7cGFuZWxUeXBlfVske3Byb3B9XS4ke2tleX1gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGVBdHRycyA9IChrZXksIHZhbCwgdHlwZSkgPT4ge1xuICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IGkxOG4uZ2V0KGBwbGFjZWhvbGRlci4ke2tleX1gKSB8fCBoLmNhcGl0YWxpemUoa2V5KTtcbiAgICAgICAgICBsZXQgYXR0cnMgPSB7XG4gICAgICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvb2xlYW46IHtcbiAgICAgICAgICAgICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvb2xUeXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmllbGREYXRhLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgYXR0clR5cGUgPSBfdGhpcy5maWVsZERhdGEuYXR0cnMudHlwZTtcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRyVHlwZSA9PT0gJ3JhZGlvJyAmJiBrZXkgPT09ICdzZWxlY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9vbFR5cGUgPSAncmFkaW8nO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYm9vbFR5cGU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGF0dHJzW3R5cGVdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbnB1dExhYmVsID0ga2V5ID0+IHtcbiAgICAgICAgICAgIGxldCBsYWJlbEtleSA9IHBhbmVsVHlwZSArICcuJyArIGtleTtcbiAgICAgICAgICAgIHJldHVybiBpMThuLmdldChsYWJlbEtleSkgfHwgaC5jYXBpdGFsaXplKGtleSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlJbnB1dHMgPSB7XG4gICAgICAgICAgYXJyYXk6IChrZXksIHZhbCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNlbGVjdCA9IHtcbiAgICAgICAgICAgICAgZk1hcCxcbiAgICAgICAgICAgICAgdGFnOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgaWQ6IGAke3Byb3B9LSR7aWR9YCxcbiAgICAgICAgICAgICAgYXR0cnM6IHR5cGVBdHRycyhrZXksIHZhbCwgJ2FycmF5JyksXG4gICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBpbnB1dExhYmVsKGtleSksXG4gICAgICAgICAgICAgICAgaGlkZUxhYmVsOiBpc09wdGlvblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb250ZW50OiB2YWwubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdvcHRpb24nLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHYudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB2LnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY29udGVudDogdi5sYWJlbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IGV2dCA9PiB7XG4gICAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICBsZXQgcHJvcERhdGEgPSBmaWVsZERhdGFbcGFuZWxUeXBlXVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25EYXRhID0gaXNPcHRpb24gPyBwcm9wRGF0YVtrZXldIDogcHJvcERhdGE7XG4gICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBvcHRpb25EYXRhLm1hcCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgICAgIGxldCB7c2VsZWN0ZWQsIC4uLm9wdGlvbn0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB2YWx1ZXMuaW5kZXhPZihldnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2luZGV4XS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBoLnNldChmaWVsZERhdGEsIGZNYXAsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RyaW5nOiAoa2V5LCB2YWwpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgZk1hcCxcbiAgICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICAgICAgICBpZDogYCR7cHJvcH0tJHtpZH1gLFxuICAgICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnc3RyaW5nJyksXG4gICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgICBkYXRhLnNhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoIXByb3BJc051bSkge1xuICAgICAgICAgICAgICBpbnB1dC5jb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWwoa2V5KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib29sZWFuOiAoa2V5LCB2YWwpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnYm9vbGVhbicpLFxuICAgICAgICAgICAgICBmTWFwLFxuICAgICAgICAgICAgICBpZDogcHJvcCArICctJyArIGlkLFxuICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5maWVsZElEICsgJy1zZWxlY3RlZCcsXG4gICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgaW5wdXQuYXR0cnMuY2hlY2tlZCA9IHZhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BJc051bSkge1xuICAgICAgICAgICAgICBsZXQgYWRkb24gPSB7XG4gICAgICAgICAgICAgICAgdGFnOiAnc3BhbicsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZi1hZGRvbicsXG4gICAgICAgICAgICAgICAgY29udGVudDogZG9tLmNoZWNrYm94KGlucHV0KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpbnB1dCA9IGFkZG9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaW5wdXQuY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBpbnB1dExhYmVsKGtleSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvYmplY3Q6IChvYmpLZXksIG9ialZhbCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlucHV0cyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBvYmpQcm9wIGluIG9ialZhbCkge1xuICAgICAgICAgICAgICBpZiAob2JqVmFsLmhhc093blByb3BlcnR5KG9ialByb3ApKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRzLnB1c2gocHJvY2Vzc1Byb3BlcnR5KG9ialByb3AsIG9ialZhbFtvYmpQcm9wXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3BlcnR5SW5wdXRzLm51bWJlciA9IHByb3BlcnR5SW5wdXRzLnN0cmluZztcblxuICAgICAgICByZXR1cm4gcHJvcGVydHlJbnB1dHNbcHJvcFR5cGVdKGtleSwgdmFsKTtcbiAgICAgIH07XG5cbiAgICBpbnB1dHMucHVzaChwcm9jZXNzUHJvcGVydHkocHJvcCwgcHJvcFZhbCkpO1xuXG4gICAgcmV0dXJuIGlucHV0cztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhdHRyaWJ1dGUgaXMgYWxsb3dlZCB0byBiZSBlZGl0ZWRcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgYXR0clxuICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGlzQWxsb3dlZEF0dHIoYXR0ciA9ICd0eXBlJykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFsbG93ZWQgPSB0cnVlO1xuICAgIGxldCBkaXNhYmxlZEF0dHJzID0gckZpZWxkc1tfdGhpcy5tZXRhSURdLmNvbmZpZy5kaXNhYmxlZEF0dHJzO1xuICAgIGlmIChkaXNhYmxlZEF0dHJzKSB7XG4gICAgICBhbGxvd2VkID0gIWguaW5BcnJheShhdHRyLCBkaXNhYmxlZEF0dHJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsb3dlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgYXR0cmlidXRlIHRvIHRoZSBhdHRycyBwYW5lbHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IHZhbFxuICAgKi9cbiAgYWRkQXR0cmlidXRlKGF0dHIsIHZhbCkge1xuICAgIGlmICghdGhpcy5pc0FsbG93ZWRBdHRyKGF0dHIpKSB7XG4gICAgICB3aW5kb3cuYWxlcnQoYEF0dHJpYnV0ZSBcIiR7YXR0cn1cIjogbm90IHBlcm1pdHRlZGApO1xuICAgIH1cblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMuZmllbGRJRCk7XG4gICAgbGV0IGVkaXRHcm91cCA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1lZGl0LWF0dHJzJyk7XG4gICAgbGV0IHNhZmVBdHRyID0gaC5oeXBoZW5DYXNlKGF0dHIpO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGNvbnN0IGxhYmVsS2V5ID0gYGF0dHJzLiR7c2FmZUF0dHJ9YDtcblxuICAgIGlmICghaTE4bi5jdXJyZW50W2xhYmVsS2V5XSkge1xuICAgICAgaTE4bi5wdXQobGFiZWxLZXksIGguY2FwaXRhbGl6ZShhdHRyKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIGguaW5BcnJheSh2YWwsIFsndHJ1ZScsICdmYWxzZSddKSkge1xuICAgICAgdmFsID0gSlNPTi5wYXJzZSh2YWwpO1xuICAgIH1cblxuICAgIGZpZWxkRGF0YS5hdHRyc1tzYWZlQXR0cl0gPSB2YWw7XG5cbiAgICBsZXQgYXJncyA9IHtcbiAgICAgIGRhdGFPYmo6IGZpZWxkRGF0YSxcbiAgICAgIGRhdGFQcm9wOiBzYWZlQXR0cixcbiAgICAgIGk6IE9iamVjdC5rZXlzKGZpZWxkRGF0YS5hdHRycykubGVuZ3RoLFxuICAgICAgcGFuZWxUeXBlOiAnYXR0cnMnXG4gICAgfTtcblxuICAgIGxldCBleGlzdGluZ0F0dHIgPSBlZGl0R3JvdXAucXVlcnlTZWxlY3RvcihgLmF0dHJzLSR7c2FmZUF0dHJ9LXdyYXBgKTtcbiAgICBsZXQgbmV3QXR0ciA9IGRvbS5jcmVhdGUoX3RoaXMucGFuZWxDb250ZW50KGFyZ3MpKTtcbiAgICBpZiAoZXhpc3RpbmdBdHRyKSB7XG4gICAgICBlZGl0R3JvdXAucmVwbGFjZUNoaWxkKG5ld0F0dHIsIGV4aXN0aW5nQXR0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChuZXdBdHRyKTtcbiAgICB9XG5cbiAgICBkYXRhLnNhdmUoYXJncy5wYW5lbFR5cGUsIGVkaXRHcm91cCk7XG4gICAgX3RoaXMudXBkYXRlUHJldmlldygpO1xuICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBvcHRpb24gdG8gb3B0aW9ucyBwYW5lbFxuICAgKi9cbiAgYWRkT3B0aW9uKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgbGV0IG9wdGlvbkRhdGEgPSBmaWVsZERhdGFbJ29wdGlvbnMnXTtcbiAgICBsZXQgZWRpdEdyb3VwID0gZmllbGQucXVlcnlTZWxlY3RvcignLmZpZWxkLWVkaXQtb3B0aW9ucycpO1xuICAgIGxldCBwcm9wRGF0YSA9IGNsZWFuT2JqKG9wdGlvbkRhdGFbb3B0aW9uRGF0YS5sZW5ndGgtMV0pO1xuICAgIGZpZWxkRGF0YS5vcHRpb25zLnB1c2gocHJvcERhdGEpO1xuXG4gICAgbGV0IGFyZ3MgPSB7XG4gICAgICBpOiBlZGl0R3JvdXAuY2hpbGROb2Rlcy5sZW5ndGgsXG4gICAgICBkYXRhUHJvcDogcHJvcERhdGEsXG4gICAgICBkYXRhT2JqOiBmaWVsZERhdGEsXG4gICAgICBwYW5lbFR5cGU6ICdvcHRpb25zJyxcbiAgICAgIHByb3BUeXBlOiAnYXJyYXknXG4gICAgfTtcblxuICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChkb20uY3JlYXRlKF90aGlzLnBhbmVsQ29udGVudChhcmdzKSkpO1xuICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xuXG4gICAgLy8gU2F2ZSBGaWVsZHMgQXR0cnNcbiAgICBkYXRhLnNhdmUoKTtcbiAgICBkb20uZW1wdHkoX3RoaXMucHJldmlldyk7XG4gICAgbGV0IG5ld1ByZXZpZXcgPSBkb20uY3JlYXRlKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCksIHRydWUpO1xuICAgIF90aGlzLnByZXZpZXcuYXBwZW5kQ2hpbGQobmV3UHJldmlldyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgZWRpdCBidXR0b25zIGZvciBpbnRlcmFjdGluZyB3aXRoIGF0dHJzIGFuZCBvcHRpb25zIHBhbmVsXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhbmVsIGVkaXQgYnV0dG9ucyBjb25maWdcbiAgICovXG4gIHBhbmVsRWRpdEJ1dHRvbnModHlwZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFkZEJ0biA9IHtcbiAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICBjbGFzc05hbWU6IGBhZGQtJHt0eXBlfWBcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogaTE4bi5nZXQoYHBhbmVsRWRpdEJ1dHRvbnMuJHt0eXBlfWApLFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjbGljazogKGV2dCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZEV2dCA9IHtcbiAgICAgICAgICAgICAgYnRuQ29vcmRzOiBkb20uY29vcmRzKGV2dC50YXJnZXQpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2F0dHJzJykge1xuICAgICAgICAgICAgICBhZGRFdnQuYWRkQWN0aW9uID0gX3RoaXMuYWRkQXR0cmlidXRlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgICBhZGRFdnQubWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyOiBpMThuLmdldCgnYWN0aW9uLmFkZC5hdHRycy5hdHRyJyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGkxOG4uZ2V0KCdhY3Rpb24uYWRkLmF0dHJzLnZhbHVlJylcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgICAgICAgIGFkZEV2dC5hZGRBY3Rpb24gPSBfdGhpcy5hZGRPcHRpb24uYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBldmVudFR5cGUgPSBoLmNhcGl0YWxpemUodHlwZSk7XG4gICAgICAgICAgICBsZXQgY3VzdG9tRXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGBvbkFkZCR7ZXZlbnRUeXBlfWAsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiBhZGRFdnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBSdW4gQWN0aW9uIEhvb2tcbiAgICAgICAgICAgIGFjdGlvbnMuYWRkW3R5cGVdKGFkZEV2dCk7XG5cbiAgICAgICAgICAgIC8vIEZpcmUgRXZlbnRcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZ0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgbGV0IHBhbmVsRWRpdEJ1dHRvbnMgPSB7XG4gICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncGFuZWwtYWN0aW9uLWJ1dHRvbnMnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IFthZGRCdG5dXG4gICAgICB9O1xuXG4gICAgcmV0dXJuIHBhbmVsRWRpdEJ1dHRvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIG1hcmt1cCBmb3IgZmllbGQgZWRpdCBtb2RlXG4gICAqIEByZXR1cm4ge09iamVjdH0gZmllbGRFZGl0IGVsZW1lbnQgY29uZmlnXG4gICAqL1xuICBmaWVsZEVkaXQoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcGFuZWxzID0gW107XG4gICAgbGV0IGVkaXRhYmxlID0gWydvYmplY3QnLCAnYXJyYXknXTtcbiAgICBsZXQgbm9QYW5lbHMgPSBbJ2NvbmZpZycsICdtZXRhJywgJ2FjdGlvbiddO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGxldCBhbGxvd2VkUGFuZWxzID0gT2JqZWN0LmtleXMoZmllbGREYXRhKS5maWx0ZXIoZWxlbSA9PiB7XG4gICAgICAgIHJldHVybiAhaC5pbkFycmF5KGVsZW0sIG5vUGFuZWxzKTtcbiAgICAgIH0pO1xuXG4gICAgbGV0IGZpZWxkRWRpdCA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6IFsnZmllbGQtZWRpdCcsICdzbGlkZS10b2dnbGUnLCAncGFuZWxzLXdyYXAnXVxuICAgIH07XG5cbiAgICBoLmZvckVhY2goYWxsb3dlZFBhbmVscywgKHBhbmVsVHlwZSwgaSkgPT4ge1xuICAgICAgbGV0IHByb3BUeXBlID0gZG9tLmNvbnRlbnRUeXBlKGZpZWxkRGF0YVtwYW5lbFR5cGVdKTtcbiAgICAgIGlmIChoLmluQXJyYXkocHJvcFR5cGUsIGVkaXRhYmxlKSkge1xuICAgICAgICBsZXQgcGFuZWwgPSB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBgZi1wYW5lbCAke3BhbmVsVHlwZX0tcGFuZWxgXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldChgcGFuZWxMYWJlbHMuJHtwYW5lbFR5cGV9YCkgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgIF90aGlzLmVkaXRQYW5lbChwYW5lbFR5cGUpLFxuICAgICAgICAgICAgX3RoaXMucGFuZWxFZGl0QnV0dG9ucyhwYW5lbFR5cGUpXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgIC8vIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgLy8gICBpZiAoZXZ0LnRhcmdldC5mTWFwKSB7XG4gICAgICAgICAgICAvLyAgICAgbGV0IHZhbHVlID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIC8vICAgICBsZXQgdGFyZ2V0VHlwZSA9IGV2dC50YXJnZXQudHlwZTtcbiAgICAgICAgICAgIC8vICAgICBpZiAodGFyZ2V0VHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0YXJnZXRUeXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAvLyAgICAgICBsZXQgb3B0aW9ucyA9IGZpZWxkRGF0YS5vcHRpb25zO1xuICAgICAgICAgICAgLy8gICAgICAgdmFsdWUgPSBldnQudGFyZ2V0LmNoZWNrZWQ7XG5cbiAgICAgICAgICAgIC8vICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xuICAgICAgICAgICAgLy8gICAgICAgaWYgKGV2dC50YXJnZXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgLy8gICAgICAgICBvcHRpb25zLmZvckVhY2gob3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlKTtcbiAgICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgICAgIC8vICAgICBoLnNldChmaWVsZERhdGEsIGV2dC50YXJnZXQuZk1hcCwgdmFsdWUpO1xuICAgICAgICAgICAgLy8gICAgIGRhdGEuc2F2ZShwYW5lbFR5cGUsIF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgLy8gICAgIC8vIHRocm90dGxlIHRoaXMgZm9yIHN1cmVcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcGFuZWxzLnB1c2gocGFuZWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHBhbmVsc0NvbmZpZyA9IHtcbiAgICAgIHBhbmVscyxcbiAgICAgIGlkOiBfdGhpcy5maWVsZElEXG4gICAgfTtcblxuICAgIGlmIChwYW5lbHMubGVuZ3RoKSB7XG4gICAgICBsZXQgZWRpdFBhbmVscyA9IF90aGlzLnBhbmVscyA9IG5ldyBQYW5lbHMocGFuZWxzQ29uZmlnKTtcbiAgICAgIGZpZWxkRWRpdC5jbGFzc05hbWUucHVzaCgncGFuZWwtY291bnQtJyArIHBhbmVscy5sZW5ndGgpO1xuICAgICAgZmllbGRFZGl0LmNvbnRlbnQgPSBlZGl0UGFuZWxzLmNvbnRlbnQ7XG4gICAgICBfdGhpcy5wYW5lbE5hdiA9IGVkaXRQYW5lbHMubmF2O1xuICAgICAgX3RoaXMucmVzaXplUGFuZWxXcmFwID0gZWRpdFBhbmVscy5hY3Rpb25zLnJlc2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvbS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpLmZpZWxkO1xuICAgICAgICBsZXQgZWRpdFRvZ2dsZSA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLWVkaXQtdG9nZ2xlJyk7XG4gICAgICAgIGxldCBmaWVsZEFjdGlvbnMgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtYWN0aW9ucycpO1xuICAgICAgICBsZXQgYWN0aW9uQnV0dG9ucyA9IGZpZWxkQWN0aW9ucy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJyk7XG4gICAgICAgIGZpZWxkQWN0aW9ucy5zdHlsZS5tYXhXaWR0aCA9IGAke2FjdGlvbkJ1dHRvbnMubGVuZ3RoICogMjR9cHhgO1xuICAgICAgICBkb20ucmVtb3ZlKGVkaXRUb2dnbGUpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkRWRpdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBmaWVsZCBwcmV2aWV3IGNvbmZpZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZpZWxkUHJldmlld1xuICAgKi9cbiAgZmllbGRQcmV2aWV3KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGNsb25lKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkpO1xuICAgIGNvbnN0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XG4gICAgY29uc3QgdG9nZ2xlUHJldmlld0VkaXQgPSBldnQgPT4ge1xuICAgICAgY29uc3QgY29sdW1uID0gZmllbGQucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGlmIChoLmluQXJyYXkoZXZ0LnR5cGUsIFsnZm9jdXMnLCAnYmx1ciddKSkge1xuICAgICAgICAgIGxldCBpc0FjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGV2dC50YXJnZXQ7XG4gICAgICAgICAgY29sdW1uLmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpbmctZmllbGQtcHJldmlldycsIGlzQWN0aXZlKTtcbiAgICAgICAgICBkb20udG9nZ2xlU29ydGFibGUoZmllbGQucGFyZW50RWxlbWVudCwgKGV2dC50eXBlID09PSAnZm9jdXMnKSk7XG4gICAgICAgIH0gZWxzZSBpZihoLmluQXJyYXkoZXZ0LnR5cGUsIFsnbW91c2Vkb3duJywgJ21vdXNldXAnXSkpIHtcbiAgICAgICAgICBkb20udG9nZ2xlU29ydGFibGUoZmllbGQucGFyZW50RWxlbWVudCwgKGV2dC50eXBlID09PSAnbW91c2Vkb3duJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpZWxkRGF0YS5pZCA9ICdwcmV2LScgKyBfdGhpcy5maWVsZElEO1xuXG4gICAgbGV0IGZpZWxkUHJldmlldyA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6ICdmaWVsZC1wcmV2aWV3J1xuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IGRvbS5jcmVhdGUoZmllbGREYXRhLCB0cnVlKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBmb2N1czogdG9nZ2xlUHJldmlld0VkaXQsXG4gICAgICAgIGJsdXI6IHRvZ2dsZVByZXZpZXdFZGl0LFxuICAgICAgICBtb3VzZWRvd246IHRvZ2dsZVByZXZpZXdFZGl0LFxuICAgICAgICBtb3VzZXVwOiB0b2dnbGVQcmV2aWV3RWRpdCxcbiAgICAgICAgY2hhbmdlOiBldnQgPT4ge1xuICAgICAgICAgIGxldCB7dGFyZ2V0fSA9IGV2dDtcbiAgICAgICAgICBpZiAodGFyZ2V0LmZNYXApIHtcbiAgICAgICAgICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgbGV0IHtjaGVja2VkLCB0eXBlLCBmTWFwfSA9IHRhcmdldDtcbiAgICAgICAgICAgIGlmIChoLmluQXJyYXkodHlwZSwgWydjaGVja2JveCcsICdyYWRpbyddKSkge1xuICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGZpZWxkRGF0YS5vcHRpb25zO1xuXG4gICAgICAgICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xuICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkID0gZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgY2hlY2tlZCk7XG5cbiAgICAgICAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnB1dDogZXZ0ID0+IHtcbiAgICAgICAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcbiAgICAgICAgICBsZXQgcHJvcCA9ICdjb250ZW50JztcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5mTWFwKSB7XG4gICAgICAgICAgICBwcm9wID0gZXZ0LnRhcmdldC5mTWFwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgaC5zZXQoZmllbGREYXRhLCBwcm9wLCBldnQudGFyZ2V0LmlubmVySFRNTCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgcHJvcCwgZXZ0LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEuc2F2ZSgnZmllbGQnLCBfdGhpcy5maWVsZElEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmllbGRQcmV2aWV3O1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9maWVsZC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFmQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBTUE7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUExQkE7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBdkJBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBbkJBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUxBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFOQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0dBO0FBQ0E7QUFpSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQTFCQTtBQVBBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFJQTtBQVpBO0FBQ0E7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUFOQTtBQUNBO0FBaURBO0FBQ0E7QUFDQTs7OztBQXZ0QkEiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Row = function () {\n  function Row(dataID) {\n    _classCallCheck(this, Row);\n\n    var _this = this;\n    var defaults = void 0;\n    var row = void 0;\n\n    var rowID = _this.rowID = dataID || (0, _utils.uuid)();\n\n    defaults = {\n      columns: [],\n      id: _this.rowID,\n      config: {\n        fieldset: false,\n        legend: \'\',\n        inputGroup: false },\n      attrs: {\n        className: \'f-row\'\n      }\n    };\n\n    var rowData = _data.formData.rows.get(rowID);\n\n    _data.formData.rows.set(rowID, _helpers2.default.merge(defaults, rowData));\n\n    row = {\n      tag: \'li\',\n      className: \'stage-rows empty-rows\',\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'row\'),\n        editingHoverTag: _mi18n2.default.get(\'editing.row\')\n      },\n      id: rowID,\n      content: [_dom2.default.actionButtons(rowID, \'row\'), _this.editWindow],\n      fType: \'rows\'\n    };\n\n    row = _dom2.default.create(row);\n\n    var sortable = _sortablejs2.default.create(row, {\n      animation: 150,\n      fallbackClass: \'column-moving\',\n      forceFallback: true,\n      group: { name: \'rows\', pull: true, put: [\'rows\', \'controls\', \'columns\'] },\n      sort: true,\n      onRemove: _this.onRemove,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      draggable: \'.stage-columns\',\n      filter: \'.resize-x-handle\'\n    });\n\n    _dom2.default.rows.set(rowID, { row: row, sortable: sortable });\n\n    return row;\n  }\n\n  Row.prototype.onSort = function onSort(evt) {\n    _data.data.saveColumnOrder(evt.target);\n    _data.data.save();\n  };\n\n  Row.prototype.onRemove = function onRemove(evt) {\n    _dom2.default.columnWidths(evt.from);\n    _data.data.saveColumnOrder(evt.target);\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Row.prototype.onEnd = function onEnd(evt) {\n    if (evt.from.classList.contains(\'empty-rows\')) {\n      _dom2.default.removeEmpty(evt.from);\n    }\n\n    _data.data.save();\n  };\n\n  Row.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromRow = from.fType === \'rows\';\n    var fromColumn = from.fType === \'columns\';\n    var fromControls = from.fType === \'controlGroup\';\n    var column = void 0;\n\n    if (fromRow) {\n      column = item;\n    } else if (fromColumn || fromControls) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], \'meta\');\n      if (meta.group !== \'layout\') {\n        column = _dom2.default.addColumn(to.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === \'layout-column\') {\n        _dom2.default.addColumn(to.id);\n      }\n    }\n\n    if (fromColumn || fromControls) {\n      _dom2.default.remove(item);\n    }\n\n    _data.data.saveColumnOrder(to);\n\n    _dom2.default.columnWidths(to);\n    _dom2.default.emptyClass(to);\n    _data.data.save();\n  };\n\n  _createClass(Row, [{\n    key: \'editWindow\',\n    get: function get() {\n      var _this = this;\n      var rowData = _data.formData.rows.get(_this.rowID);\n\n      var editWindow = {\n        tag: \'div\',\n        className: \'row-edit group-config\'\n      };\n      var fieldsetLabel = {\n        tag: \'label\',\n        content: _mi18n2.default.get(\'row.settings.fieldsetWrap\')\n      };\n      var fieldsetInput = {\n        tag: \'input\',\n        id: _this.rowID + \'-fieldset\',\n        attrs: {\n          type: \'checkbox\',\n          checked: rowData.config.fieldset,\n          ariaLabel: _mi18n2.default.get(\'row.settings.fieldsetWrap.aria\')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.fieldset = e.target.checked;\n            _data.data.save();\n          }\n        }\n      };\n\n      var inputGroupInput = {\n        tag: \'input\',\n        id: _this.rowID + \'-inputGroup\',\n        attrs: {\n          type: \'checkbox\',\n          checked: rowData.config.inputGroup,\n          ariaLabel: _mi18n2.default.get(\'row.settings.inputGroup.aria\')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.inputGroup = e.target.checked;\n            _data.data.save();\n          }\n        },\n        config: {\n          label: _mi18n2.default.get(\'row.makeInputGroup\'),\n          description: _mi18n2.default.get(\'row.makeInputGroupDesc\')\n        }\n      };\n\n      var inputAddon = {\n        tag: \'span\',\n        className: \'input-group-addon\',\n        content: fieldsetInput\n      };\n      var legendInput = {\n        tag: \'input\',\n        attrs: {\n          type: \'text\',\n          ariaLabel: \'Legend for fieldset\',\n          value: rowData.config.legend,\n          placeholder: \'Legend\'\n        },\n        action: {\n          input: function input(e) {\n            rowData.config.legend = e.target.value;\n            _data.data.save();\n          }\n        },\n        className: \'\'\n      };\n      var fieldsetInputGroup = {\n        tag: \'div\',\n        className: \'input-group\',\n        content: [inputAddon, legendInput]\n      };\n\n      var fieldSetControls = [fieldsetLabel, fieldsetInputGroup];\n      fieldSetControls = _dom2.default.formGroup(fieldSetControls);\n      var columnSettingsLabel = Object.assign({}, fieldsetLabel, {\n        content: \'Define column widths\'\n      });\n      var columnSettingsPresetLabel = Object.assign({}, fieldsetLabel, {\n        content: \'Layout Preset\', className: \'col-sm-4 form-control-label\'\n      });\n      var columnSettingsPresetSelect = {\n        tag: \'div\',\n        className: \'col-sm-8\',\n        content: _dom2.default.columnPresetControl(_this.rowID)\n      };\n      var formGroupContent = [columnSettingsPresetLabel, columnSettingsPresetSelect];\n      var columnSettingsPreset = _dom2.default.formGroup(formGroupContent, \'row\');\n\n      editWindow.content = [inputGroupInput, _dom2.default.create(\'hr\'), fieldSetControls, _dom2.default.create(\'hr\'), columnSettingsLabel, columnSettingsPreset];\n\n      return editWindow;\n    }\n  }]);\n\n  return Row;\n}();\n\nexports.default = Row;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzP2VkMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGEsIHJlZ2lzdGVyZWRGaWVsZHMgYXMgckZpZWxkc30gZnJvbSAnLi4vY29tbW9uL2RhdGEnO1xuaW1wb3J0IHt1dWlkfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIEVkaXRvciBSb3dcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93IHtcblxuICAvKipcbiAgICogU2V0IGRlZmF1bHQgYW5kIGdlbmVyYXRlIGRvbSBmb3Igcm93IGluIGVkaXRvclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGRhdGFJRFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhSUQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBkZWZhdWx0cztcbiAgICBsZXQgcm93O1xuXG4gICAgbGV0IHJvd0lEID0gX3RoaXMucm93SUQgPSBkYXRhSUQgfHwgdXVpZCgpO1xuXG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICBpZDogX3RoaXMucm93SUQsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGZpZWxkc2V0OiBmYWxzZSwgLy8gd3JhcCBjb250ZW50cyBvZiByb3cgaW4gZmllbGRzZXRcbiAgICAgICAgICBsZWdlbmQ6ICcnLCAvLyBMZWdlbmQgZm9yIGZpZWxkc2V0XG4gICAgICAgICAgaW5wdXRHcm91cDogZmFsc2UgLy8gaXMgcmVwZWF0YWJsZSBpbnB1dC1ncm91cD9cbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdmLXJvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQocm93SUQpO1xuXG4gICAgZm9ybURhdGEucm93cy5zZXQocm93SUQsIGgubWVyZ2UoZGVmYXVsdHMsIHJvd0RhdGEpKTtcblxuICAgIHJvdyA9IHtcbiAgICAgIHRhZzogJ2xpJyxcbiAgICAgIGNsYXNzTmFtZTogJ3N0YWdlLXJvd3MgZW1wdHktcm93cycsXG4gICAgICBkYXRhc2V0OiB7XG4gICAgICAgIGhvdmVyVGFnOiBpMThuLmdldCgncm93JyksXG4gICAgICAgIGVkaXRpbmdIb3ZlclRhZzogaTE4bi5nZXQoJ2VkaXRpbmcucm93JylcbiAgICAgIH0sXG4gICAgICBpZDogcm93SUQsXG4gICAgICBjb250ZW50OiBbZG9tLmFjdGlvbkJ1dHRvbnMocm93SUQsICdyb3cnKSwgX3RoaXMuZWRpdFdpbmRvd10sXG4gICAgICBmVHlwZTogJ3Jvd3MnXG4gICAgfTtcblxuICAgIHJvdyA9IGRvbS5jcmVhdGUocm93KTtcblxuICAgIGNvbnN0IHNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKHJvdywge1xuICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICBmYWxsYmFja0NsYXNzOiAnY29sdW1uLW1vdmluZycsXG4gICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLFxuICAgICAgZ3JvdXA6IHtuYW1lOiAncm93cycsIHB1bGw6IHRydWUsIHB1dDogWydyb3dzJywgJ2NvbnRyb2xzJywgJ2NvbHVtbnMnXX0sXG4gICAgICBzb3J0OiB0cnVlLFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLFxuICAgICAgb25FbmQ6IF90aGlzLm9uRW5kLFxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLFxuICAgICAgb25Tb3J0OiBfdGhpcy5vblNvcnQsXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2UtY29sdW1ucycsXG4gICAgICBmaWx0ZXI6ICcucmVzaXplLXgtaGFuZGxlJ1xuICAgIH0pO1xuXG4gICAgZG9tLnJvd3Muc2V0KHJvd0lELCB7cm93LCBzb3J0YWJsZX0pO1xuXG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBbZWRpdFdpbmRvdyBkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgZWRpdFdpbmRvdygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQoX3RoaXMucm93SUQpO1xuXG4gICAgbGV0IGVkaXRXaW5kb3cgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiAncm93LWVkaXQgZ3JvdXAtY29uZmlnJ1xuICAgIH07XG4gICAgbGV0IGZpZWxkc2V0TGFiZWwgPSB7XG4gICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICBjb250ZW50OiBpMThuLmdldCgncm93LnNldHRpbmdzLmZpZWxkc2V0V3JhcCcpXG4gICAgfTtcbiAgICBsZXQgZmllbGRzZXRJbnB1dCA9IHtcbiAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgIGlkOiBfdGhpcy5yb3dJRCArICctZmllbGRzZXQnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgY2hlY2tlZDogcm93RGF0YS5jb25maWcuZmllbGRzZXQsXG4gICAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXQoJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAuYXJpYScpXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiBlID0+IHtcbiAgICAgICAgICByb3dEYXRhLmNvbmZpZy5maWVsZHNldCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGlucHV0R3JvdXBJbnB1dCA9IHtcbiAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgIGlkOiBfdGhpcy5yb3dJRCArICctaW5wdXRHcm91cCcsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICBjaGVja2VkOiByb3dEYXRhLmNvbmZpZy5pbnB1dEdyb3VwLFxuICAgICAgICBhcmlhTGFiZWw6IGkxOG4uZ2V0KCdyb3cuc2V0dGluZ3MuaW5wdXRHcm91cC5hcmlhJylcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGUgPT4ge1xuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmlucHV0R3JvdXAgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgncm93Lm1ha2VJbnB1dEdyb3VwJyksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBpMThuLmdldCgncm93Lm1ha2VJbnB1dEdyb3VwRGVzYycpXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGxldCBmaWVsZHNldEFkZG9uID0gT2JqZWN0LmFzc2lnbih7fSwgZmllbGRzZXRMYWJlbCwge1xuICAgICAgLy8gY29udGVudDogW2ZpZWxkc2V0SW5wdXQsICcgRmllbGRzZXQnXVxuICAgIC8vIH0pO1xuICAgIGxldCBpbnB1dEFkZG9uID0ge1xuICAgICAgdGFnOiAnc3BhbicsXG4gICAgICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cC1hZGRvbicsXG4gICAgICBjb250ZW50OiBmaWVsZHNldElucHV0XG4gICAgfTtcbiAgICBsZXQgbGVnZW5kSW5wdXQgPSB7XG4gICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIGFyaWFMYWJlbDogJ0xlZ2VuZCBmb3IgZmllbGRzZXQnLFxuICAgICAgICB2YWx1ZTogcm93RGF0YS5jb25maWcubGVnZW5kLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0xlZ2VuZCdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgaW5wdXQ6IGUgPT4ge1xuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmxlZ2VuZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgIH07XG4gICAgbGV0IGZpZWxkc2V0SW5wdXRHcm91cCA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cCcsXG4gICAgICBjb250ZW50OiBbaW5wdXRBZGRvbiwgbGVnZW5kSW5wdXRdXG4gICAgfTtcblxuICAgIGxldCBmaWVsZFNldENvbnRyb2xzID0gW1xuICAgICAgZmllbGRzZXRMYWJlbCxcbiAgICAgIGZpZWxkc2V0SW5wdXRHcm91cFxuICAgIF07XG4gICAgZmllbGRTZXRDb250cm9scyA9IGRvbS5mb3JtR3JvdXAoZmllbGRTZXRDb250cm9scyk7XG4gICAgbGV0IGNvbHVtblNldHRpbmdzTGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBmaWVsZHNldExhYmVsLCB7XG4gICAgICBjb250ZW50OiAnRGVmaW5lIGNvbHVtbiB3aWR0aHMnXG4gICAgfSk7XG4gICAgbGV0IGNvbHVtblNldHRpbmdzUHJlc2V0TGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBmaWVsZHNldExhYmVsLCB7XG4gICAgICBjb250ZW50OiAnTGF5b3V0IFByZXNldCcsIGNsYXNzTmFtZTogJ2NvbC1zbS00IGZvcm0tY29udHJvbC1sYWJlbCdcbiAgICB9KTtcbiAgICBsZXQgY29sdW1uU2V0dGluZ3NQcmVzZXRTZWxlY3QgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiAnY29sLXNtLTgnLFxuICAgICAgY29udGVudDogZG9tLmNvbHVtblByZXNldENvbnRyb2woX3RoaXMucm93SUQpXG4gICAgfTtcbiAgICBsZXQgZm9ybUdyb3VwQ29udGVudCA9IFtcbiAgICAgIGNvbHVtblNldHRpbmdzUHJlc2V0TGFiZWwsXG4gICAgICBjb2x1bW5TZXR0aW5nc1ByZXNldFNlbGVjdFxuICAgIF07XG4gICAgbGV0IGNvbHVtblNldHRpbmdzUHJlc2V0ID0gZG9tLmZvcm1Hcm91cChmb3JtR3JvdXBDb250ZW50LCAncm93Jyk7XG5cbiAgICBlZGl0V2luZG93LmNvbnRlbnQgPSBbXG4gICAgICBpbnB1dEdyb3VwSW5wdXQsXG4gICAgICBkb20uY3JlYXRlKCdocicpLFxuICAgICAgZmllbGRTZXRDb250cm9scyxcbiAgICAgIGRvbS5jcmVhdGUoJ2hyJyksXG4gICAgICBjb2x1bW5TZXR0aW5nc0xhYmVsLFxuICAgICAgY29sdW1uU2V0dGluZ3NQcmVzZXRcbiAgICBdO1xuXG4gICAgcmV0dXJuIGVkaXRXaW5kb3c7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGNvbHVtbiBvcmRlciBhbmQgc2F2ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKGV2dC50YXJnZXQpO1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHJlbW92aW5nIGNvbnRlbnQgZnJvbSBhIHJvd1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgZG9tLmNvbHVtbldpZHRocyhldnQuZnJvbSk7XG4gICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIoZXZ0LnRhcmdldCk7XG4gICAgZG9tLmVtcHR5Q2xhc3MoZXZ0LmZyb20pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHJlbW92aW5nIGNvbnRlbnQgZnJvbSBhIHJvd1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25FbmQoZXZ0KSB7XG4gICAgaWYoZXZ0LmZyb20uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eS1yb3dzJykpIHtcbiAgICAgIGRvbS5yZW1vdmVFbXB0eShldnQuZnJvbSk7XG4gICAgfVxuXG4gICAgZGF0YS5zYXZlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgYWRkaW5nIGNvbnRlbnQgdG8gYSByb3dcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICovXG4gIG9uQWRkKGV2dCkge1xuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xuICAgIGxldCBmcm9tUm93ID0gZnJvbS5mVHlwZSA9PT0gJ3Jvd3MnO1xuICAgIGxldCBmcm9tQ29sdW1uID0gZnJvbS5mVHlwZSA9PT0gJ2NvbHVtbnMnO1xuICAgIGxldCBmcm9tQ29udHJvbHMgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcbiAgICBsZXQgY29sdW1uO1xuXG4gICAgaWYgKGZyb21Sb3cpIHtcbiAgICAgIGNvbHVtbiA9IGl0ZW07XG4gICAgfSBlbHNlIGlmKGZyb21Db2x1bW4gfHwgZnJvbUNvbnRyb2xzKSB7XG4gICAgICBsZXQgbWV0YSA9IGguZ2V0KHJGaWVsZHNbaXRlbS5pZF0sICdtZXRhJyk7XG4gICAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcbiAgICAgICAgY29sdW1uID0gZG9tLmFkZENvbHVtbih0by5pZCk7XG4gICAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGl0ZW0uaWQpO1xuICAgICAgfSBlbHNlIGlmIChtZXRhLmlkID09PSAnbGF5b3V0LWNvbHVtbicpIHtcbiAgICAgICAgZG9tLmFkZENvbHVtbih0by5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyb21Db2x1bW4gfHwgZnJvbUNvbnRyb2xzKSB7XG4gICAgICBkb20ucmVtb3ZlKGl0ZW0pO1xuICAgIH1cblxuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHRvKTtcblxuICAgIGRvbS5jb2x1bW5XaWR0aHModG8pO1xuICAgIGRvbS5lbXB0eUNsYXNzKHRvKTtcbiAgICBkYXRhLnNhdmUoKTtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUlBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFSQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQWhMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQWRBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQWRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7Ozs7OztBQWxMQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 3);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar stageOpts = {};\n\nvar Stage = function () {\n  function Stage(formeoOptions, stageID) {\n    _classCallCheck(this, Stage);\n\n    this.stageID = stageID || (0, _utils.uuid)();\n    var defaultOptions = {\n      formSettings: [{\n        tag: \'input\',\n        id: \'form-title\',\n        attrs: {\n          className: \'form-title\',\n          placeholder: _mi18n2.default.get(\'Untitled Form\'),\n          value: _mi18n2.default.get(\'Untitled Form\'),\n          type: \'text\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Form Title\')\n        }\n      }, {\n        tag: \'input\',\n        id: \'form-novalidate\',\n        attrs: {\n          className: \'form-novalidate\',\n          value: false,\n          type: \'checkbox\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Form novalidate\')\n        }\n      }, {\n        tag: \'input\',\n        id: \'form-tags\',\n        attrs: {\n          className: \'form-tags\',\n          type: \'text\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Tags\')\n        }\n      }]\n    };\n\n    stageOpts = Object.assign(stageOpts, defaultOptions, formeoOptions);\n\n    if (!_data.formData.stages.get(this.stageID)) {\n      var defaultStageData = {\n        id: this.stageID,\n        settings: {},\n        rows: []\n      };\n      _data.formData.stages.set(this.stageID, defaultStageData);\n    }\n\n    var stageWrap = this.loadStage();\n\n    return stageWrap;\n  }\n\n  Stage.prototype.loadStage = function loadStage() {\n    var _this = this;\n    var stageWrap = this.dom;\n    var sortable = _sortablejs2.default.create(stageWrap.firstChild, {\n      animation: 150,\n      fallbackClass: \'row-moving\',\n      forceFallback: true,\n      fallbackTolerance: 0,\n      group: { name: \'stages\', pull: true, put: [\'controls\', \'rows\', \'columns\'] },\n\n      onAdd: _this.onAdd.bind(_this),\n      onRemove: _this.onRemove.bind(_this),\n\n      sort: true,\n      onStart: function onStart(evt) {\n        _dom2.default.activeStage = _this.stage;\n      },\n      onUpdate: function onUpdate(evt) {\n        _data.data.saveRowOrder();\n        _data.data.save();\n      },\n      onSort: _this.onSort,\n      draggable: \'.stage-rows\',\n      handle: \'.item-handle\'\n    });\n    _dom2.default.stages.set(this.stageID, {\n      stage: this.stage,\n      sortable: sortable\n    });\n    _dom2.default.activeStage = this.stage;\n    if (_data.formData.stages.get(this.stageID).rows.length) {\n      _dom2.default.loadRows(this.stage);\n    }\n\n    return stageWrap;\n  };\n\n  Stage.prototype.elementConfigs = function elementConfigs() {\n    var _this = this;\n    var config = {\n      stage: {\n        tag: \'ul\',\n        attrs: {\n          className: [\'stage\', \'empty-stages\'],\n          id: _this.stageID\n        },\n        fType: \'stages\'\n      },\n      settings: {\n        tag: \'div\',\n        attrs: {\n          className: \'formeo-settings\',\n          id: _this.stageID + \'-settings\'\n        },\n        fType: \'settings\'\n      }\n    };\n\n    config.settings.content = stageOpts.formSettings.slice();\n\n    return config;\n  };\n\n  Stage.prototype.onSort = function onSort(evt) {\n    _data.data.save();\n  };\n\n  Stage.prototype.onAdd = function onAdd(evt) {\n    var _this = this;\n    _dom2.default.activeStage = _this.stage;\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var newIndex = _helpers2.default.indexOfNode(item, to);\n    var row = from.fType === \'stages\' ? item : _dom2.default.addRow();\n    var fromColumn = from.fType === \'columns\';\n    var fromRow = from.fType === \'rows\';\n    var column = void 0;\n\n    if (from.fType === \'controlGroup\') {\n      var meta = _data.registeredFields[item.id].meta;\n      if (meta.group !== \'layout\') {\n        column = _dom2.default.addColumn(row.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === \'layout-column\') {\n        _dom2.default.addColumn(row.id);\n      }\n      _dom2.default.remove(item);\n    } else if (fromColumn) {\n      var _column = _dom2.default.addColumn(row.id);\n      _column.appendChild(item);\n      _data.data.saveFieldOrder(_column);\n      _dom2.default.emptyClass(_column);\n    } else if (fromRow) {\n      row.appendChild(item);\n      _data.data.saveColumnOrder(row);\n      _dom2.default.emptyClass(row);\n    }\n\n    to.insertBefore(row, to.children[newIndex]);\n    _dom2.default.columnWidths(row);\n    _data.data.saveRowOrder(to);\n\n    return _data.data.save();\n  };\n\n  Stage.prototype.onRemove = function onRemove(evt) {\n    return _data.data.save();\n  };\n\n  _createClass(Stage, [{\n    key: \'dom\',\n    get: function get() {\n      if (this.stage) {\n        return this.stage;\n      }\n      var config = this.elementConfigs();\n\n      var stageWrap = _dom2.default.create({\n        tag: \'div\',\n        attrs: {\n          className: \'stage-wrap\'\n        },\n        content: [config.stage, config.settings]\n      });\n      this.stage = stageWrap.firstChild;\n\n      return stageWrap;\n    }\n  }]);\n\n  return Stage;\n}();\n\nexports.default = Stage;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvc3RhZ2UuanM/ZTgzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XG5pbXBvcnQge3V1aWR9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmxldCBzdGFnZU9wdHMgPSB7fTtcblxuLyoqXG4gKiBTdGFnZSBpcyB3aGVyZSBmaWVsZHMgYW5kIGVsZW1lbnRzIGFyZSBkcmFnZ2VkIHRvLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFnZSB7XG4gIC8qKlxuICAgKiBQcm9jZXNzIG9wdGlvbnMgYW5kIGxvYWQgZXhpc3RpbmcgZmllbGRzIGZyb20gZGF0YSB0byB0aGUgc3RhZ2VcbiAgICogQHBhcmFtICB7T2JqZWN0fSBmb3JtZW9PcHRpb25zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RhZ2VJRCB1dWlkXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1lb09wdGlvbnMsIHN0YWdlSUQpIHtcbiAgICAvLyBmb3JtRGF0YSA9IGRhdGEuZ2V0KCk7XG4gICAgdGhpcy5zdGFnZUlEID0gc3RhZ2VJRCB8fCB1dWlkKCk7XG4gICAgbGV0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZm9ybVNldHRpbmdzOiBbe1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGlkOiAnZm9ybS10aXRsZScsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS10aXRsZScsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IGkxOG4uZ2V0KCdVbnRpdGxlZCBGb3JtJyksXG4gICAgICAgICAgdmFsdWU6IGkxOG4uZ2V0KCdVbnRpdGxlZCBGb3JtJyksXG4gICAgICAgICAgdHlwZTogJ3RleHQnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnRm9ybSBUaXRsZScpXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBpZDogJ2Zvcm0tbm92YWxpZGF0ZScsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1ub3ZhbGlkYXRlJyxcbiAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgdHlwZTogJ2NoZWNrYm94J1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ0Zvcm0gbm92YWxpZGF0ZScpXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBpZDogJ2Zvcm0tdGFncycsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS10YWdzJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdUYWdzJylcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9O1xuXG4gICAgc3RhZ2VPcHRzID0gT2JqZWN0LmFzc2lnbihzdGFnZU9wdHMsIGRlZmF1bHRPcHRpb25zLCBmb3JtZW9PcHRpb25zKTtcblxuICAgIGlmICghZm9ybURhdGEuc3RhZ2VzLmdldCh0aGlzLnN0YWdlSUQpKSB7XG4gICAgICBsZXQgZGVmYXVsdFN0YWdlRGF0YSA9IHtcbiAgICAgICAgICBpZDogdGhpcy5zdGFnZUlELFxuICAgICAgICAgIHNldHRpbmdzOiB7fSxcbiAgICAgICAgICByb3dzOiBbXVxuICAgICAgICB9O1xuICAgICAgZm9ybURhdGEuc3RhZ2VzLnNldCh0aGlzLnN0YWdlSUQsIGRlZmF1bHRTdGFnZURhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YWdlV3JhcCA9IHRoaXMubG9hZFN0YWdlKCk7XG5cbiAgICByZXR1cm4gc3RhZ2VXcmFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXAgc3RhZ2UgdG8gcmVjZWl2ZSByb3dzXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGxvYWRTdGFnZSgpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHN0YWdlV3JhcCA9IHRoaXMuZG9tO1xuICAgIGNvbnN0IHNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKHN0YWdlV3JhcC5maXJzdENoaWxkLCB7XG4gICAgICBhbmltYXRpb246IDE1MCxcbiAgICAgIGZhbGxiYWNrQ2xhc3M6ICdyb3ctbW92aW5nJyxcbiAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXG4gICAgICBmYWxsYmFja1RvbGVyYW5jZTogMCxcbiAgICAgIGdyb3VwOiB7bmFtZTogJ3N0YWdlcycsIHB1bGw6IHRydWUsIHB1dDogW1xuICAgICAgICAnY29udHJvbHMnLFxuICAgICAgICAncm93cycsXG4gICAgICAgICdjb2x1bW5zJ1xuICAgICAgXX0sXG4gICAgICAvLyBFbGVtZW50IGlzIGRyb3BwZWQgaW50byB0aGUgbGlzdCBmcm9tIGFub3RoZXIgbGlzdFxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLmJpbmQoX3RoaXMpLFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLmJpbmQoX3RoaXMpLFxuICAgICAgLy8gb25Ecm9wOiBfdGhpcy5vbkFkZC5iaW5kKF90aGlzKSxcbiAgICAgIHNvcnQ6IHRydWUsXG4gICAgICBvblN0YXJ0OiBldnQgPT4ge1xuICAgICAgICBkb20uYWN0aXZlU3RhZ2UgPSBfdGhpcy5zdGFnZTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogZXZ0ID0+IHtcbiAgICAgICAgZGF0YS5zYXZlUm93T3JkZXIoKTtcbiAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICB9LFxuICAgICAgb25Tb3J0OiBfdGhpcy5vblNvcnQsXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2Utcm93cycsXG4gICAgICBoYW5kbGU6ICcuaXRlbS1oYW5kbGUnXG4gICAgfSk7XG4gICAgZG9tLnN0YWdlcy5zZXQodGhpcy5zdGFnZUlELCB7XG4gICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgIHNvcnRhYmxlXG4gICAgfSk7XG4gICAgZG9tLmFjdGl2ZVN0YWdlID0gdGhpcy5zdGFnZTtcbiAgICBpZiAoZm9ybURhdGEuc3RhZ2VzLmdldCh0aGlzLnN0YWdlSUQpLnJvd3MubGVuZ3RoKSB7XG4gICAgICBkb20ubG9hZFJvd3ModGhpcy5zdGFnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWdlV3JhcDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBlbGVtZW50cyB0aGF0IG1ha2UgdXAgdGhlIFN0YWdlXG4gICAqIEByZXR1cm4ge09iamVjdH0gc3RhZ2UgZWxlbWVudHMsIHNldHRpbmdzLCBzdGFnZSB1bFxuICAgKi9cbiAgZWxlbWVudENvbmZpZ3MoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBzdGFnZToge1xuICAgICAgICAgIHRhZzogJ3VsJyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBbXG4gICAgICAgICAgICAgICdzdGFnZScsXG4gICAgICAgICAgICAgICdlbXB0eS1zdGFnZXMnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaWQ6IF90aGlzLnN0YWdlSURcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZUeXBlOiAnc3RhZ2VzJ1xuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm1lby1zZXR0aW5ncycsXG4gICAgICAgICAgICBpZDogYCR7X3RoaXMuc3RhZ2VJRH0tc2V0dGluZ3NgXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmVHlwZTogJ3NldHRpbmdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY29uZmlnLnNldHRpbmdzLmNvbnRlbnQgPSBzdGFnZU9wdHMuZm9ybVNldHRpbmdzLnNsaWNlKCk7XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgcm93IGlzIHNvcnRlZFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCBmb3IgaGFuZGxpbmcgc3RhZ2UgZHJvcFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXG4gICAqL1xuICBvbkFkZChldnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGRvbS5hY3RpdmVTdGFnZSA9IF90aGlzLnN0YWdlO1xuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xuICAgIGxldCBuZXdJbmRleCA9IGguaW5kZXhPZk5vZGUoaXRlbSwgdG8pO1xuICAgIGxldCByb3cgPSBmcm9tLmZUeXBlID09PSAnc3RhZ2VzJyA/IGl0ZW0gOiBkb20uYWRkUm93KCk7XG4gICAgbGV0IGZyb21Db2x1bW4gPSBmcm9tLmZUeXBlID09PSAnY29sdW1ucyc7XG4gICAgbGV0IGZyb21Sb3cgPSBmcm9tLmZUeXBlID09PSAncm93cyc7XG4gICAgbGV0IGNvbHVtbjtcblxuICAgIGlmIChmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJykge1xuICAgICAgbGV0IG1ldGEgPSByRmllbGRzW2l0ZW0uaWRdLm1ldGE7XG4gICAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcbiAgICAgICAgY29sdW1uID0gZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgICAgICBkb20uYWRkRmllbGQoY29sdW1uLmlkLCBpdGVtLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0YS5pZCA9PT0gJ2xheW91dC1jb2x1bW4nKSB7XG4gICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgIH1cbiAgICAgIGRvbS5yZW1vdmUoaXRlbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tQ29sdW1uKSB7XG4gICAgICBsZXQgY29sdW1uID0gZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgZGF0YS5zYXZlRmllbGRPcmRlcihjb2x1bW4pO1xuICAgICAgZG9tLmVtcHR5Q2xhc3MoY29sdW1uKTtcbiAgICB9IGVsc2UgaWYoZnJvbVJvdykge1xuICAgICAgcm93LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIocm93KTtcbiAgICAgIGRvbS5lbXB0eUNsYXNzKHJvdyk7XG4gICAgfVxuXG4gICAgdG8uaW5zZXJ0QmVmb3JlKHJvdywgdG8uY2hpbGRyZW5bbmV3SW5kZXhdKTtcbiAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XG4gICAgZGF0YS5zYXZlUm93T3JkZXIodG8pO1xuXG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZW1vdmFsIG9mIGEgcm93IGZyb20gc3RhZ2VcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3JtRGF0YVxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1hcmt1cCBmb3IgdGhlIHN0YWdlXG4gICAqXG4gICAqIEByZXR1cm4ge0RPTX1cbiAgICovXG4gIGdldCBkb20oKSB7XG4gICAgaWYgKHRoaXMuc3RhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YWdlO1xuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmVsZW1lbnRDb25maWdzKCk7XG5cbiAgICBsZXQgc3RhZ2VXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiAnc3RhZ2Utd3JhcCdcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIGNvbmZpZy5zdGFnZSwgLy8gc3RhZ2UgaXRlbXNcbiAgICAgICAgY29uZmlnLnNldHRpbmdzXG4gICAgICBdXG4gICAgfSk7XG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlV3JhcC5maXJzdENoaWxkO1xuXG4gICAgcmV0dXJuIHN0YWdlV3JhcDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL3N0YWdlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBREE7QUFUQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBUkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUFQQTtBQXhCQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBMEJBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFMQTtBQU9BO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBWkE7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQVVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFqT0EiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ 18)();\n// imports\n\n\n// module\nexports.push([module.i, "@keyframes PLACEHOLDER{0%{height:1px}to{height:15px}}@keyframes DRAG_GHOST{0%{box-shadow:0 0 0 0 #999}to{box-shadow:0 0 30px 0 #999}}@keyframes EDIT_PULSE{0%,to{border-color:#66afe9}50%{border-color:#bfdef6}}.formeo .f-input-group,.formeo.formeo-editor .stage-rows{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch}.formeo .f-addon,.formeo input,.formeo select,.formeo textarea{font-size:100%;font-family:inherit;height:2.1em;line-height:1.5;margin:0;border:1px solid #ccc;border-radius:3px;background-color:#fff;width:100%;padding:.3em .6em;box-sizing:border-box}.formeo .f-addon:focus,.formeo input:focus,.formeo select:focus,.formeo textarea:focus{border:1px solid #66afe9;outline:none}.formeo.formeo-editor .field-edit-group,.formeo.formeo-editor .formeo-controls ul,.formeo.formeo-editor .panels-wrap ul,.formeo.formeo-editor .stage-columns,.formeo.formeo-editor .stage-wrap .stage{margin:0;padding:0;list-style:none}.formeo input[type=checkbox],.formeo input[type=radio]{opacity:0;width:0;position:absolute;display:inline-block;height:auto}.formeo input[type=checkbox]+.checkable,.formeo input[type=radio]+.checkable{padding-left:1.5em;cursor:pointer;position:relative}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:after,.formeo input[type=radio]+.checkable:before{content:\\"\\";position:absolute;display:inline-block;left:0;top:50%;transform:translateY(-50%);font-size:1em;line-height:1em;color:transparent;font-family:sans;text-align:center;width:1em;height:1em;border-radius:2px}.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:before{background:#fff;border:1px solid #666}.formeo input[type=checkbox]:focus+.checkable:before,.formeo input[type=radio]:focus+.checkable:before{border:1px solid #66afe9}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=radio]+.checkable:after{content:\\"\\\\2714\\";background:none;visibility:hidden;opacity:0;font-size:1.15em;color:#000}.formeo input[type=checkbox]:checked+.checkable:after,.formeo input[type=radio]:checked+.checkable:after{color:#666;background:none;visibility:visible;opacity:1}.formeo.formeo-editor .stage-columns:before,.formeo.formeo-editor .stage-fields:before,.formeo.formeo-editor .stage-rows:before{font-size:12px;position:absolute;top:0;width:0;padding:0;height:22px;line-height:24px;text-align:center;overflow:hidden;z-index:100;transition-property:width;transition-duration:.15s;content:attr(data-hover-tag);background-color:#fff}.field-control,.formeo.formeo-editor .formeo-controls .field-control{cursor:move;list-style:none;margin:-1px 0 0;border:1px solid #ccc;text-align:left;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.control-moving.field-control,.formeo.formeo-editor .formeo-controls .control-moving.field-control{border-radius:6px;animation:DRAG_GHOST .5s forwards}.field-control:before,.formeo.formeo-editor .formeo-controls .field-control:before{margin-right:10px;font-size:16px}.field-control:hover,.formeo.formeo-editor .formeo-controls .field-control:hover{background-color:#f2f2f2}.field-control button,.formeo.formeo-editor .formeo-controls .field-control button{box-sizing:border-box;font-size:1em;line-height:1.8em;display:block;height:100%;width:100%;background:transparent;border:0 none;text-align:left;padding:10px;border-radius:0}.field-control button:focus,.formeo.formeo-editor .formeo-controls .field-control button:focus{outline:0 none;background-color:#f2f2f2;box-shadow:inset 0 0 0 1px #66afe9;border-radius:0!important}.field-control button:active,.formeo.formeo-editor .formeo-controls .field-control button:active{transform:none}.field-control button:hover,.formeo.formeo-editor .formeo-controls .field-control button:hover{filter:none}.field-control .glyphicon,.field-control svg,.formeo.formeo-editor .formeo-controls .field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control svg{float:left;margin-right:10px}.field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control .glyphicon{display:inline-block;text-align:center;width:24px;height:24px;line-height:20px}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control button,[dir=rtl] .field-control button,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control button{text-align:right!important}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control svg,[dir=rtl] .field-control svg,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control svg{float:right!important;margin:0 0 0 10px!important}.formeo button{border-radius:3px;border:1px solid #666;color:#333;background-color:#fff;padding:.5em 1em}.formeo button:active{transform:scale(.97)}.formeo button:hover{filter:brightness(.9)}.svg-icon{display:inline-block;width:24px;height:24px;pointer-events:none}.icon-remove:hover{fill:#d9534f}button[class*=-remove]:hover{background-color:#d9534f!important}button[class*=-remove]:hover .svg-icon{fill:#fff}button[class*=-clone]:hover{background-color:#93c54b!important}button[class*=-clone]:hover .svg-icon{fill:#fff}.item-edit-toggle:hover{background-color:#325d88!important}.item-edit-toggle:hover .svg-icon{fill:#fff}.formeo *{box-sizing:inherit}.formeo .pill-buttons>button{border-radius:50px}.formeo hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid #ccc}.formeo .f-field-group{-ms-flex-wrap:wrap;flex-wrap:wrap}.formeo .f-field-group label+.badge{margin-left:10px}.formeo .f-field-group>label{display:inline-block;margin-bottom:10px}.formeo .f-field-group button{margin-right:5px}.formeo input[type=date]{max-width:280px;display:block}.formeo input[type=radio]+.checkable:before{border-radius:2em}.formeo input[type=radio]:checked+.checkable:after{content:\\"\\";background:#666;transform:scale(.5) translateY(-100%);border-radius:50%}.formeo textarea{height:auto}.formeo button{line-height:1.5em}.formeo button.error,.formeo button.primary,.formeo button.success,.formeo button.warning{color:#fff}.formeo button.primary{background-color:#325d88;border-color:#244463}.formeo button.success{background-color:#93c54b;border-color:#79a736}.formeo button.warning{background-color:#f47c3c;border-color:#ef5c0e}.formeo button.error{background-color:#d9534f;border-color:#c9302c}.formeo button[disabled]{background-color:#ccc;color:#fff}.formeo button:focus{border:1px solid #66afe9}.formeo button:focus,.formeo button:hover{outline:0 none}.formeo .f-addon{width:auto}.formeo .f-addon label{margin:1px 0 0 3px}.formeo .f-addon:last-child{margin-left:-1px}.formeo .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0}.formeo .f-btn-group>button:first-child{margin-left:0}.formeo .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.formeo .f-btn-group .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical button+button,.formeo .f-btn-group button+.f-btn-group,.formeo .f-btn-group button+button{margin-left:-1px}.formeo .f-checkbox,.formeo .f-radio{margin-bottom:5px}.formeo .f-input-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo .f-input-group input+input,.formeo .f-input-group input+select,.formeo .f-input-group select+select{margin-left:-1px}.formeo .f-input-group select{-webkit-appearance:none;background-image:url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDI0IDMyIj4KPHBhdGggZmlsbD0iIzQ0NCIgZD0iTTAgMTJsMTEuOTkyIDExLjk5MiAxMS45OTItMTEuOTkyaC0yMy45ODR6Ij48L3BhdGg+Cjwvc3ZnPgo=\\");background-position:right 10px top 2px;background-repeat:no-repeat;background-size:16px}.formeo .f-input-group .f-addon,.formeo .f-input-group input,.formeo .f-input-group select{-ms-flex:0 1 auto;flex:0 1 auto;border-radius:0}.formeo .f-input-group .f-addon:last-child,.formeo .f-input-group input:last-child,.formeo .f-input-group select:last-child{border-right-width:1px;border-radius:0 3px 3px 0}.formeo .f-input-group .f-addon:first-child,.formeo .f-input-group input:first-child,.formeo .f-input-group select:first-child{border-radius:3px 0 0 3px;border-left-width:1px}.formeo .f-input-group .f-addon:focus+input,.formeo .f-input-group .f-addon:focus+select,.formeo .f-input-group input:focus+input,.formeo .f-input-group input:focus+select,.formeo .f-input-group select:focus+input,.formeo .f-input-group select:focus+select{border-left:1px solid #66afe9}.formeo .text-primary{color:#325d88}.formeo .text-success{color:#93c54b}.formeo .text-warning{color:#f47c3c}.formeo .text-error{color:#d9534f}.formeo:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .group-actions{min-width:24px;width:24px;height:24px;overflow:hidden;position:absolute;top:0;line-height:0;z-index:1}.formeo.formeo-editor .group-actions button{width:24px;height:24px;padding:6px;border:0 none;line-height:0;overflow:hidden;background-color:#fff}.formeo.formeo-editor .group-actions button:focus{border:0 none;outline:0 none;box-shadow:none}.formeo.formeo-editor .group-actions .svg-icon{width:12px;height:12px}.formeo.formeo-editor .group-actions .icon-handle{opacity:.5}.last-field .formeo.formeo-editor .group-actions button:last-child{border-radius:0}.formeo.formeo-editor .column-editing-field .column-actions,.formeo.formeo-editor .group-actions .icon-copy,.formeo.formeo-editor .group-actions .icon-menu,.formeo.formeo-editor .group-actions .icon-move,.formeo.formeo-editor .group-actions .icon-move-vertical{display:none}.formeo.formeo-editor .stage-fields.editing-field .field-actions,.formeo.formeo-editor .stage-fields.hovering-field .field-actions{box-shadow:-1px 1px 1px #ccc;border-color:#93c54b;border-width:1px 1px 0 0;border-style:solid}.formeo.formeo-editor .hovering-column .field-actions,.formeo.formeo-editor .hovering-row .field-actions{display:none}.formeo.formeo-editor .hovering-column .row-actions,.formeo.formeo-editor .hovering-row .row-actions{z-index:10}.formeo.formeo-editor .field-actions{right:0;text-align:right;transition:width .15s;border-bottom-left-radius:3px;border-bottom-right-radius:0;will-change:width}.formeo.formeo-editor .field-actions button{border-radius:0;position:absolute}.formeo.formeo-editor .field-actions button:first-of-type{right:0}.formeo.formeo-editor .field-actions button:nth-of-type(2){right:24px}.formeo.formeo-editor .field-actions button:nth-of-type(3){right:48px}.formeo.formeo-editor .field-actions button:nth-of-type(4){right:72px}.formeo.formeo-editor .field-actions button:nth-of-type(5){right:96px}.formeo.formeo-editor .field-actions button:nth-of-type(6){right:120px}.formeo.formeo-editor .field-actions button:first-child{right:0}.formeo.formeo-editor .group-config{display:none;padding:.5rem}.formeo.formeo-editor .editing-row .column-actions{display:none}.formeo.formeo-editor .column-actions{width:24px;height:24px;padding:0;right:50%;transform:translateX(12px);z-index:1;transition:width .15s}.formeo.formeo-editor .column-actions .action-btn-wrap{position:relative;white-space:nowrap}.formeo.formeo-editor .column-actions button{position:absolute;background-color:transparent;border-radius:0}.formeo.formeo-editor .column-actions button:first-of-type{right:0}.formeo.formeo-editor .column-actions button:nth-of-type(2){right:24px}.formeo.formeo-editor .column-actions button:nth-of-type(3){right:48px}.formeo.formeo-editor .column-actions button:nth-of-type(4){right:72px}.formeo.formeo-editor .column-actions button:nth-of-type(5){right:96px}.formeo.formeo-editor .column-actions button:nth-of-type(6){right:120px}.formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;right:0}.hovering-column .formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.hovering-column .formeo.formeo-editor .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions,.formeo.formeo-editor .hovering-column .column-actions{transform:translateX(50%);width:auto;border-bottom-right-radius:0;border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions button:first-child,.formeo.formeo-editor .hovering-column .column-actions button:first-child{border-bottom-right-radius:3px;right:0}.formeo.formeo-editor .editing-column .column-actions button:last-child,.formeo.formeo-editor .hovering-column .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .row-actions{width:24px;height:24px;left:-23px;text-align:right;border-top-left-radius:6px;border-bottom-left-radius:6px;transition:height .15s ease-in-out;white-space:normal;border:1px solid #ccc;border-right:1px solid #fff}.formeo.formeo-editor .row-actions .item-handle .icon-handle{transform:rotate(90deg)}.formeo.formeo-editor .row-actions button{border-radius:0}.formeo.formeo-editor .editing-row .row-actions,.formeo.formeo-editor .hovering-row .row-actions{border:1px solid #325d88}.formeo.formeo-editor .editing-row .row-actions button:first-child,.formeo.formeo-editor .hovering-row .row-actions button:first-child{border-bottom-left-radius:0}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-copy,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-menu,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move-vertical{display:inline-block!important}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-handle{display:none!important}.formeo.formeo-editor .stage-rows{transition:background-color 125ms ease-in-out;position:relative;clear:both;margin-left:0;margin-bottom:6px;background-color:#fff;padding:5px;min-height:34px;box-shadow:inset 0 0 0 1px #ccc}.formeo.formeo-editor .stage-rows:after{content:\\"\\";display:table}.formeo.formeo-editor .stage-rows:before{border-bottom-right-radius:6px;border:1px solid #325d88;border-width:1px 0;left:0}.formeo.formeo-editor .stage-rows:after{clear:both}.formeo.formeo-editor .stage-rows.control-ghost{padding:10px}.formeo.formeo-editor .stage-rows:first-child{border-top-right-radius:5px;border-top-left-radius:0}.formeo.formeo-editor .stage-rows:last-child{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-rows.hovering-row:before{width:100px}.formeo.formeo-editor .stage-rows.hovering-row .stage-columns{opacity:.5}.formeo.formeo-editor .stage-rows.editing-row,.formeo.formeo-editor .stage-rows.editing-row .row-edit{display:block}.formeo.formeo-editor .stage-rows.resizing-columns .stage-columns{transition:none}.formeo.formeo-editor .stage-rows.editing-row.hovering-row .stage-columns{opacity:1}.formeo.formeo-editor .stage-rows.editing-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.editing-row:before{border-width:1px 0 0;width:80px!important;content:attr(data-editing-hover-tag)}.formeo.formeo-editor .stage-rows.hovering-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.hovering-row.editing-row:before{border-right-width:0}.formeo.formeo-editor .stage-rows.hovering-row:before{box-shadow:1px 1px 1px #ccc;border-right-width:1px;width:80px!important}.formeo.formeo-editor .stage-rows.row-moving{box-shadow:inset 0 0 0 1px #325d88,0 0 30px 0 #999}.formeo.formeo-editor .stage-rows.empty-rows:after{left:0;transform:translate(10px,-50%)}.formeo.formeo-editor .stage-rows .layout-row-control{display:none}.formeo.formeo-editor .row-edit{padding-top:2rem}.formeo.formeo-editor .input-group-addon label{margin-bottom:0}.formeo.formeo-editor .stage-columns{transition:background-color 125ms ease-in-out,box-shadow 125ms,width .25s;position:relative;background-color:#fff;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto;will-change:width}.formeo.formeo-editor .stage-columns[class*=col-]{padding:0}.formeo.formeo-editor .stage-columns:first-of-type{border-top-right-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type .resize-x-handle{display:none!important}.formeo.formeo-editor .stage-columns .resize-x-handle{display:none;position:absolute;right:-8px;top:0;bottom:0;width:16px;z-index:2;cursor:ew-resize}.formeo.formeo-editor .stage-columns .resize-x-handle:before{width:0;right:6px;border:1px dashed #29abe0;border-width:0 2px;display:block;top:0;position:absolute;height:100%;content:\\"\\"}.formeo.formeo-editor .stage-columns .resize-x-handle svg{fill:#29abe0;position:absolute;right:1px;width:14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-down{top:-14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-up{bottom:-14px}.formeo.formeo-editor .stage-columns:before{transition-property:height;transition-duration:.15s;padding:0 10px;left:50%;top:1px;transform:translate(-50%,-100%);width:auto;height:0;border-top-left-radius:5px;border-top-right-radius:5px}.formeo.formeo-editor .stage-columns.hovering-column:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-columns.hovering-column .stage-fields{opacity:.5}.formeo.formeo-editor .stage-columns.hovering-column:after{opacity:0}.formeo.formeo-editor .stage-columns.editing-column,.formeo.formeo-editor .stage-columns.hovering-column{box-shadow:inset 0 0 0 1px #29abe0}.formeo.formeo-editor .stage-columns.editing-column:before,.formeo.formeo-editor .stage-columns.hovering-column:before{height:23px;border-right:1px solid #29abe0;border-left:1px solid #29abe0;border-top:1px solid #29abe0}.formeo.formeo-editor .stage-columns.column-moving{box-shadow:inset 0 0 0 1px #29abe0,0 0 30px 0 #999}.formeo.formeo-editor .stage-columns.editing-column{overflow:hidden}.formeo.formeo-editor .stage-columns.editing-column .column-edit{display:block}.formeo.formeo-editor .editing-row .empty-columns,.formeo.formeo-editor .editing-row .stage-columns{display:table-cell;border-radius:5px;height:60px;background-color:#e6e6e6}.formeo.formeo-editor .editing-row .empty-columns.empty-columns,.formeo.formeo-editor .editing-row .stage-columns.empty-columns{min-height:0}.formeo.formeo-editor .editing-row .empty-columns .stage-fields,.formeo.formeo-editor .editing-row .stage-columns .stage-fields{display:none}.formeo.formeo-editor .editing-row .empty-columns .resize-x-handle,.formeo.formeo-editor .editing-row .stage-columns .resize-x-handle{display:block}.formeo.formeo-editor .editing-row .empty-columns:after,.formeo.formeo-editor .editing-row .stage-columns:after{color:#333!important;line-height:1em;opacity:1;font-size:1.1em;content:attr(data-col-width)!important;display:block;width:100%;text-align:center;position:absolute;left:50%;margin-top:0;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .editing-field-preview .column-actions{display:none}.formeo.formeo-editor .stage-fields{min-height:26px;position:relative;padding:5px;transition:background-color 125ms ease-in-out}.formeo.formeo-editor .stage-fields.first-field,.formeo.formeo-editor .stage-fields.first-field .field-actions{border-top-right-radius:3px}.formeo.formeo-editor .stage-fields.last-field{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.formeo.formeo-editor .stage-fields [contenteditable]{padding:1px 1px 0;transition:border-color .25s;border-bottom:1px dashed #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.formeo.formeo-editor .stage-fields [contenteditable]:focus{border:1px solid #66afe9;outline:none;padding:0}.formeo.formeo-editor .stage-fields .form-check{margin-left:1.25em}.formeo.formeo-editor .stage-fields .form-check-input:only-child{position:absolute}.formeo.formeo-editor .stage-fields:before{display:none;position:absolute;top:0;padding:0 10px;right:0;transform:translateX(-72px);border-bottom-right-radius:0;border-bottom-left-radius:6px}.formeo.formeo-editor .stage-fields.editing-field,.formeo.formeo-editor .stage-fields.hovering-field{box-shadow:inset 0 0 0 1px #93c54b}.formeo.formeo-editor .stage-fields.editing-field:before,.formeo.formeo-editor .stage-fields.hovering-field:before{line-height:23px!important;border-left:1px solid #93c54b;border-bottom:1px solid #93c54b}.formeo.formeo-editor .stage-fields.field-moving{box-shadow:inset 0 0 0 1px #93c54b,0 0 30px 0 #999;background-color:#fff}.formeo.formeo-editor .stage-fields.editing-field{background-color:#e6e6e6;z-index:1}.formeo.formeo-editor .stage-fields.field-type-hidden{border:1px dashed #ccc}.formeo.formeo-editor .editing-field-preview .field-actions{display:none}.formeo.formeo-editor .field-preview p{white-space:normal}.formeo.formeo-editor .field-edit{margin-top:23px;display:none;overflow:hidden}.formeo.formeo-editor .field-edit label{font-size:.85em}.formeo.formeo-editor .field-edit .panel-nav{margin-bottom:0;padding:0;overflow:hidden}.formeo.formeo-editor .field-edit.field-edit-options{list-style:decimal}.formeo.formeo-editor .field-edit .prop-controls{width:28px;height:28px;text-align:right;position:absolute;right:0;bottom:0;overflow:hidden;white-space:nowrap}.formeo.formeo-editor .field-edit .prop-controls .svg-icon{width:14px;height:14px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control{width:28px;height:28px;right:0;bottom:0;position:absolute;padding:0}.formeo.formeo-editor .field-edit .prop-control:first-of-type{right:0}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(2){right:28px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(3){right:56px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(4){right:84px}.formeo.formeo-editor .field-edit .prop-control:first-child{right:0}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:last-child{border-radius:3px 0 0 3px;margin-right:-1px;display:none}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:first-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-control:hover:first-child:last-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control:last-child:first-child{display:inline-block;border-radius:3px;margin-right:0}.formeo.formeo-editor .field-edit .prop-wrap{position:relative;padding-right:31px;margin-bottom:10px;min-height:28px}.formeo.formeo-editor .field-edit .prop-wrap:last-child{margin-bottom:0}.formeo.formeo-editor .field-edit .field-edit-group{padding:10px}.formeo.formeo-editor .field-edit .prop-controls,.formeo.formeo-editor .field-edit .prop-inputs{transition:width .15s;will-change:width}.formeo.formeo-editor .field-edit .prop-controls .f-addon,.formeo.formeo-editor .field-edit .prop-controls input,.formeo.formeo-editor .field-edit .prop-controls select,.formeo.formeo-editor .field-edit .prop-controls textarea,.formeo.formeo-editor .field-edit .prop-inputs .f-addon,.formeo.formeo-editor .field-edit .prop-inputs input,.formeo.formeo-editor .field-edit .prop-inputs select,.formeo.formeo-editor .field-edit .prop-inputs textarea{font-size:.825em}.formeo.formeo-editor .field-edit .prop-inputs,.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{width:100%;display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs .f-checkbox{margin-top:7px;margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs label{display:block}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover{width:56px}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover+.prop-inputs{width:calc(100% - 28px)}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav{border-bottom:1px solid #999}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav button{display:none}.formeo.formeo-editor .field-edit.panel-count-1 .panel-labels{background-color:transparent}.formeo.formeo-editor .options-panel .prop-wrap{margin-bottom:10px}.formeo.formeo-editor .options-panel .input-group-addon{line-height:0}.formeo.formeo-editor .options-panel .prop-labels{padding:10px 34px 10px 10px}.formeo.formeo-editor .options-panel .prop-labels .input-group-addon{font-size:12px}.formeo.formeo-editor .options-panel .prop-labels label{font-size:12px;width:50%;position:relative;display:table-cell}.formeo.formeo-editor .options-panel .prop-label-disabled,.formeo.formeo-editor .options-panel .prop-label-selected{width:1%!important;white-space:nowrap;vertical-align:middle;border:0 none;background-color:transparent}.formeo.formeo-editor .panel-action-buttons{padding:0 10px 10px}.formeo.formeo-editor .panel-action-buttons:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .panel-action-buttons [class^=add-]{float:right}.formeo.formeo-editor .panels-wrap h5{margin:0;padding:.55em 0;color:#666;font-weight:400;display:inline-block;width:100%}.formeo.formeo-editor .panels-wrap nav{position:relative;padding:0;overflow:hidden}.formeo.formeo-editor .panels-wrap nav button{position:absolute;width:24px;color:#000;height:100%;padding:0;line-height:0;z-index:1}.formeo.formeo-editor .panels-wrap nav button:focus{outline:none;border:1px solid #66afe9;box-shadow:none}.formeo.formeo-editor .panels-wrap nav button .svg-icon{width:20px;height:20px}.formeo.formeo-editor .panels-wrap nav button.next-group{right:0;top:0;border-top-left-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .panels-wrap nav button.prev-group{left:0;top:0;border-top-right-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .panels-wrap .f-panel{vertical-align:top;display:inline-block;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 100%;flex:1 0 100%}.formeo.formeo-editor .panels-wrap .f-panel>li:last-child{border-radius:0 0 5px 5px}.formeo.formeo-editor .panels-wrap .panels{white-space:nowrap;transition-property:transform,height;transition-duration:.15s;transition-timing-function:ease-in-out;will-change:transform;-ms-flex-direction:row;flex-direction:row}.formeo.formeo-editor .panels-wrap .panel-labels{height:100%;background:#fff;overflow:hidden;text-align:center}.formeo.formeo-editor .panels-wrap .panel-labels div{transition:transform .15s ease-in-out;will-change:transform;white-space:nowrap}.formeo.formeo-editor .tabbed-panels .panel-nav{height:auto}.formeo.formeo-editor .tabbed-panels .panel-nav button{display:none}.formeo.formeo-editor .tabbed-panels .panels{transition:none}.formeo.formeo-editor .tabbed-panels .f-panel{background-color:#fff}.formeo.formeo-editor .tabbed-panels .panel-labels div{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex}.formeo.formeo-editor .tabbed-panels .panel-labels h5{-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;cursor:pointer;background-color:#ccc;box-shadow:inset 0 -1px 6px #999}.formeo.formeo-editor .tabbed-panels .panel-labels h5.active-tab{color:#000;box-shadow:none;background-color:#fff}.formeo.formeo-editor .stage-wrap{position:relative;float:right;width:calc(74% - 5px);box-sizing:border-box;transition:width .25s;margin-right:5px}@media (max-width:481px){.formeo.formeo-editor .stage-wrap{width:calc(100% - 50px)}}.formeo.formeo-editor .stage-wrap .stage{min-height:450px;transition-property:background-color,border-color;transition-duration:.5s,333ms;border:0 dashed transparent;background-color:hsla(0,0%,100%,0);padding-left:23px;padding-bottom:15px;overflow:visible}.formeo.formeo-editor .stage-wrap .stage.empty-stages{border:3px dashed #ccc;background-color:hsla(0,0%,100%,.25)}.formeo.formeo-editor .stage-wrap .stage.removing-all-fields .stage-rows{transition:margin-top .25s ease-in}.formeo.formeo-editor .stage-wrap.editing-stage .formeo-settings{display:block}.formeo.formeo-editor .stage-wrap.editing-stage .stage{display:none}.formeo.formeo-editor .stage-wrap .f-field-group{margin-bottom:0}.formeo.formeo-editor [class*=empty-][class*=editing-]:after{opacity:0}.formeo.formeo-editor [class*=empty-]:after{opacity:1;font-size:24px;position:absolute;top:50%;left:50%;color:#999;transition:opacity .2s ease-in-out;will-change:opacity;text-align:center;transform:translate(-50%,-50%);content:attr(data-hover-tag)}.formeo.formeo-editor .formeo-settings{display:none}.formeo.formeo-editor .formeo-controls{float:right;width:26%;overflow:hidden}.formeo.formeo-editor .formeo-controls.pull-left .form-actions{float:left}.formeo.formeo-editor .formeo-controls .filtered-term{background-color:#fff;text-align:center;border-radius:3px 3px 0 0;border:1px solid #ccc;border-bottom:0 none;width:calc(100% - 2px)}.formeo.formeo-editor .formeo-controls nav{position:relative;padding:0 24px;overflow:hidden}.formeo.formeo-editor .formeo-controls nav h5{font-size:13px;line-height:22px}.formeo.formeo-editor .formeo-controls nav button{position:absolute;width:24px;color:#000;height:calc(100% + 1px);padding:0;line-height:0;margin:0;border-color:#ccc}.formeo.formeo-editor .formeo-controls nav button.next-group{right:0;top:0;border-top-left-radius:0;border-top-right-radius:6px;border-bottom-left-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .formeo-controls nav button.prev-group{border-top-left-radius:6px;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panels-wrap{font-size:.85em;line-height:1.8em}.formeo.formeo-editor .formeo-controls .panel-labels{border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .panel-count-1{border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panel-count-1 .panel-nav{display:none}.formeo.formeo-editor .formeo-controls .panel-count-1 .control-group li:first-child{border-radius:6px 6px 0 0}.formeo.formeo-editor .formeo-controls .control-group{vertical-align:top;display:inline-block;width:100%;border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .control-group>li:first-child{border-top-right-radius:0}.formeo.formeo-editor .formeo-controls .control-group>li:last-child{border-radius:0 0 6px 6px}.formeo.formeo-editor .formeo-controls.filtered .panel-nav{display:none}.formeo.formeo-editor .formeo-controls.filtered .control-group{display:block}.formeo.formeo-editor .formeo-controls.filtered .control-group>li{border-radius:0}.formeo.formeo-editor .formeo-controls.filtered .control-group:last-child>li:last-child{border-radius:0 0 0 3px}.formeo.formeo-editor .formeo-controls .control-groups{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels{height:100%;background:#fff;overflow:hidden}.formeo.formeo-editor .formeo-controls .control-group-labels div{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels h4{display:inline-block;width:100%}.formeo.formeo-editor .formeo-controls .form-actions{float:right;margin-top:5px}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{fill:#666;display:none}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon:hover{fill:#000}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover,.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{color:#fff}.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{background-color:#325d88}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover{background-color:#d9534f}@media (max-width:481px){.formeo.formeo-editor .formeo-controls{width:45px}.formeo.formeo-editor .formeo-controls .control-group{text-indent:-9999px}.formeo.formeo-editor .formeo-controls .form-actions{display:inline-block;width:100%;position:relative;vertical-align:middle;float:none;margin-top:10px}.formeo.formeo-editor .formeo-controls .form-actions>button+button{margin-top:-1px;margin-left:0}.formeo.formeo-editor .formeo-controls .form-actions>button{max-width:100%;padding:10px;border-radius:0;line-height:0;width:100%;float:none;position:relative;display:block}.formeo.formeo-editor .formeo-controls .form-actions>button:not(:first-child):not(:last-child){border-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:first-child:not(:last-child){border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:last-child:not(:first-child){border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top-right-radius:0;border-top-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions .glyphicon,.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{display:inline-block;margin-right:10px}}.formeo.formeo-editor .formeo-controls .field-control .svg-icon{pointer-events:none}.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:before,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:before{right:0;left:auto}.formeo.formeo-editor[dir=rtl] .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo.formeo-editor[dir=rtl] .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0;border-bottom-left-radius:3px;border-top-left-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child{margin-left:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0;border-bottom-right-radius:3px;border-top-right-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+button,.formeo.formeo-editor[dir=rtl] .f-btn-group button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group button+button{margin-right:-1px}.formeo.formeo-editor[dir=rtl] .formeo-controls,.formeo.formeo-editor[dir=rtl] .formeo-controls .form-actions{float:left}.formeo.formeo-editor[dir=rtl] .stage-wrap{float:right}.formeo.formeo-editor[dir=rtl] .stage-wrap .stage{padding-left:5px;padding-right:23px}.formeo.formeo-editor[dir=rtl] .stage-rows:before{border-bottom-left-radius:6px;border-bottom-right-radius:0;right:0;left:auto}.formeo.formeo-editor[dir=rtl] .stage-rows:first-child{border-top-left-radius:5px;border-top-right-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row.editing-row:before{border-left-width:0;border-right-width:auto}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:before{border-left-width:1px}.formeo.formeo-editor[dir=rtl] .stage-rows.empty-rows:after{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .row-actions{right:-23px;left:auto;border-top-right-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid #fff}.formeo.formeo-editor[dir=rtl] .field-actions{text-align:left;left:0;right:auto;border-bottom-right-radius:3px;border-bottom-left-radius:0}.formeo.formeo-editor[dir=rtl] .field-actions button:first-of-type{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(2){left:24px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(3){left:48px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(4){left:72px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(5){left:96px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(6){left:120px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:first-child{left:0}.formeo.formeo-editor[dir=rtl] .stage-fields.editing-field .field-actions,.formeo.formeo-editor[dir=rtl] .stage-fields.hovering-field .field-actions{box-shadow:1px 1px 1px #ccc;border-width:1px 0 0 1px}.formeo.formeo-render .f-row{margin-bottom:1em;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex;background-color:transparent;border-radius:6px;transition:background-color .2s}.formeo.formeo-render .f-row.will-remove{background-color:rgba(217,83,79,.5);box-shadow:inset 0 0 3px 1px #d9534f}.formeo.formeo-render .f-input-group-wrap:after{content:\\"\\";display:table;clear:both}.formeo.formeo-render .f-input-group{position:relative}.formeo.formeo-render .f-input-group:first-child .remove-input-group{display:none}.formeo.formeo-render .add-input-group{float:right;margin-top:10px}.formeo.formeo-render .remove-input-group{position:absolute;left:-32px;transform:translateY(-50%);width:32px;height:32px;top:50%;border:0 none;background:transparent;outline:0 none;line-height:0}.formeo.formeo-render .remove-input-group:hover .svg-icon{fill:#d9534f}.formeo.formeo-render .remove-input-group .svg-icon{pointer-events:none}.formeo.formeo-render .form-check-input:only-child{position:absolute}.formeo.formeo-render .svg-icon{max-width:100%;max-height:100%}.formeo.formeo-render .f-render-column{padding:0 5px;float:left;display:inline-block;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto}.field-control .svg-icon{pointer-events:none}", ""]);\n\n// exports\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvc3JjL3Nhc3MvZm9ybWVvLnNjc3M/N2FlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAa2V5ZnJhbWVzIFBMQUNFSE9MREVSezAle2hlaWdodDoxcHh9dG97aGVpZ2h0OjE1cHh9fUBrZXlmcmFtZXMgRFJBR19HSE9TVHswJXtib3gtc2hhZG93OjAgMCAwIDAgIzk5OX10b3tib3gtc2hhZG93OjAgMCAzMHB4IDAgIzk5OX19QGtleWZyYW1lcyBFRElUX1BVTFNFezAlLHRve2JvcmRlci1jb2xvcjojNjZhZmU5fTUwJXtib3JkZXItY29sb3I6I2JmZGVmNn19LmZvcm1lbyAuZi1pbnB1dC1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3N7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7LW1zLWZsZXgtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDstbXMtZmxleC13cmFwOm5vd3JhcDtmbGV4LXdyYXA6bm93cmFwOy1tcy1mbGV4LWxpbmUtcGFjazpzdHJldGNoO2FsaWduLWNvbnRlbnQ6c3RyZXRjaDstbXMtZmxleC1hbGlnbjpzdHJldGNoO2FsaWduLWl0ZW1zOnN0cmV0Y2h9LmZvcm1lbyAuZi1hZGRvbiwuZm9ybWVvIGlucHV0LC5mb3JtZW8gc2VsZWN0LC5mb3JtZW8gdGV4dGFyZWF7Zm9udC1zaXplOjEwMCU7Zm9udC1mYW1pbHk6aW5oZXJpdDtoZWlnaHQ6Mi4xZW07bGluZS1oZWlnaHQ6MS41O21hcmdpbjowO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7d2lkdGg6MTAwJTtwYWRkaW5nOi4zZW0gLjZlbTtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmZvcm1lbyAuZi1hZGRvbjpmb2N1cywuZm9ybWVvIGlucHV0OmZvY3VzLC5mb3JtZW8gc2VsZWN0OmZvY3VzLC5mb3JtZW8gdGV4dGFyZWE6Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5O291dGxpbmU6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQtZ3JvdXAsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgdWwsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCB1bCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS13cmFwIC5zdGFnZXttYXJnaW46MDtwYWRkaW5nOjA7bGlzdC1zdHlsZTpub25lfS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0sLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXXtvcGFjaXR5OjA7d2lkdGg6MDtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6YXV0b30uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGUsLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxle3BhZGRpbmctbGVmdDoxLjVlbTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZX0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGU6YWZ0ZXIsLmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dKy5jaGVja2FibGU6YWZ0ZXIsLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmJlZm9yZXtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xlZnQ6MDt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO2ZvbnQtc2l6ZToxZW07bGluZS1oZWlnaHQ6MWVtO2NvbG9yOnRyYW5zcGFyZW50O2ZvbnQtZmFtaWx5OnNhbnM7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MWVtO2hlaWdodDoxZW07Ym9yZGVyLXJhZGl1czoycHh9LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dKy5jaGVja2FibGU6YmVmb3Jle2JhY2tncm91bmQ6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM2NjZ9LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XTpmb2N1cysuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dOmZvY3VzKy5jaGVja2FibGU6YmVmb3Jle2JvcmRlcjoxcHggc29saWQgIzY2YWZlOX0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGU6YWZ0ZXIsLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmFmdGVye2NvbnRlbnQ6XFxcIlxcXFwyNzE0XFxcIjtiYWNrZ3JvdW5kOm5vbmU7dmlzaWJpbGl0eTpoaWRkZW47b3BhY2l0eTowO2ZvbnQtc2l6ZToxLjE1ZW07Y29sb3I6IzAwMH0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQrLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQrLmNoZWNrYWJsZTphZnRlcntjb2xvcjojNjY2O2JhY2tncm91bmQ6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uczpiZWZvcmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHM6YmVmb3JlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czpiZWZvcmV7Zm9udC1zaXplOjEycHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MDtwYWRkaW5nOjA7aGVpZ2h0OjIycHg7bGluZS1oZWlnaHQ6MjRweDt0ZXh0LWFsaWduOmNlbnRlcjtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDoxMDA7dHJhbnNpdGlvbi1wcm9wZXJ0eTp3aWR0aDt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xNXM7Y29udGVudDphdHRyKGRhdGEtaG92ZXItdGFnKTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmZpZWxkLWNvbnRyb2wsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2x7Y3Vyc29yOm1vdmU7bGlzdC1zdHlsZTpub25lO21hcmdpbjotMXB4IDAgMDtib3JkZXI6MXB4IHNvbGlkICNjY2M7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmNvbnRyb2wtbW92aW5nLmZpZWxkLWNvbnRyb2wsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtbW92aW5nLmZpZWxkLWNvbnRyb2x7Ym9yZGVyLXJhZGl1czo2cHg7YW5pbWF0aW9uOkRSQUdfR0hPU1QgLjVzIGZvcndhcmRzfS5maWVsZC1jb250cm9sOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbDpiZWZvcmV7bWFyZ2luLXJpZ2h0OjEwcHg7Zm9udC1zaXplOjE2cHh9LmZpZWxkLWNvbnRyb2w6aG92ZXIsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2w6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjJmMmYyfS5maWVsZC1jb250cm9sIGJ1dHRvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b257Ym94LXNpemluZzpib3JkZXItYm94O2ZvbnQtc2l6ZToxZW07bGluZS1oZWlnaHQ6MS44ZW07ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjAgbm9uZTt0ZXh0LWFsaWduOmxlZnQ7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6MH0uZmllbGQtY29udHJvbCBidXR0b246Zm9jdXMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgYnV0dG9uOmZvY3Vze291dGxpbmU6MCBub25lO2JhY2tncm91bmQtY29sb3I6I2YyZjJmMjtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjNjZhZmU5O2JvcmRlci1yYWRpdXM6MCFpbXBvcnRhbnR9LmZpZWxkLWNvbnRyb2wgYnV0dG9uOmFjdGl2ZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b246YWN0aXZle3RyYW5zZm9ybTpub25lfS5maWVsZC1jb250cm9sIGJ1dHRvbjpob3ZlciwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b246aG92ZXJ7ZmlsdGVyOm5vbmV9LmZpZWxkLWNvbnRyb2wgLmdseXBoaWNvbiwuZmllbGQtY29udHJvbCBzdmcsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgLmdseXBoaWNvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBzdmd7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6MTBweH0uZmllbGQtY29udHJvbCAuZ2x5cGhpY29uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIC5nbHlwaGljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtsaW5lLWhlaWdodDoyMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIFtkaXI9cnRsXSAuZmllbGQtY29udHJvbCBidXR0b24sW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIGJ1dHRvbixbZGlyPXJ0bF0gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgYnV0dG9ue3RleHQtYWxpZ246cmlnaHQhaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIFtkaXI9cnRsXSAuZmllbGQtY29udHJvbCBzdmcsW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIHN2ZyxbZGlyPXJ0bF0gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgc3Zne2Zsb2F0OnJpZ2h0IWltcG9ydGFudDttYXJnaW46MCAwIDAgMTBweCFpbXBvcnRhbnR9LmZvcm1lbyBidXR0b257Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjFweCBzb2xpZCAjNjY2O2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmO3BhZGRpbmc6LjVlbSAxZW19LmZvcm1lbyBidXR0b246YWN0aXZle3RyYW5zZm9ybTpzY2FsZSguOTcpfS5mb3JtZW8gYnV0dG9uOmhvdmVye2ZpbHRlcjpicmlnaHRuZXNzKC45KX0uc3ZnLWljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtwb2ludGVyLWV2ZW50czpub25lfS5pY29uLXJlbW92ZTpob3ZlcntmaWxsOiNkOTUzNGZ9YnV0dG9uW2NsYXNzKj0tcmVtb3ZlXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGYhaW1wb3J0YW50fWJ1dHRvbltjbGFzcyo9LXJlbW92ZV06aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2ZmZn1idXR0b25bY2xhc3MqPS1jbG9uZV06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojOTNjNTRiIWltcG9ydGFudH1idXR0b25bY2xhc3MqPS1jbG9uZV06aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2ZmZn0uaXRlbS1lZGl0LXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMzMjVkODghaW1wb3J0YW50fS5pdGVtLWVkaXQtdG9nZ2xlOmhvdmVyIC5zdmctaWNvbntmaWxsOiNmZmZ9LmZvcm1lbyAqe2JveC1zaXppbmc6aW5oZXJpdH0uZm9ybWVvIC5waWxsLWJ1dHRvbnM+YnV0dG9ue2JvcmRlci1yYWRpdXM6NTBweH0uZm9ybWVvIGhye21hcmdpbi10b3A6MXJlbTttYXJnaW4tYm90dG9tOjFyZW07Ym9yZGVyOjA7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY30uZm9ybWVvIC5mLWZpZWxkLWdyb3Vwey1tcy1mbGV4LXdyYXA6d3JhcDtmbGV4LXdyYXA6d3JhcH0uZm9ybWVvIC5mLWZpZWxkLWdyb3VwIGxhYmVsKy5iYWRnZXttYXJnaW4tbGVmdDoxMHB4fS5mb3JtZW8gLmYtZmllbGQtZ3JvdXA+bGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWJvdHRvbToxMHB4fS5mb3JtZW8gLmYtZmllbGQtZ3JvdXAgYnV0dG9ue21hcmdpbi1yaWdodDo1cHh9LmZvcm1lbyBpbnB1dFt0eXBlPWRhdGVde21heC13aWR0aDoyODBweDtkaXNwbGF5OmJsb2NrfS5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7Ym9yZGVyLXJhZGl1czoyZW19LmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkKy5jaGVja2FibGU6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtiYWNrZ3JvdW5kOiM2NjY7dHJhbnNmb3JtOnNjYWxlKC41KSB0cmFuc2xhdGVZKC0xMDAlKTtib3JkZXItcmFkaXVzOjUwJX0uZm9ybWVvIHRleHRhcmVhe2hlaWdodDphdXRvfS5mb3JtZW8gYnV0dG9ue2xpbmUtaGVpZ2h0OjEuNWVtfS5mb3JtZW8gYnV0dG9uLmVycm9yLC5mb3JtZW8gYnV0dG9uLnByaW1hcnksLmZvcm1lbyBidXR0b24uc3VjY2VzcywuZm9ybWVvIGJ1dHRvbi53YXJuaW5ne2NvbG9yOiNmZmZ9LmZvcm1lbyBidXR0b24ucHJpbWFyeXtiYWNrZ3JvdW5kLWNvbG9yOiMzMjVkODg7Ym9yZGVyLWNvbG9yOiMyNDQ0NjN9LmZvcm1lbyBidXR0b24uc3VjY2Vzc3tiYWNrZ3JvdW5kLWNvbG9yOiM5M2M1NGI7Ym9yZGVyLWNvbG9yOiM3OWE3MzZ9LmZvcm1lbyBidXR0b24ud2FybmluZ3tiYWNrZ3JvdW5kLWNvbG9yOiNmNDdjM2M7Ym9yZGVyLWNvbG9yOiNlZjVjMGV9LmZvcm1lbyBidXR0b24uZXJyb3J7YmFja2dyb3VuZC1jb2xvcjojZDk1MzRmO2JvcmRlci1jb2xvcjojYzkzMDJjfS5mb3JtZW8gYnV0dG9uW2Rpc2FibGVkXXtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Y29sb3I6I2ZmZn0uZm9ybWVvIGJ1dHRvbjpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICM2NmFmZTl9LmZvcm1lbyBidXR0b246Zm9jdXMsLmZvcm1lbyBidXR0b246aG92ZXJ7b3V0bGluZTowIG5vbmV9LmZvcm1lbyAuZi1hZGRvbnt3aWR0aDphdXRvfS5mb3JtZW8gLmYtYWRkb24gbGFiZWx7bWFyZ2luOjFweCAwIDAgM3B4fS5mb3JtZW8gLmYtYWRkb246bGFzdC1jaGlsZHttYXJnaW4tbGVmdDotMXB4fS5mb3JtZW8gLmYtYnRuLWdyb3Vwe2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246bWlkZGxlfS5mb3JtZW8gLmYtYnRuLWdyb3VwPmJ1dHRvbnstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvfS5mb3JtZW8gLmYtYnRuLWdyb3VwPmJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItcmFkaXVzOjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmxhc3QtY2hpbGQ6bm90KDpmaXJzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmZpcnN0LWNoaWxkOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCsuZi1idG4tZ3JvdXAsLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIGJ1dHRvbisuZi1idG4tZ3JvdXAsLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIGJ1dHRvbitidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvIC5mLWJ0bi1ncm91cCBidXR0b24rYnV0dG9ue21hcmdpbi1sZWZ0Oi0xcHh9LmZvcm1lbyAuZi1jaGVja2JveCwuZm9ybWVvIC5mLXJhZGlve21hcmdpbi1ib3R0b206NXB4fS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXB7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDt2ZXJ0aWNhbC1hbGlnbjpib3R0b219LmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dCtpbnB1dCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIGlucHV0K3NlbGVjdCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdCtzZWxlY3R7bWFyZ2luLWxlZnQ6LTFweH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdHstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMFpXUWdZbmtnU1dOdlRXOXZiaTVwYnlBdExUNEtQQ0ZFVDBOVVdWQkZJSE4yWnlCUVZVSk1TVU1nSWkwdkwxY3pReTh2UkZSRUlGTldSeUF4TGpFdkwwVk9JaUFpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2UjNKaGNHaHBZM012VTFaSEx6RXVNUzlFVkVRdmMzWm5NVEV1WkhSa0lqNEtQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXpNaUlnZG1sbGQwSnZlRDBpTUNBd0lESTBJRE15SWo0S1BIQmhkR2dnWm1sc2JEMGlJelEwTkNJZ1pEMGlUVEFnTVRKc01URXVPVGt5SURFeExqazVNaUF4TVM0NU9USXRNVEV1T1RreWFDMHlNeTQ1T0RSNklqNDhMM0JoZEdnK0Nqd3ZjM1puUGdvPVxcXCIpO2JhY2tncm91bmQtcG9zaXRpb246cmlnaHQgMTBweCB0b3AgMnB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6MTZweH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3R7LW1zLWZsZXg6MCAxIGF1dG87ZmxleDowIDEgYXV0bztib3JkZXItcmFkaXVzOjB9LmZvcm1lbyAuZi1pbnB1dC1ncm91cCAuZi1hZGRvbjpsYXN0LWNoaWxkLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6bGFzdC1jaGlsZCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdDpsYXN0LWNoaWxke2JvcmRlci1yaWdodC13aWR0aDoxcHg7Ym9yZGVyLXJhZGl1czowIDNweCAzcHggMH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmZpcnN0LWNoaWxkLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6Zmlyc3QtY2hpbGQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3Q6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czozcHggMCAwIDNweDtib3JkZXItbGVmdC13aWR0aDoxcHh9LmZvcm1lbyAuZi1pbnB1dC1ncm91cCAuZi1hZGRvbjpmb2N1cytpbnB1dCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmZvY3VzK3NlbGVjdCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIGlucHV0OmZvY3VzK2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6Zm9jdXMrc2VsZWN0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0OmZvY3VzK2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0OmZvY3VzK3NlbGVjdHtib3JkZXItbGVmdDoxcHggc29saWQgIzY2YWZlOX0uZm9ybWVvIC50ZXh0LXByaW1hcnl7Y29sb3I6IzMyNWQ4OH0uZm9ybWVvIC50ZXh0LXN1Y2Nlc3N7Y29sb3I6IzkzYzU0Yn0uZm9ybWVvIC50ZXh0LXdhcm5pbmd7Y29sb3I6I2Y0N2MzY30uZm9ybWVvIC50ZXh0LWVycm9ye2NvbG9yOiNkOTUzNGZ9LmZvcm1lbzphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnN7bWluLXdpZHRoOjI0cHg7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjF9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIGJ1dHRvbnt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O3BhZGRpbmc6NnB4O2JvcmRlcjowIG5vbmU7bGluZS1oZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyBidXR0b246Zm9jdXN7Ym9yZGVyOjAgbm9uZTtvdXRsaW5lOjAgbm9uZTtib3gtc2hhZG93Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5zdmctaWNvbnt3aWR0aDoxMnB4O2hlaWdodDoxMnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyAuaWNvbi1oYW5kbGV7b3BhY2l0eTouNX0ubGFzdC1maWVsZCAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgYnV0dG9uOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWVkaXRpbmctZmllbGQgLmNvbHVtbi1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyAuaWNvbi1jb3B5LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyAuaWNvbi1tZW51LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyAuaWNvbi1tb3ZlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyAuaWNvbi1tb3ZlLXZlcnRpY2Fse2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkIC5maWVsZC1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmhvdmVyaW5nLWZpZWxkIC5maWVsZC1hY3Rpb25ze2JveC1zaGFkb3c6LTFweCAxcHggMXB4ICNjY2M7Ym9yZGVyLWNvbG9yOiM5M2M1NGI7Ym9yZGVyLXdpZHRoOjFweCAxcHggMCAwO2JvcmRlci1zdHlsZTpzb2xpZH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLWNvbHVtbiAuZmllbGQtYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLXJvdyAuZmllbGQtYWN0aW9uc3tkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1jb2x1bW4gLnJvdy1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctcm93IC5yb3ctYWN0aW9uc3t6LWluZGV4OjEwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9uc3tyaWdodDowO3RleHQtYWxpZ246cmlnaHQ7dHJhbnNpdGlvbjp3aWR0aCAuMTVzO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7d2lsbC1jaGFuZ2U6d2lkdGh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbntib3JkZXItcmFkaXVzOjA7cG9zaXRpb246YWJzb2x1dGV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1vZi10eXBle3JpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgyKXtyaWdodDoyNHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoMyl7cmlnaHQ6NDhweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDQpe3JpZ2h0OjcycHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg1KXtyaWdodDo5NnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNil7cmlnaHQ6MTIwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZHtyaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtY29uZmlne2Rpc3BsYXk6bm9uZTtwYWRkaW5nOi41cmVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmNvbHVtbi1hY3Rpb25ze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25ze3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7cGFkZGluZzowO3JpZ2h0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMnB4KTt6LWluZGV4OjE7dHJhbnNpdGlvbjp3aWR0aCAuMTVzfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgLmFjdGlvbi1idG4td3JhcHtwb3NpdGlvbjpyZWxhdGl2ZTt3aGl0ZS1zcGFjZTpub3dyYXB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b257cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246Zmlyc3Qtb2YtdHlwZXtyaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDIpe3JpZ2h0OjI0cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoMyl7cmlnaHQ6NDhweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg0KXtyaWdodDo3MnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDUpe3JpZ2h0Ojk2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNil7cmlnaHQ6MTIwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtyaWdodDowfS5ob3ZlcmluZy1jb2x1bW4gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmhvdmVyaW5nLWNvbHVtbiAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxke2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9uc3t0cmFuc2Zvcm06dHJhbnNsYXRlWCg1MCUpO3dpZHRoOmF1dG87Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czozcHg7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bGFzdC1jaGlsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmxhc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5yb3ctYWN0aW9uc3t3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2xlZnQ6LTIzcHg7dGV4dC1hbGlnbjpyaWdodDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjZweDt0cmFuc2l0aW9uOmhlaWdodCAuMTVzIGVhc2UtaW4tb3V0O3doaXRlLXNwYWNlOm5vcm1hbDtib3JkZXI6MXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucm93LWFjdGlvbnMgLml0ZW0taGFuZGxlIC5pY29uLWhhbmRsZXt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnJvdy1hY3Rpb25zIGJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAucm93LWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1yb3cgLnJvdy1hY3Rpb25ze2JvcmRlcjoxcHggc29saWQgIzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5yb3ctYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1yb3cgLnJvdy1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9aG92ZXJpbmctXT4uZ3JvdXAtYWN0aW9ucyAuc3ZnLWljb24uaWNvbi1jb3B5LC5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWhvdmVyaW5nLV0+Lmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29uLmljb24tbWVudSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1ob3ZlcmluZy1dPi5ncm91cC1hY3Rpb25zIC5zdmctaWNvbi5pY29uLW1vdmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9aG92ZXJpbmctXT4uZ3JvdXAtYWN0aW9ucyAuc3ZnLWljb24uaWNvbi1tb3ZlLXZlcnRpY2Fse2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1ob3ZlcmluZy1dPi5ncm91cC1hY3Rpb25zIC5zdmctaWNvbi5pY29uLWhhbmRsZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93c3t0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgMTI1bXMgZWFzZS1pbi1vdXQ7cG9zaXRpb246cmVsYXRpdmU7Y2xlYXI6Ym90aDttYXJnaW4tbGVmdDowO21hcmdpbi1ib3R0b206NnB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjVweDttaW4taGVpZ2h0OjM0cHg7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggI2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OnRhYmxlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NnB4O2JvcmRlcjoxcHggc29saWQgIzMyNWQ4ODtib3JkZXItd2lkdGg6MXB4IDA7bGVmdDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czphZnRlcntjbGVhcjpib3RofS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5jb250cm9sLWdob3N0e3BhZGRpbmc6MTBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NXB4O2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpiZWZvcmV7d2lkdGg6MTAwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdyAuc3RhZ2UtY29sdW1uc3tvcGFjaXR5Oi41fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lZGl0aW5nLXJvdywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZWRpdGluZy1yb3cgLnJvdy1lZGl0e2Rpc3BsYXk6YmxvY2t9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLnJlc2l6aW5nLWNvbHVtbnMgLnN0YWdlLWNvbHVtbnN7dHJhbnNpdGlvbjpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lZGl0aW5nLXJvdy5ob3ZlcmluZy1yb3cgLnN0YWdlLWNvbHVtbnN7b3BhY2l0eToxfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lZGl0aW5nLXJvd3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMzI1ZDg4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lZGl0aW5nLXJvdzpiZWZvcmV7Ym9yZGVyLXdpZHRoOjFweCAwIDA7d2lkdGg6ODBweCFpbXBvcnRhbnQ7Y29udGVudDphdHRyKGRhdGEtZWRpdGluZy1ob3Zlci10YWcpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3d7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93LmVkaXRpbmctcm93OmJlZm9yZXtib3JkZXItcmlnaHQtd2lkdGg6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmJlZm9yZXtib3gtc2hhZG93OjFweCAxcHggMXB4ICNjY2M7Ym9yZGVyLXJpZ2h0LXdpZHRoOjFweDt3aWR0aDo4MHB4IWltcG9ydGFudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3Mucm93LW1vdmluZ3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMzI1ZDg4LDAgMCAzMHB4IDAgIzk5OX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZW1wdHktcm93czphZnRlcntsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgxMHB4LC01MCUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cyAubGF5b3V0LXJvdy1jb250cm9se2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnJvdy1lZGl0e3BhZGRpbmctdG9wOjJyZW19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5pbnB1dC1ncm91cC1hZGRvbiBsYWJlbHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5ze3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAxMjVtcyBlYXNlLWluLW91dCxib3gtc2hhZG93IDEyNW1zLHdpZHRoIC4yNXM7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjojZmZmO21heC13aWR0aDpub25lOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4OmF1dG87ZmxleDphdXRvO3dpbGwtY2hhbmdlOndpZHRofS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uc1tjbGFzcyo9Y29sLV17cGFkZGluZzowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uczpmaXJzdC1vZi10eXBle2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnM6bGFzdC1vZi10eXBle2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjVweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnM6bGFzdC1vZi10eXBlIC5yZXNpemUteC1oYW5kbGV7ZGlzcGxheTpub25lIWltcG9ydGFudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZXtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LThweDt0b3A6MDtib3R0b206MDt3aWR0aDoxNnB4O3otaW5kZXg6MjtjdXJzb3I6ZXctcmVzaXplfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxlOmJlZm9yZXt3aWR0aDowO3JpZ2h0OjZweDtib3JkZXI6MXB4IGRhc2hlZCAjMjlhYmUwO2JvcmRlci13aWR0aDowIDJweDtkaXNwbGF5OmJsb2NrO3RvcDowO3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxMDAlO2NvbnRlbnQ6XFxcIlxcXCJ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGUgc3Zne2ZpbGw6IzI5YWJlMDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxcHg7d2lkdGg6MTRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZSBzdmcuaWNvbi10cmlhbmdsZS1kb3due3RvcDotMTRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZSBzdmcuaWNvbi10cmlhbmdsZS11cHtib3R0b206LTE0cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zOmJlZm9yZXt0cmFuc2l0aW9uLXByb3BlcnR5OmhlaWdodDt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xNXM7cGFkZGluZzowIDEwcHg7bGVmdDo1MCU7dG9wOjFweDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTEwMCUpO3dpZHRoOmF1dG87aGVpZ2h0OjA7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5ob3ZlcmluZy1jb2x1bW46Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5ob3ZlcmluZy1jb2x1bW4gLnN0YWdlLWZpZWxkc3tvcGFjaXR5Oi41fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5ob3ZlcmluZy1jb2x1bW46YWZ0ZXJ7b3BhY2l0eTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5lZGl0aW5nLWNvbHVtbiwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuaG92ZXJpbmctY29sdW1ue2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMyOWFiZTB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmVkaXRpbmctY29sdW1uOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuaG92ZXJpbmctY29sdW1uOmJlZm9yZXtoZWlnaHQ6MjNweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMyOWFiZTA7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICMyOWFiZTA7Ym9yZGVyLXRvcDoxcHggc29saWQgIzI5YWJlMH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuY29sdW1uLW1vdmluZ3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMjlhYmUwLDAgMCAzMHB4IDAgIzk5OX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuZWRpdGluZy1jb2x1bW57b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5lZGl0aW5nLWNvbHVtbiAuY29sdW1uLWVkaXR7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5lbXB0eS1jb2x1bW5zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnN0YWdlLWNvbHVtbnN7ZGlzcGxheTp0YWJsZS1jZWxsO2JvcmRlci1yYWRpdXM6NXB4O2hlaWdodDo2MHB4O2JhY2tncm91bmQtY29sb3I6I2U2ZTZlNn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5lbXB0eS1jb2x1bW5zLmVtcHR5LWNvbHVtbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuc3RhZ2UtY29sdW1ucy5lbXB0eS1jb2x1bW5ze21pbi1oZWlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5lbXB0eS1jb2x1bW5zIC5zdGFnZS1maWVsZHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuc3RhZ2UtY29sdW1ucyAuc3RhZ2UtZmllbGRze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5lbXB0eS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxle2Rpc3BsYXk6YmxvY2t9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuZW1wdHktY29sdW1uczphZnRlciwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5zdGFnZS1jb2x1bW5zOmFmdGVye2NvbG9yOiMzMzMhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjFlbTtvcGFjaXR5OjE7Zm9udC1zaXplOjEuMWVtO2NvbnRlbnQ6YXR0cihkYXRhLWNvbC13aWR0aCkhaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTttYXJnaW4tdG9wOjA7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLWZpZWxkLXByZXZpZXcgLmNvbHVtbi1hY3Rpb25ze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkc3ttaW4taGVpZ2h0OjI2cHg7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzo1cHg7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDEyNW1zIGVhc2UtaW4tb3V0fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmZpcnN0LWZpZWxkLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmZpcnN0LWZpZWxkIC5maWVsZC1hY3Rpb25ze2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5sYXN0LWZpZWxke2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcyBbY29udGVudGVkaXRhYmxlXXtwYWRkaW5nOjFweCAxcHggMDt0cmFuc2l0aW9uOmJvcmRlci1jb2xvciAuMjVzO2JvcmRlci1ib3R0b206MXB4IGRhc2hlZCAjY2NjOy13ZWJraXQtdXNlci1zZWxlY3Q6dGV4dDstbW96LXVzZXItc2VsZWN0OnRleHQ7LW1zLXVzZXItc2VsZWN0OnRleHQ7dXNlci1zZWxlY3Q6dGV4dH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcyBbY29udGVudGVkaXRhYmxlXTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICM2NmFmZTk7b3V0bGluZTpub25lO3BhZGRpbmc6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcyAuZm9ybS1jaGVja3ttYXJnaW4tbGVmdDoxLjI1ZW19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgLmZvcm0tY2hlY2staW5wdXQ6b25seS1jaGlsZHtwb3NpdGlvbjphYnNvbHV0ZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkczpiZWZvcmV7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3BhZGRpbmc6MCAxMHB4O3JpZ2h0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTcycHgpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZWRpdGluZy1maWVsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5ob3ZlcmluZy1maWVsZHtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjOTNjNTRifS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGQ6YmVmb3JlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmhvdmVyaW5nLWZpZWxkOmJlZm9yZXtsaW5lLWhlaWdodDoyM3B4IWltcG9ydGFudDtib3JkZXItbGVmdDoxcHggc29saWQgIzkzYzU0Yjtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjOTNjNTRifS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmZpZWxkLW1vdmluZ3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjOTNjNTRiLDAgMCAzMHB4IDAgIzk5OTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZWRpdGluZy1maWVsZHtiYWNrZ3JvdW5kLWNvbG9yOiNlNmU2ZTY7ei1pbmRleDoxfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmZpZWxkLXR5cGUtaGlkZGVue2JvcmRlcjoxcHggZGFzaGVkICNjY2N9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLWZpZWxkLXByZXZpZXcgLmZpZWxkLWFjdGlvbnN7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtcHJldmlldyBwe3doaXRlLXNwYWNlOm5vcm1hbH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXR7bWFyZ2luLXRvcDoyM3B4O2Rpc3BsYXk6bm9uZTtvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IGxhYmVse2ZvbnQtc2l6ZTouODVlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnBhbmVsLW5hdnttYXJnaW4tYm90dG9tOjA7cGFkZGluZzowO292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQuZmllbGQtZWRpdC1vcHRpb25ze2xpc3Qtc3R5bGU6ZGVjaW1hbH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHN7d2lkdGg6MjhweDtoZWlnaHQ6MjhweDt0ZXh0LWFsaWduOnJpZ2h0O3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7Ym90dG9tOjA7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMgLnN2Zy1pY29ue3dpZHRoOjE0cHg7aGVpZ2h0OjE0cHg7bGVmdDo1MCU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzOmhvdmVyIC5wcm9wLWNvbnRyb2w6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDNweCAzcHggMH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHM6aG92ZXIgLnByb3AtY29udHJvbDpsYXN0LWNoaWxke2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9se3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7cmlnaHQ6MDtib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6Zmlyc3Qtb2YtdHlwZXtyaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOm50aC1vZi10eXBlKDIpe3JpZ2h0OjI4cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bnRoLW9mLXR5cGUoMyl7cmlnaHQ6NTZweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpudGgtb2YtdHlwZSg0KXtyaWdodDo4NHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmZpcnN0LWNoaWxke3JpZ2h0OjB9Om5vdCguY29udHJvbC1jb3VudC0xKSAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6M3B4IDAgMCAzcHg7bWFyZ2luLXJpZ2h0Oi0xcHg7ZGlzcGxheTpub25lfTpub3QoLmNvbnRyb2wtY291bnQtMSkgLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6aG92ZXI6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDNweCAzcHggMH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpob3ZlcjpmaXJzdC1jaGlsZDpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmhvdmVyOmxhc3QtY2hpbGR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bGFzdC1jaGlsZDpmaXJzdC1jaGlsZHtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXItcmFkaXVzOjNweDttYXJnaW4tcmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3Atd3JhcHtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLXJpZ2h0OjMxcHg7bWFyZ2luLWJvdHRvbToxMHB4O21pbi1oZWlnaHQ6MjhweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3Atd3JhcDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLmZpZWxkLWVkaXQtZ3JvdXB7cGFkZGluZzoxMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRze3RyYW5zaXRpb246d2lkdGggLjE1czt3aWxsLWNoYW5nZTp3aWR0aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMgLmYtYWRkb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIGlucHV0LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scyBzZWxlY3QsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIHRleHRhcmVhLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgLmYtYWRkb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyBpbnB1dCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRzIHNlbGVjdCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRzIHRleHRhcmVhe2ZvbnQtc2l6ZTouODI1ZW19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRzIC5mLWZpZWxkLWdyb3Vwe3dpZHRoOjEwMCU7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDt2ZXJ0aWNhbC1hbGlnbjpib3R0b219LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyAuZi1maWVsZC1ncm91cHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyAuZi1jaGVja2JveHttYXJnaW4tdG9wOjdweDttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyBsYWJlbHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAuY29udHJvbC1jb3VudC0yIC5wcm9wLWNvbnRyb2xzOmhvdmVye3dpZHRoOjU2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5jb250cm9sLWNvdW50LTIgLnByb3AtY29udHJvbHM6aG92ZXIrLnByb3AtaW5wdXRze3dpZHRoOmNhbGMoMTAwJSAtIDI4cHgpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdC5wYW5lbC1jb3VudC0xIC5wYW5lbC1uYXZ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzk5OX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQucGFuZWwtY291bnQtMSAucGFuZWwtbmF2IGJ1dHRvbntkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LnBhbmVsLWNvdW50LTEgLnBhbmVsLWxhYmVsc3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC13cmFwe21hcmdpbi1ib3R0b206MTBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLmlucHV0LWdyb3VwLWFkZG9ue2xpbmUtaGVpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5wcm9wLWxhYmVsc3twYWRkaW5nOjEwcHggMzRweCAxMHB4IDEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5wcm9wLWxhYmVscyAuaW5wdXQtZ3JvdXAtYWRkb257Zm9udC1zaXplOjEycHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5wcm9wLWxhYmVscyBsYWJlbHtmb250LXNpemU6MTJweDt3aWR0aDo1MCU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTp0YWJsZS1jZWxsfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbC1kaXNhYmxlZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLnByb3AtbGFiZWwtc2VsZWN0ZWR7d2lkdGg6MSUhaW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ym9yZGVyOjAgbm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWwtYWN0aW9uLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVsLWFjdGlvbi1idXR0b25zOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWwtYWN0aW9uLWJ1dHRvbnMgW2NsYXNzXj1hZGQtXXtmbG9hdDpyaWdodH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIGg1e21hcmdpbjowO3BhZGRpbmc6LjU1ZW0gMDtjb2xvcjojNjY2O2ZvbnQtd2VpZ2h0OjQwMDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMDAlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2e3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBuYXYgYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjI0cHg7Y29sb3I6IzAwMDtoZWlnaHQ6MTAwJTtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjF9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBuYXYgYnV0dG9uOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6MXB4IHNvbGlkICM2NmFmZTk7Ym94LXNoYWRvdzpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbiAuc3ZnLWljb257d2lkdGg6MjBweDtoZWlnaHQ6MjBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIG5hdiBidXR0b24ubmV4dC1ncm91cHtyaWdodDowO3RvcDowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBuYXYgYnV0dG9uLnByZXYtZ3JvdXB7bGVmdDowO3RvcDowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIC5mLXBhbmVse3ZlcnRpY2FsLWFsaWduOnRvcDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMDAlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4OjEgMCAxMDAlO2ZsZXg6MSAwIDEwMCV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAuZi1wYW5lbD5saTpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAwIDVweCA1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAucGFuZWxze3doaXRlLXNwYWNlOm5vd3JhcDt0cmFuc2l0aW9uLXByb3BlcnR5OnRyYW5zZm9ybSxoZWlnaHQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouMTVzO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3dpbGwtY2hhbmdlOnRyYW5zZm9ybTstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvd30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIC5wYW5lbC1sYWJlbHN7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojZmZmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIC5wYW5lbC1sYWJlbHMgZGl2e3RyYW5zaXRpb246dHJhbnNmb3JtIC4xNXMgZWFzZS1pbi1vdXQ7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtO3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsLW5hdntoZWlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsLW5hdiBidXR0b257ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAudGFiYmVkLXBhbmVscyAucGFuZWxze3RyYW5zaXRpb246bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLmYtcGFuZWx7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAudGFiYmVkLXBhbmVscyAucGFuZWwtbGFiZWxzIGRpdnstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0Oy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXA7LW1zLWZsZXgtbGluZS1wYWNrOnN0cmV0Y2g7YWxpZ24tY29udGVudDpzdHJldGNoOy1tcy1mbGV4LWFsaWduOnN0cmV0Y2g7YWxpZ24taXRlbXM6c3RyZXRjaDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsLWxhYmVscyBoNXstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleDoxO2ZsZXg6MTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Ym94LXNoYWRvdzppbnNldCAwIC0xcHggNnB4ICM5OTl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1sYWJlbHMgaDUuYWN0aXZlLXRhYntjb2xvcjojMDAwO2JveC1zaGFkb3c6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS13cmFwe3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OnJpZ2h0O3dpZHRoOmNhbGMoNzQlIC0gNXB4KTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dHJhbnNpdGlvbjp3aWR0aCAuMjVzO21hcmdpbi1yaWdodDo1cHh9QG1lZGlhIChtYXgtd2lkdGg6NDgxcHgpey5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcHt3aWR0aDpjYWxjKDEwMCUgLSA1MHB4KX19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS13cmFwIC5zdGFnZXttaW4taGVpZ2h0OjQ1MHB4O3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3I7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXMsMzMzbXM7Ym9yZGVyOjAgZGFzaGVkIHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMCk7cGFkZGluZy1sZWZ0OjIzcHg7cGFkZGluZy1ib3R0b206MTVweDtvdmVyZmxvdzp2aXNpYmxlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2UuZW1wdHktc3RhZ2Vze2JvcmRlcjozcHggZGFzaGVkICNjY2M7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMjUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2UucmVtb3ZpbmctYWxsLWZpZWxkcyAuc3RhZ2Utcm93c3t0cmFuc2l0aW9uOm1hcmdpbi10b3AgLjI1cyBlYXNlLWlufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcC5lZGl0aW5nLXN0YWdlIC5mb3JtZW8tc2V0dGluZ3N7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAuZWRpdGluZy1zdGFnZSAuc3RhZ2V7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuZi1maWVsZC1ncm91cHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9ZW1wdHktXVtjbGFzcyo9ZWRpdGluZy1dOmFmdGVye29wYWNpdHk6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1lbXB0eS1dOmFmdGVye29wYWNpdHk6MTtmb250LXNpemU6MjRweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO2NvbG9yOiM5OTk7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dDt3aWxsLWNoYW5nZTpvcGFjaXR5O3RleHQtYWxpZ246Y2VudGVyO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtjb250ZW50OmF0dHIoZGF0YS1ob3Zlci10YWcpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLXNldHRpbmdze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9sc3tmbG9hdDpyaWdodDt3aWR0aDoyNiU7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLnB1bGwtbGVmdCAuZm9ybS1hY3Rpb25ze2Zsb2F0OmxlZnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpbHRlcmVkLXRlcm17YmFja2dyb3VuZC1jb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4IDNweCAwIDA7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1ib3R0b206MCBub25lO3dpZHRoOmNhbGMoMTAwJSAtIDJweCl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgbmF2e3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MCAyNHB4O292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgaDV7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MjJweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjI0cHg7Y29sb3I6IzAwMDtoZWlnaHQ6Y2FsYygxMDAlICsgMXB4KTtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MDttYXJnaW46MDtib3JkZXItY29sb3I6I2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9uLm5leHQtZ3JvdXB7cmlnaHQ6MDt0b3A6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIG5hdiBidXR0b24ucHJldi1ncm91cHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVscy13cmFwe2ZvbnQtc2l6ZTouODVlbTtsaW5lLWhlaWdodDoxLjhlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAucGFuZWwtbGFiZWxze2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2N9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVsLWNvdW50LTF7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5wYW5lbC1uYXZ7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5jb250cm9sLWdyb3VwIGxpOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6NnB4IDZweCAwIDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXB7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cD5saTpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5jb250cm9sLWdyb3VwPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgNnB4IDZweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAucGFuZWwtbmF2e2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLmZpbHRlcmVkIC5jb250cm9sLWdyb3VwPmxpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cDpsYXN0LWNoaWxkPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgMCAzcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXBze3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHN7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojZmZmO292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgZGl2e3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgaDR7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25ze2Zsb2F0OnJpZ2h0O21hcmdpbi10b3A6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLnN2Zy1pY29ue2ZpbGw6IzY2NjtkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb246aG92ZXJ7ZmlsbDojMDAwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLmNsZWFyLWZvcm06aG92ZXIsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2NvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5jbGVhci1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn1AbWVkaWEgKG1heC13aWR0aDo0ODFweCl7LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHN7d2lkdGg6NDVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cHt0ZXh0LWluZGVudDotOTk5OXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnN7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZmxvYXQ6bm9uZTttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucz5idXR0b24rYnV0dG9ue21hcmdpbi10b3A6LTFweDttYXJnaW4tbGVmdDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnM+YnV0dG9ue21heC13aWR0aDoxMDAlO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjA7bGluZS1oZWlnaHQ6MDt3aWR0aDoxMDAlO2Zsb2F0Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjNweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpe2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5nbHlwaGljb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLXJpZ2h0OjEwcHh9fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIC5zdmctaWNvbntwb2ludGVyLWV2ZW50czpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7cmlnaHQ6MDtsZWZ0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cHtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbnstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXA+YnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cD5idXR0b246Zmlyc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwK2J1dHRvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCBidXR0b24rYnV0dG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIGJ1dHRvbitidXR0b257bWFyZ2luLXJpZ2h0Oi0xcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9uc3tmbG9hdDpsZWZ0fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utd3JhcHtmbG9hdDpyaWdodH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXdyYXAgLnN0YWdle3BhZGRpbmctbGVmdDo1cHg7cGFkZGluZy1yaWdodDoyM3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utcm93czpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo2cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtyaWdodDowO2xlZnQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdy5lZGl0aW5nLXJvdzpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmJlZm9yZXtib3JkZXItbGVmdC13aWR0aDoxcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmVtcHR5LXJvd3M6YWZ0ZXJ7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5yb3ctYWN0aW9uc3tyaWdodDotMjNweDtsZWZ0OmF1dG87Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjZweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9uc3t0ZXh0LWFsaWduOmxlZnQ7bGVmdDowO3JpZ2h0OmF1dG87Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGV7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgyKXtsZWZ0OjI0cHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDMpe2xlZnQ6NDhweDtyaWdodDphdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNCl7bGVmdDo3MnB4O3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg1KXtsZWZ0Ojk2cHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDYpe2xlZnQ6MTIwcHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2xlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkIC5maWVsZC1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2UtZmllbGRzLmhvdmVyaW5nLWZpZWxkIC5maWVsZC1hY3Rpb25ze2JveC1zaGFkb3c6MXB4IDFweCAxcHggI2NjYztib3JkZXItd2lkdGg6MXB4IDAgMCAxcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvd3ttYXJnaW4tYm90dG9tOjFlbTstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0Oy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXA7LW1zLWZsZXgtbGluZS1wYWNrOnN0cmV0Y2g7YWxpZ24tY29udGVudDpzdHJldGNoOy1tcy1mbGV4LWFsaWduOnN0cmV0Y2g7YWxpZ24taXRlbXM6c3RyZXRjaDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6NnB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnN9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvdy53aWxsLXJlbW92ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjE3LDgzLDc5LC41KTtib3gtc2hhZG93Omluc2V0IDAgMCAzcHggMXB4ICNkOTUzNGZ9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3VwLXdyYXA6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3Vwe3Bvc2l0aW9uOnJlbGF0aXZlfS5mb3JtZW8uZm9ybWVvLXJlbmRlciAuZi1pbnB1dC1ncm91cDpmaXJzdC1jaGlsZCAucmVtb3ZlLWlucHV0LWdyb3Vwe2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmFkZC1pbnB1dC1ncm91cHtmbG9hdDpyaWdodDttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXB7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMzJweDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTt3aWR0aDozMnB4O2hlaWdodDozMnB4O3RvcDo1MCU7Ym9yZGVyOjAgbm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O291dGxpbmU6MCBub25lO2xpbmUtaGVpZ2h0OjB9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXA6aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2Q5NTM0Zn0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnJlbW92ZS1pbnB1dC1ncm91cCAuc3ZnLWljb257cG9pbnRlci1ldmVudHM6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmZvcm0tY2hlY2staW5wdXQ6b25seS1jaGlsZHtwb3NpdGlvbjphYnNvbHV0ZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnN2Zy1pY29ue21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmYtcmVuZGVyLWNvbHVtbntwYWRkaW5nOjAgNXB4O2Zsb2F0OmxlZnQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWF4LXdpZHRoOm5vbmU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6YXV0bztmbGV4OmF1dG99LmZpZWxkLWNvbnRyb2wgLnN2Zy1pY29ue3BvaW50ZXItZXZlbnRzOm5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9jc3MtbG9hZGVyP3tcIm1pbmltaXplXCI6dHJ1ZSxcInNvdXJjZU1hcHNcIjp0cnVlfSEvVXNlcnMva3Vqb2hubG4vR2l0aHViL2Zvcm1lb2Rldi9+L3Bvc3Rjc3MtbG9hZGVyP3tcInBsdWdpbnNcIjpbbnVsbF19IS9Vc2Vycy9rdWpvaG5sbi9HaXRodWIvZm9ybWVvZGV2L34vc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz97XCJzb3VyY2VNYXBzXCI6dHJ1ZX0hL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvc3JjL3Nhc3MvZm9ybWVvLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push("@media " + item[2] + "{" + item[1] + "}");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcz8wYTA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9rdWpvaG5sbi9HaXRodWIvZm9ybWVvZGV2L34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../~/css-loader??ref--3-2!../../~/postcss-loader??ref--3-3!../../~/sass-loader/lib/loader.js??ref--3-4!./formeo.scss */ 17);\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../~/style-loader/addStyles.js */ 21)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss", function() {\n\t\t\tvar newContent = require("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss");\n\t\t\tif(typeof newContent === \'string\') newContent = [[module.id, newContent, \'\']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvc3JjL3Nhc3MvZm9ybWVvLnNjc3M/YTU5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0yIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tMy00IS4vZm9ybWVvLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0yIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tMy00IS4vZm9ybWVvLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMiEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTMtNCEuL2Zvcm1lby5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMva3Vqb2hubG4vR2l0aHViL2Zvcm1lb2Rldi9zcmMvc2Fzcy9mb3JtZW8uc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don\'t break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn\'t define any globals.  It\'s inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error(\'setTimeout has not been defined\');\n}\nfunction defaultClearTimeout () {\n    throw new Error(\'clearTimeout has not been defined\');\n}\n(function () {\n    try {\n        if (typeof setTimeout === \'function\') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \'function\') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn\'t available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn\'t available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = \'browser\';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = \'\'; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error(\'process.binding is not supported\');\n};\n\nprocess.cwd = function () { return \'/\' };\nprocess.chdir = function (dir) {\n    throw new Error(\'process.chdir is not supported\');\n};\nprocess.umask = function() { return 0; };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9wcm9jZXNzL2Jyb3dzZXIuanM/YWRkMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName("head")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === "undefined") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === "undefined") options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === "top") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === "bottom") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement("style");\n\tstyleElement.type = "text/css";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement("link");\n\tlinkElement.rel = "stylesheet";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute("media", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzPzA5ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcblx0XHR2YXIgbWVtbztcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiBtZW1vO1xuXHRcdH07XG5cdH0sXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdChzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cdH0pLFxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblx0fSksXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRpZihuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcblx0XHR9XG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0aWYoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcblxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('\nexports = module.exports = function() {\n\tvar ret = \'\', value;\n\tfor (var i = 0; i < 32; i++) {\n\t\tvalue = exports.random() * 16 | 0;\n\t\t// Insert the hypens\n\t\tif (i > 4 && i < 21 && ! (i % 4)) {\n\t\t\tret += \'-\';\n\t\t}\n\t\t// Add the next random character\n\t\tret += (\n\t\t\t(i === 12) ? 4 : (\n\t\t\t\t(i === 16) ? (value & 3 | 8) : value\n\t\t\t)\n\t\t).toString(16);\n\t}\n\treturn ret;\n};\n\nvar uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;\nexports.isUUID = function(uuid) {\n\treturn uuidRegex.test(uuid);\n};\n\nexports.random = function() {\n\treturn Math.random();\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi91dWlkLXY0L2luZGV4LmpzPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJldCA9ICcnLCB2YWx1ZTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG5cdFx0dmFsdWUgPSBleHBvcnRzLnJhbmRvbSgpICogMTYgfCAwO1xuXHRcdC8vIEluc2VydCB0aGUgaHlwZW5zXG5cdFx0aWYgKGkgPiA0ICYmIGkgPCAyMSAmJiAhIChpICUgNCkpIHtcblx0XHRcdHJldCArPSAnLSc7XG5cdFx0fVxuXHRcdC8vIEFkZCB0aGUgbmV4dCByYW5kb20gY2hhcmFjdGVyXG5cdFx0cmV0ICs9IChcblx0XHRcdChpID09PSAxMikgPyA0IDogKFxuXHRcdFx0XHQoaSA9PT0gMTYpID8gKHZhbHVlICYgMyB8IDgpIDogdmFsdWVcblx0XHRcdClcblx0XHQpLnRvU3RyaW5nKDE2KTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufTtcblxudmFyIHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tNFswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvO1xuZXhwb3J0cy5pc1VVSUQgPSBmdW5jdGlvbih1dWlkKSB7XG5cdHJldHVybiB1dWlkUmVnZXgudGVzdCh1dWlkKTtcbn07XG5cbmV4cG9ydHMucmFuZG9tID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBNYXRoLnJhbmRvbSgpO1xufTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2t1am9obmxuL0dpdGh1Yi9mb3JtZW9kZXYvfi91dWlkLXY0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(t,g,e){e(11),t.exports=e(10)}]);